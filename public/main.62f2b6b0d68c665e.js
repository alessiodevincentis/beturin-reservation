(self.webpackChunkbeturin_reservation=self.webpackChunkbeturin_reservation||[]).push([[179],{2011:(rt,De,k)=>{"use strict";k.d(De,{hO:()=>Le,xv:()=>ae,Dh:()=>ne,GT:()=>de,cc:()=>Ee,on:()=>B,pX:()=>te});var g=k(5e3),K=k(127),P=k(5813);rt=k.hmd(rt);const oe=["ngOnDestroy"],te=(G,se,we,fe={})=>new Proxy(G,{get:(je,Ae)=>we.runOutsideAngular(()=>{var $e;if(G[Ae])return(null===($e=null==fe?void 0:fe.spy)||void 0===$e?void 0:$e.get)&&fe.spy.get(Ae,G[Ae]),G[Ae];if(oe.indexOf(Ae)>-1)return()=>{};const Ze=se.toPromise().then(at=>{const X=at&&at[Ae];return"function"==typeof X?X.bind(at):X&&X.then?X.then(ue=>we.run(()=>ue)):we.run(()=>X)});return new Proxy(()=>{},{get:(at,X)=>Ze[X],apply:(at,X,ue)=>Ze.then(ge=>{var ye;const Oe=ge&&ge(...ue);return(null===(ye=null==fe?void 0:fe.spy)||void 0===ye?void 0:ye.apply)&&fe.spy.apply(Ae,ue,Oe),Oe})})})}),de=(G,se)=>{se.forEach(we=>{Object.getOwnPropertyNames(we.prototype||we).forEach(fe=>{Object.defineProperty(G.prototype,fe,Object.getOwnPropertyDescriptor(we.prototype||we,fe))})})};class re{constructor(se){return se}}const ne=new g.OlP("angularfire2.app.options"),ae=new g.OlP("angularfire2.app.name");function B(G,se,we){const je="object"==typeof we&&we||{};je.name=je.name||"string"==typeof we&&we||"[DEFAULT]";const $e=K.Z.apps.filter(Ze=>Ze&&Ze.name===je.name)[0]||se.runOutsideAngular(()=>K.Z.initializeApp(G,je));try{JSON.stringify(G)!==JSON.stringify($e.options)&&V("error",`${$e.name} Firebase App already initialized with different options${rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ze){}return new re($e)}const V=(G,...se)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[G](...se)},Y={provide:re,useFactory:B,deps:[ne,g.R0b,[new g.FiY,ae]]};let Le=(()=>{class G{constructor(we){K.Z.registerVersion("angularfire",P.q4.full,"core"),K.Z.registerVersion("angularfire",P.q4.full,"app-compat"),K.Z.registerVersion("angular",g.q4F.full,we.toString())}static initializeApp(we,fe){return{ngModule:G,providers:[{provide:ne,useValue:we},{provide:ae,useValue:fe}]}}}return G.\u0275fac=function(we){return new(we||G)(g.LFG(g.Lbi))},G.\u0275mod=g.oAB({type:G}),G.\u0275inj=g.cJS({providers:[Y]}),G})();function Ee(G,se,we,fe,je){const[,Ae,$e]=globalThis.\u0275AngularfireInstanceCache.find(Ze=>Ze[0]===G)||[];if(Ae)return function(G,se){try{return G.toString()===se.toString()}catch(we){return G===se}}(je,$e)||(ie("error",`${se} was already initialized on the ${we} Firebase App with different settings.${ke?" You may need to reload as Firebase is not HMR aware.":""}`),ie("warn",{is:je,was:$e})),Ae;{const Ze=fe();return globalThis.\u0275AngularfireInstanceCache.push([G,Ze,je]),Ze}}const ke=!!rt.hot,ie=(G,...se)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[G](...se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(rt,De,k)=>{"use strict";k.d(De,{q4:()=>sd,iC:()=>rs,HU:()=>Pc,vb:()=>Zh,JM:()=>od});var g=k(5e3),K=k(5867),P=k(5861),oe=k(9681),te=k(2090),de=k(4859),re=k(1877),ne=k(2940);const ae="@firebase/installations",B="0.5.4",Y=`w:${B}`,Le="FIS_v2",se=new te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function we(D){return D instanceof te.ZR&&D.code.includes("request-failed")}function fe({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function je(D){return{token:D.token,requestStatus:2,expiresIn:ge(D.expiresIn),creationTime:Date.now()}}function Ae(D,b){return $e.apply(this,arguments)}function $e(){return($e=(0,P.Z)(function*(D,b){const L=(yield b.json()).error;return se.create("request-failed",{requestName:D,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Ze({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function at(D,{refreshToken:b}){const M=Ze(D);return M.append("Authorization",function(D){return`${Le} ${D}`}(b)),M}function X(D){return ue.apply(this,arguments)}function ue(){return(ue=(0,P.Z)(function*(D){const b=yield D();return b.status>=500&&b.status<600?D():b})).apply(this,arguments)}function ge(D){return Number(D.replace("s","000"))}function Oe(D,b){return le.apply(this,arguments)}function le(){return(le=(0,P.Z)(function*(D,{fid:b}){const M=fe(D),q={method:"POST",headers:Ze(D),body:JSON.stringify({fid:b,authVersion:Le,appId:D.appId,sdkVersion:Y})},be=yield X(()=>fetch(M,q));if(be.ok){const We=yield be.json();return{fid:We.fid||b,registrationStatus:2,refreshToken:We.refreshToken,authToken:je(We.authToken)}}throw yield Ae("Create Installation",be)})).apply(this,arguments)}function _t(D){return new Promise(b=>{setTimeout(b,D)})}const Vn=/^[cdef][\w-]{21}$/;function ht(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const M=function(D){return function(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Vn.test(M)?M:""}catch(D){return""}}function Xt(D){return`${D.appName}!${D.appId}`}const Ir=new Map;function Vr(D,b){const M=Xt(D);wn(M,b),function(D,b){const M=(!Rt&&"BroadcastChannel"in self&&(Rt=new BroadcastChannel("[Firebase] FID Change"),Rt.onmessage=D=>{wn(D.data.key,D.data.fid)}),Rt);M&&M.postMessage({key:D,fid:b}),0===Ir.size&&Rt&&(Rt.close(),Rt=null)}(M,b)}function wn(D,b){const M=Ir.get(D);if(M)for(const L of M)L(b)}let Rt=null;const Te="firebase-installations-store";let $n=null;function Rn(){return $n||($n=(0,ne.openDb)("firebase-installations-database",1,D=>{0===D.oldVersion&&D.createObjectStore(Te)})),$n}function ct(D,b){return kt.apply(this,arguments)}function kt(){return(kt=(0,P.Z)(function*(D,b){const M=Xt(D),Z=(yield Rn()).transaction(Te,"readwrite"),q=Z.objectStore(Te),be=yield q.get(M);return yield q.put(b,M),yield Z.complete,(!be||be.fid!==b.fid)&&Vr(D,b.fid),b})).apply(this,arguments)}function ri(D){return Br.apply(this,arguments)}function Br(){return(Br=(0,P.Z)(function*(D){const b=Xt(D),L=(yield Rn()).transaction(Te,"readwrite");yield L.objectStore(Te).delete(b),yield L.complete})).apply(this,arguments)}function ot(D,b){return lt.apply(this,arguments)}function lt(){return(lt=(0,P.Z)(function*(D,b){const M=Xt(D),Z=(yield Rn()).transaction(Te,"readwrite"),q=Z.objectStore(Te),be=yield q.get(M),We=b(be);return void 0===We?yield q.delete(M):yield q.put(We,M),yield Z.complete,We&&(!be||be.fid!==We.fid)&&Vr(D,We.fid),We})).apply(this,arguments)}function Tt(D){return St.apply(this,arguments)}function St(){return(St=(0,P.Z)(function*(D){let b;const M=yield ot(D,L=>{const Z=jr(L),q=jt(D,Z);return b=q.registrationPromise,q.installationEntry});return""===M.fid?{installationEntry:yield b}:{installationEntry:M,registrationPromise:b}})).apply(this,arguments)}function jr(D){return pt(D||{fid:ht(),registrationStatus:0})}function jt(D,b){if(0===b.registrationStatus){if(!navigator.onLine)return{installationEntry:b,registrationPromise:Promise.reject(se.create("app-offline"))};const M={fid:b.fid,registrationStatus:1,registrationTime:Date.now()},L=function(D,b){return st.apply(this,arguments)}(D,M);return{installationEntry:M,registrationPromise:L}}return 1===b.registrationStatus?{installationEntry:b,registrationPromise:cc(D)}:{installationEntry:b}}function st(){return(st=(0,P.Z)(function*(D,b){try{return ct(D,yield Oe(D,b))}catch(M){throw we(M)&&409===M.customData.serverCode?yield ri(D):yield ct(D,{fid:b.fid,registrationStatus:0}),M}})).apply(this,arguments)}function cc(D){return ms.apply(this,arguments)}function ms(){return(ms=(0,P.Z)(function*(D){let b=yield Ht(D);for(;1===b.registrationStatus;)yield _t(100),b=yield Ht(D);if(0===b.registrationStatus){const{installationEntry:M,registrationPromise:L}=yield Tt(D);return L||M}return b})).apply(this,arguments)}function Ht(D){return ot(D,b=>{if(!b)throw se.create("installation-not-found");return pt(b)})}function pt(D){return function(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function lc(D,b){return $.apply(this,arguments)}function $(){return($=(0,P.Z)(function*({appConfig:D,platformLoggerProvider:b},M){const L=F(D,M),Z=at(D,M),q=b.getImmediate({optional:!0});q&&Z.append("x-firebase-client",q.getPlatformInfoString());const We={method:"POST",headers:Z,body:JSON.stringify({installation:{sdkVersion:Y}})},Ve=yield X(()=>fetch(L,We));if(Ve.ok)return je(yield Ve.json());throw yield Ae("Generate Auth Token",Ve)})).apply(this,arguments)}function F(D,{fid:b}){return`${fe(D)}/${b}/authTokens:generate`}function H(D){return me.apply(this,arguments)}function me(){return(me=(0,P.Z)(function*(D,b=!1){let M;const L=yield ot(D.appConfig,q=>{if(!mn(q))throw se.create("not-registered");const be=q.authToken;if(!b&&$r(be))return q;if(1===be.requestStatus)return M=ee(D,b),q;{if(!navigator.onLine)throw se.create("app-offline");const We=Xn(q);return M=qt(D,We),We}});return M?yield M:L.authToken})).apply(this,arguments)}function ee(D,b){return ze.apply(this,arguments)}function ze(){return(ze=(0,P.Z)(function*(D,b){let M=yield ut(D.appConfig);for(;1===M.authToken.requestStatus;)yield _t(100),M=yield ut(D.appConfig);const L=M.authToken;return 0===L.requestStatus?H(D,b):L})).apply(this,arguments)}function ut(D){return ot(D,b=>{if(!mn(b))throw se.create("not-registered");return function(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(b.authToken)?Object.assign(Object.assign({},b),{authToken:{requestStatus:0}}):b})}function qt(D,b){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,P.Z)(function*(D,b){try{const M=yield lc(D,b),L=Object.assign(Object.assign({},b),{authToken:M});return yield ct(D.appConfig,L),M}catch(M){if(!we(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const L=Object.assign(Object.assign({},b),{authToken:{requestStatus:0}});yield ct(D.appConfig,L)}else yield ri(D.appConfig);throw M}})).apply(this,arguments)}function mn(D){return void 0!==D&&2===D.registrationStatus}function $r(D){return 2===D.requestStatus&&!function(D){const b=Date.now();return b<D.creationTime||D.creationTime+D.expiresIn<b+36e5}(D)}function Xn(D){const b={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:b})}function Wo(){return(Wo=(0,P.Z)(function*(D){const b=D,{installationEntry:M,registrationPromise:L}=yield Tt(b.appConfig);return L?L.catch(console.error):H(b).catch(console.error),M.fid})).apply(this,arguments)}function Zs(){return(Zs=(0,P.Z)(function*(D,b=!1){const M=D;return yield dc(M.appConfig),(yield H(M,b)).token})).apply(this,arguments)}function dc(D){return tn.apply(this,arguments)}function tn(){return(tn=(0,P.Z)(function*(D){const{registrationPromise:b}=yield Tt(D);b&&(yield b)})).apply(this,arguments)}function bn(D){return se.create("missing-app-config-values",{valueName:D})}const Vl="installations";(0,oe._registerComponent)(new de.wA(Vl,D=>{const b=D.getProvider("app").getImmediate(),M=function(D){if(!D||!D.options)throw bn("App Configuration");if(!D.name)throw bn("App Name");const b=["projectId","apiKey","appId"];for(const M of b)if(!D.options[M])throw bn(M);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(b);return{app:b,appConfig:M,platformLoggerProvider:(0,oe._getProvider)(b,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,oe._registerComponent)(new de.wA("installations-internal",D=>{const b=D.getProvider("app").getImmediate(),M=(0,oe._getProvider)(b,Vl).getImmediate();return{getId:()=>function(D){return Wo.apply(this,arguments)}(M),getToken:Z=>function(D){return Zs.apply(this,arguments)}(M,Z)}},"PRIVATE")),(0,oe.registerVersion)(ae,B),(0,oe.registerVersion)(ae,B,"esm2017");const En="@firebase/remote-config",On=new te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ah{constructor(b,M,L,Z){this.client=b,this.storage=M,this.storageCache=L,this.logger=Z}isCachedDataFresh(b,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-M,Z=L<=b;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${b}. Is cache hit: ${Z}.`),Z}fetch(b){var M=this;return(0,P.Z)(function*(){const[L,Z]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Z&&M.isCachedDataFresh(b.cacheMaxAgeMillis,L))return Z;b.eTag=Z&&Z.eTag;const q=yield M.client.fetch(b),be=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===q.status&&be.push(M.storage.setLastSuccessfulFetchResponse(q)),yield Promise.all(be),q})()}}function Lp(D=navigator){return D.languages&&D.languages[0]||D.language}class ui{constructor(b,M,L,Z,q,be){this.firebaseInstallations=b,this.sdkVersion=M,this.namespace=L,this.projectId=Z,this.apiKey=q,this.appId=be}fetch(b){var M=this;return(0,P.Z)(function*(){const[L,Z]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),be=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,We={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":b.eTag||"*"},Ve={sdk_version:M.sdkVersion,app_instance_id:L,app_instance_id_token:Z,app_id:M.appId,language_code:Lp()},At={method:"POST",headers:We,body:JSON.stringify(Ve)},Gt=fetch(be,At),xr=new Promise((Ni,is)=>{b.signal.addEventListener(()=>{const oo=new Error("The operation was aborted.");oo.name="AbortError",is(oo)})});let Mr;try{yield Promise.race([Gt,xr]),Mr=yield Gt}catch(Ni){let is="fetch-client-network";throw"AbortError"===Ni.name&&(is="fetch-timeout"),On.create(is,{originalErrorMessage:Ni.message})}let fn=Mr.status;const rr=Mr.headers.get("ETag")||void 0;let so,Zr;if(200===Mr.status){let Ni;try{Ni=yield Mr.json()}catch(is){throw On.create("fetch-client-parse",{originalErrorMessage:is.message})}so=Ni.entries,Zr=Ni.state}if("INSTANCE_STATE_UNSPECIFIED"===Zr?fn=500:"NO_CHANGE"===Zr?fn=304:("NO_TEMPLATE"===Zr||"EMPTY_CONFIG"===Zr)&&(so={}),304!==fn&&200!==fn)throw On.create("fetch-status",{httpStatus:fn});return{status:fn,eTag:rr,config:so}})()}}class Bl{constructor(b,M){this.client=b,this.storage=M}fetch(b){var M=this;return(0,P.Z)(function*(){const L=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(b,L)})()}attemptFetch(b,{throttleEndTimeMillis:M,backoffCount:L}){var Z=this;return(0,P.Z)(function*(){yield function(D,b){return new Promise((M,L)=>{const Z=Math.max(b-Date.now(),0),q=setTimeout(M,Z);D.addEventListener(()=>{clearTimeout(q),L(On.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}(b.signal,M);try{const q=yield Z.client.fetch(b);return yield Z.storage.deleteThrottleMetadata(),q}catch(q){if(!function(D){if(!(D instanceof te.ZR&&D.customData))return!1;const b=Number(D.customData.httpStatus);return 429===b||500===b||503===b||504===b}(q))throw q;const be={throttleEndTimeMillis:Date.now()+(0,te.$s)(L),backoffCount:L+1};return yield Z.storage.setThrottleMetadata(be),Z.attemptFetch(b,be)}})()}}class Fp{constructor(b,M,L,Z,q){this.app=b,this._client=M,this._storageCache=L,this._storage=Z,this._logger=q,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Yo(D,b){const M=D.target.error||void 0;return On.create(b,{originalErrorMessage:M&&M.message})}const vo="app_namespace_store";class Up{constructor(b,M,L,Z=function(){return new Promise((D,b)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=L=>{b(Yo(L,"storage-open"))},M.onsuccess=L=>{D(L.target.result)},M.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(vo,{keyPath:"compositeKey"})}}catch(M){b(On.create("storage-open",{originalErrorMessage:M}))}})}()){this.appId=b,this.appName=M,this.namespace=L,this.openDbPromise=Z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(b){return this.set("last_fetch_status",b)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(b){return this.set("last_successful_fetch_timestamp_millis",b)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(b){return this.set("last_successful_fetch_response",b)}getActiveConfig(){return this.get("active_config")}setActiveConfig(b){return this.set("active_config",b)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(b){return this.set("active_config_etag",b)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(b){return this.set("throttle_metadata",b)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(b){var M=this;return(0,P.Z)(function*(){const L=yield M.openDbPromise;return new Promise((Z,q)=>{const We=L.transaction([vo],"readonly").objectStore(vo),Ve=M.createCompositeKey(b);try{const At=We.get(Ve);At.onerror=Gt=>{q(Yo(Gt,"storage-get"))},At.onsuccess=Gt=>{const xr=Gt.target.result;Z(xr?xr.value:void 0)}}catch(At){q(On.create("storage-get",{originalErrorMessage:At&&At.message}))}})})()}set(b,M){var L=this;return(0,P.Z)(function*(){const Z=yield L.openDbPromise;return new Promise((q,be)=>{const Ve=Z.transaction([vo],"readwrite").objectStore(vo),At=L.createCompositeKey(b);try{const Gt=Ve.put({compositeKey:At,value:M});Gt.onerror=xr=>{be(Yo(xr,"storage-set"))},Gt.onsuccess=()=>{q()}}catch(Gt){be(On.create("storage-set",{originalErrorMessage:Gt&&Gt.message}))}})})()}delete(b){var M=this;return(0,P.Z)(function*(){const L=yield M.openDbPromise;return new Promise((Z,q)=>{const We=L.transaction([vo],"readwrite").objectStore(vo),Ve=M.createCompositeKey(b);try{const At=We.delete(Ve);At.onerror=Gt=>{q(Yo(Gt,"storage-delete"))},At.onsuccess=()=>{Z()}}catch(At){q(On.create("storage-delete",{originalErrorMessage:At&&At.message}))}})})()}createCompositeKey(b){return[this.appId,this.appName,this.namespace,b].join()}}class ql{constructor(b){this.storage=b}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var b=this;return(0,P.Z)(function*(){const M=b.storage.getLastFetchStatus(),L=b.storage.getLastSuccessfulFetchTimestampMillis(),Z=b.storage.getActiveConfig(),q=yield M;q&&(b.lastFetchStatus=q);const be=yield L;be&&(b.lastSuccessfulFetchTimestampMillis=be);const We=yield Z;We&&(b.activeConfig=We)})()}setLastFetchStatus(b){return this.lastFetchStatus=b,this.storage.setLastFetchStatus(b)}setLastSuccessfulFetchTimestampMillis(b){return this.lastSuccessfulFetchTimestampMillis=b,this.storage.setLastSuccessfulFetchTimestampMillis(b)}setActiveConfig(b){return this.activeConfig=b,this.storage.setActiveConfig(b)}}function Qo(){return gc.apply(this,arguments)}function gc(){return(gc=(0,P.Z)(function*(){if(!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(D){return!1}})).apply(this,arguments)}(0,oe._registerComponent)(new de.wA("remote-config",function(b,{instanceIdentifier:M}){const L=b.getProvider("app").getImmediate(),Z=b.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw On.create("registration-window");if(!(0,te.hl)())throw On.create("indexed-db-unavailable");const{projectId:q,apiKey:be,appId:We}=L.options;if(!q)throw On.create("registration-project-id");if(!be)throw On.create("registration-api-key");if(!We)throw On.create("registration-app-id");const Ve=new Up(We,L.name,M=M||"firebase"),At=new ql(Ve),Gt=new re.Yd(En);Gt.logLevel=re.in.ERROR;const xr=new ui(Z,oe.SDK_VERSION,M,q,be,We),Mr=new Bl(xr,Ve),fn=new Ah(Mr,Ve,At,Gt),rr=new Fp(L,fn,At,Ve,Gt);return function(D){const b=(0,te.m9)(D);b._initializePromise||(b._initializePromise=b._storageCache.loadFromStorage().then(()=>{b._isInitializationComplete=!0}))}(rr),rr},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(En,"0.3.3"),(0,oe.registerVersion)(En,"0.3.3","esm2017");const Zl="/firebase-messaging-sw.js",Bp="/firebase-cloud-messaging-push-scope",Ci="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ws="google.c.a.c_id",wo="google.c.a.c_l",Es="google.c.a.ts",yc="google.c.a.e";var tr=(()=>{return(D=tr||(tr={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",tr;var D})();function Qi(D){const b=new Uint8Array(D);return btoa(String.fromCharCode(...b)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Jo(D){const M=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(M),Z=new Uint8Array(L.length);for(let q=0;q<L.length;++q)Z[q]=L.charCodeAt(q);return Z}const zl="fcm_token_details_db",Wl="fcm_token_object_Store";function _c(D){return ru.apply(this,arguments)}function ru(){return ru=(0,P.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(q=>q.name).includes(zl))return null;let b=null;return(yield(0,ne.openDb)(zl,5,function(){var L=(0,P.Z)(function*(Z){var q;if(Z.oldVersion<2||!Z.objectStoreNames.contains(Wl))return;const be=Z.transaction.objectStore(Wl),We=yield be.index("fcmSenderId").get(D);if(yield be.clear(),We)if(2===Z.oldVersion){const Ve=We;if(!Ve.auth||!Ve.p256dh||!Ve.endpoint)return;b={token:Ve.fcmToken,createTime:null!==(q=Ve.createTime)&&void 0!==q?q:Date.now(),subscriptionOptions:{auth:Ve.auth,p256dh:Ve.p256dh,endpoint:Ve.endpoint,swScope:Ve.swScope,vapidKey:"string"==typeof Ve.vapidKey?Ve.vapidKey:Qi(Ve.vapidKey)}}}else if(3===Z.oldVersion){const Ve=We;b={token:Ve.fcmToken,createTime:Ve.createTime,subscriptionOptions:{auth:Qi(Ve.auth),p256dh:Qi(Ve.p256dh),endpoint:Ve.endpoint,swScope:Ve.swScope,vapidKey:Qi(Ve.vapidKey)}}}else if(4===Z.oldVersion){const Ve=We;b={token:Ve.fcmToken,createTime:Ve.createTime,subscriptionOptions:{auth:Qi(Ve.auth),p256dh:Qi(Ve.p256dh),endpoint:Ve.endpoint,swScope:Ve.swScope,vapidKey:Qi(Ve.vapidKey)}}}});return function(Z){return L.apply(this,arguments)}}())).close(),yield(0,ne.deleteDb)(zl),yield(0,ne.deleteDb)("fcm_vapid_details_db"),yield(0,ne.deleteDb)("undefined"),Rh(b)?b:null}),ru.apply(this,arguments)}function Rh(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:b}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof b.auth&&b.auth.length>0&&"string"==typeof b.p256dh&&b.p256dh.length>0&&"string"==typeof b.endpoint&&b.endpoint.length>0&&"string"==typeof b.swScope&&b.swScope.length>0&&"string"==typeof b.vapidKey&&b.vapidKey.length>0}const Wt="firebase-messaging-store";let vc=null;function Ks(){return vc||(vc=(0,ne.openDb)("firebase-messaging-database",1,D=>{0===D.oldVersion&&D.createObjectStore(Wt)})),vc}function Tn(D){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,P.Z)(function*(D){const b=Qs(D),L=yield(yield Ks()).transaction(Wt).objectStore(Wt).get(b);if(L)return L;{const Z=yield _c(D.appConfig.senderId);if(Z)return yield br(D,Z),Z}})).apply(this,arguments)}function br(D,b){return ci.apply(this,arguments)}function ci(){return(ci=(0,P.Z)(function*(D,b){const M=Qs(D),Z=(yield Ks()).transaction(Wt,"readwrite");return yield Z.objectStore(Wt).put(b,M),yield Z.complete,b})).apply(this,arguments)}function Cn(D){return iu.apply(this,arguments)}function iu(){return(iu=(0,P.Z)(function*(D){const b=Qs(D),L=(yield Ks()).transaction(Wt,"readwrite");yield L.objectStore(Wt).delete(b),yield L.complete})).apply(this,arguments)}function Qs({appConfig:D}){return D.appId}const Zt=new te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ji(D,b){return ea.apply(this,arguments)}function ea(){return(ea=(0,P.Z)(function*(D,b){const M=yield su(D),L=Eo(b),Z={method:"POST",headers:M,body:JSON.stringify(L)};let q;try{q=yield(yield fetch(Ke(D.appConfig),Z)).json()}catch(be){throw Zt.create("token-subscribe-failed",{errorInfo:be})}if(q.error)throw Zt.create("token-subscribe-failed",{errorInfo:q.error.message});if(!q.token)throw Zt.create("token-subscribe-no-token");return q.token})).apply(this,arguments)}function Xs(D,b){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,P.Z)(function*(D,b){const M=yield su(D),L=Eo(b.subscriptionOptions),Z={method:"PATCH",headers:M,body:JSON.stringify(L)};let q;try{q=yield(yield fetch(`${Ke(D.appConfig)}/${b.token}`,Z)).json()}catch(be){throw Zt.create("token-update-failed",{errorInfo:be})}if(q.error)throw Zt.create("token-update-failed",{errorInfo:q.error.message});if(!q.token)throw Zt.create("token-update-no-token");return q.token})).apply(this,arguments)}function ta(D,b){return Is.apply(this,arguments)}function Is(){return(Is=(0,P.Z)(function*(D,b){const L={method:"DELETE",headers:yield su(D)};try{const q=yield(yield fetch(`${Ke(D.appConfig)}/${b}`,L)).json();if(q.error)throw Zt.create("token-unsubscribe-failed",{errorInfo:q.error.message})}catch(Z){throw Zt.create("token-unsubscribe-failed",{errorInfo:Z})}})).apply(this,arguments)}function Ke({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function su(D){return na.apply(this,arguments)}function na(){return(na=(0,P.Z)(function*({appConfig:D,installations:b}){const M=yield b.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Eo({p256dh:D,auth:b,endpoint:M,vapidKey:L}){const Z={web:{endpoint:M,auth:b,p256dh:D}};return L!==Ci&&(Z.web.applicationPubKey=L),Z}const ra=6048e5;function ou(D){return au.apply(this,arguments)}function au(){return(au=(0,P.Z)(function*(D){const b=yield Ds(D.swRegistration,D.vapidKey),M={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:b.endpoint,auth:Qi(b.getKey("auth")),p256dh:Qi(b.getKey("p256dh"))},L=yield Tn(D.firebaseDependencies);if(L){if(uu(L.subscriptionOptions,M))return Date.now()>=L.createTime+ra?Ct(D,{token:L.token,createTime:Date.now(),subscriptionOptions:M}):L.token;try{yield ta(D.firebaseDependencies,L.token)}catch(Z){console.warn(Z)}return ln(D.firebaseDependencies,M)}return ln(D.firebaseDependencies,M)})).apply(this,arguments)}function Kl(D){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,P.Z)(function*(D){const b=yield Tn(D.firebaseDependencies);b&&(yield ta(D.firebaseDependencies,b.token),yield Cn(D.firebaseDependencies));const M=yield D.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function Ct(D,b){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,P.Z)(function*(D,b){try{const M=yield Xs(D.firebaseDependencies,b),L=Object.assign(Object.assign({},b),{token:M,createTime:Date.now()});return yield br(D.firebaseDependencies,L),M}catch(M){throw yield Kl(D),M}})).apply(this,arguments)}function ln(D,b){return ia.apply(this,arguments)}function ia(){return(ia=(0,P.Z)(function*(D,b){const L={token:yield Ji(D,b),createTime:Date.now(),subscriptionOptions:b};return yield br(D,L),L.token})).apply(this,arguments)}function Ds(D,b){return nr.apply(this,arguments)}function nr(){return(nr=(0,P.Z)(function*(D,b){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Jo(b)})})).apply(this,arguments)}function uu(D,b){return b.vapidKey===D.vapidKey&&b.endpoint===D.endpoint&&b.auth===D.auth&&b.p256dh===D.p256dh}function eo(D){const b={from:D.from,collapseKey:D.collapse_key,messageId:D.fcm_message_id};return function(D,b){if(!b.notification)return;D.notification={};const M=b.notification.title;M&&(D.notification.title=M);const L=b.notification.body;L&&(D.notification.body=L);const Z=b.notification.image;Z&&(D.notification.image=Z)}(b,D),function(D,b){!b.data||(D.data=b.data)}(b,D),function(D,b){if(!b.fcmOptions)return;D.fcmOptions={};const M=b.fcmOptions.link;M&&(D.fcmOptions.link=M);const L=b.fcmOptions.analytics_label;L&&(D.fcmOptions.analyticsLabel=L)}(b,D),b}function to(D){return"object"==typeof D&&!!D&&ws in D}function qn(D,b){const M=[];for(let L=0;L<D.length;L++)M.push(D.charAt(L)),L<b.length&&M.push(b.charAt(L));return M.join("")}function oa(D){return Zt.create("missing-app-config-values",{valueName:D})}qn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),qn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class bs{constructor(b,M,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Z=function(D){if(!D||!D.options)throw oa("App Configuration Object");if(!D.name)throw oa("App Name");const b=["projectId","apiKey","appId","messagingSenderId"],{options:M}=D;for(const L of b)if(!M[L])throw oa(L);return{appName:D.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(b);this.firebaseDependencies={app:b,appConfig:Z,installations:M,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Ai(D){return aa.apply(this,arguments)}function aa(){return(aa=(0,P.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Zl,{scope:Bp}),D.swRegistration.update().catch(()=>{})}catch(b){throw Zt.create("failed-service-worker-registration",{browserErrorMessage:b.message})}})).apply(this,arguments)}function ua(D,b){return ca.apply(this,arguments)}function ca(){return(ca=(0,P.Z)(function*(D,b){if(!b&&!D.swRegistration&&(yield Ai(D)),b||!D.swRegistration){if(!(b instanceof ServiceWorkerRegistration))throw Zt.create("invalid-sw-registration");D.swRegistration=b}})).apply(this,arguments)}function cu(D,b){return la.apply(this,arguments)}function la(){return(la=(0,P.Z)(function*(D,b){b?D.vapidKey=b:D.vapidKey||(D.vapidKey=Ci)})).apply(this,arguments)}function lu(){return(lu=(0,P.Z)(function*(D,b){if(!navigator)throw Zt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Zt.create("permission-blocked");return yield cu(D,null==b?void 0:b.vapidKey),yield ua(D,null==b?void 0:b.serviceWorkerRegistration),ou(D)})).apply(this,arguments)}function da(D,b,M){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,P.Z)(function*(D,b,M){const L=du(b);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:M[ws],message_name:M[wo],message_time:M[Es],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function du(D){switch(D){case tr.NOTIFICATION_CLICKED:return"notification_open";case tr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ha(){return(ha=(0,P.Z)(function*(D,b){const M=b.data;if(!M.isFirebaseMessaging)return;D.onMessageHandler&&M.messageType===tr.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(eo(M)):D.onMessageHandler.next(eo(M)));const L=M.data;to(L)&&"1"===L[yc]&&(yield da(D,M.messageType,L))})).apply(this,arguments)}const Ic="@firebase/messaging";function Dc(){return nn.apply(this,arguments)}function nn(){return(nn=(0,P.Z)(function*(){return"undefined"!=typeof window&&(0,te.hl)()&&(yield(0,te.eu)())&&(0,te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,oe._registerComponent)(new de.wA("messaging",D=>{const b=new bs(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function(D,b){return ha.apply(this,arguments)}(b,M)),b},"PUBLIC")),(0,oe._registerComponent)(new de.wA("messaging-internal",D=>{const b=D.getProvider("messaging").getImmediate();return{getToken:L=>function(D,b){return lu.apply(this,arguments)}(b,L)}},"PRIVATE")),(0,oe.registerVersion)(Ic,"0.9.4"),(0,oe.registerVersion)(Ic,"0.9.4","esm2017");const Cs="analytics",fu="firebase_id",bc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",td="https://www.googletagmanager.com/gtag/js",an=new re.Yd("@firebase/analytics");function ma(D){return Promise.all(D.map(b=>b.catch(M=>M)))}function Hp(D,b){const M=document.createElement("script");M.src=`${td}?l=${D}&id=${b}`,M.async=!0,document.head.appendChild(M)}function bo(D,b,M,L,Z,q){return pu.apply(this,arguments)}function pu(){return(pu=(0,P.Z)(function*(D,b,M,L,Z,q){const be=L[Z];try{if(be)yield b[be];else{const Ve=(yield ma(M)).find(At=>At.measurementId===Z);Ve&&(yield b[Ve.appId])}}catch(We){an.error(We)}D("config",Z,q)})).apply(this,arguments)}function ya(D,b,M,L,Z){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,P.Z)(function*(D,b,M,L,Z){try{let q=[];if(Z&&Z.send_to){let be=Z.send_to;Array.isArray(be)||(be=[be]);const We=yield ma(M);for(const Ve of be){const At=We.find(xr=>xr.measurementId===Ve),Gt=At&&b[At.appId];if(!Gt){q=[];break}q.push(Gt)}}0===q.length&&(q=Object.values(b)),yield Promise.all(q),D("event",L,Z||{})}catch(q){an.error(q)}})).apply(this,arguments)}function hn(){const D=window.document.getElementsByTagName("script");for(const b of Object.values(D))if(b.src&&b.src.includes(td))return b;return null}const et=new te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Co=new class{constructor(b={},M=1e3){this.throttleMetadata=b,this.intervalMillis=M}getThrottleMetadata(b){return this.throttleMetadata[b]}setThrottleMetadata(b,M){this.throttleMetadata[b]=M}deleteThrottleMetadata(b){delete this.throttleMetadata[b]}};function Zp(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function _a(D){return gu.apply(this,arguments)}function gu(){return(gu=(0,P.Z)(function*(D){var b;const{appId:M,apiKey:L}=D,Z={method:"GET",headers:Zp(L)},q=bc.replace("{app-id}",M),be=yield fetch(q,Z);if(200!==be.status&&304!==be.status){let We="";try{const Ve=yield be.json();(null===(b=Ve.error)||void 0===b?void 0:b.message)&&(We=Ve.error.message)}catch(Ve){}throw et.create("config-fetch-failed",{httpStatus:be.status,responseMessage:We})}return be.json()})).apply(this,arguments)}function Ao(D){return As.apply(this,arguments)}function As(){return(As=(0,P.Z)(function*(D,b=Co,M){const{appId:L,apiKey:Z,measurementId:q}=D.options;if(!L)throw et.create("no-app-id");if(!Z){if(q)return{measurementId:q,appId:L};throw et.create("no-api-key")}const be=b.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new va;return setTimeout((0,P.Z)(function*(){We.abort()}),void 0!==M?M:6e4),es({appId:L,apiKey:Z,measurementId:q},be,We,b)})).apply(this,arguments)}function es(D,b,M){return Et.apply(this,arguments)}function Et(){return(Et=(0,P.Z)(function*(D,{throttleEndTimeMillis:b,backoffCount:M},L,Z=Co){const{appId:q,measurementId:be}=D;try{yield kh(L,b)}catch(We){if(be)return an.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${be} provided in the "measurementId" field in the local Firebase config. [${We.message}]`),{appId:q,measurementId:be};throw We}try{const We=yield _a(D);return Z.deleteThrottleMetadata(q),We}catch(We){if(!Lh(We)){if(Z.deleteThrottleMetadata(q),be)return an.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${be} provided in the "measurementId" field in the local Firebase config. [${We.message}]`),{appId:q,measurementId:be};throw We}const Ve=503===Number(We.customData.httpStatus)?(0,te.$s)(M,Z.intervalMillis,30):(0,te.$s)(M,Z.intervalMillis),At={throttleEndTimeMillis:Date.now()+Ve,backoffCount:M+1};return Z.setThrottleMetadata(q,At),an.debug(`Calling attemptFetch again in ${Ve} millis`),es(D,At,L,Z)}})).apply(this,arguments)}function kh(D,b){return new Promise((M,L)=>{const Z=Math.max(b-Date.now(),0),q=setTimeout(M,Z);D.addEventListener(()=>{clearTimeout(q),L(et.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}function Lh(D){if(!(D instanceof te.ZR&&D.customData))return!1;const b=Number(D.customData.httpStatus);return 429===b||500===b||503===b||504===b}class va{constructor(){this.listeners=[]}addEventListener(b){this.listeners.push(b)}abort(){this.listeners.forEach(b=>b())}}function wa(){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,P.Z)(function*(){if(!(0,te.hl)())return an.warn(et.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,te.eu)()}catch(D){return an.warn(et.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function ts(){return(ts=(0,P.Z)(function*(D,b,M,L,Z,q,be){var We;const Ve=Ao(D);Ve.then(fn=>{M[fn.measurementId]=fn.appId,D.options.measurementId&&fn.measurementId!==D.options.measurementId&&an.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${fn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fn=>an.error(fn)),b.push(Ve);const At=wa().then(fn=>{if(fn)return L.getId()}),[Gt,xr]=yield Promise.all([Ve,At]);hn()||Hp(q,Gt.measurementId),Z("js",new Date);const Mr=null!==(We=null==be?void 0:be.config)&&void 0!==We?We:{};return Mr.origin="firebase",Mr.update=!0,null!=xr&&(Mr[fu]=xr),Z("config",Gt.measurementId,Mr),Gt.measurementId})).apply(this,arguments)}class nd{constructor(b){this.app=b}_delete(){return delete fi[this.app.options.appId],Promise.resolve()}}let fi={},Cc=[];const So={};let Ac,Zn,no="dataLayer",Ss=!1;function Cr(D,b,M){!function(){const D=[];if((0,te.ru)()&&D.push("This is a browser extension environment."),(0,te.zI)()||D.push("Cookies are not available."),D.length>0){const b=D.map((L,Z)=>`(${Z+1}) ${L}`).join(" "),M=et.create("invalid-analytics-context",{errorInfo:b});an.warn(M.message)}}();const L=D.options.appId;if(!L)throw et.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw et.create("no-api-key");an.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=fi[L])throw et.create("already-exists",{id:L});if(!Ss){!function(D){let b=[];Array.isArray(window[D])?b=window[D]:window[D]=b}(no);const{wrappedGtag:q,gtagCore:be}=function(D,b,M,L,Z){let q=function(...be){window[L].push(arguments)};return window[Z]&&"function"==typeof window[Z]&&(q=window[Z]),window[Z]=function(D,b,M,L){function q(){return(q=(0,P.Z)(function*(be,We,Ve){try{"event"===be?yield ya(D,b,M,We,Ve):"config"===be?yield bo(D,b,M,L,We,Ve):D("set",We)}catch(At){an.error(At)}})).apply(this,arguments)}return function(be,We,Ve){return q.apply(this,arguments)}}(q,D,b,M),{gtagCore:q,wrappedGtag:window[Z]}}(fi,Cc,So,no,"gtag");Zn=q,Ac=be,Ss=!0}return fi[L]=function(D,b,M,L,Z,q,be){return ts.apply(this,arguments)}(D,Cc,So,b,Ac,no,M),new nd(D)}function Sc(){return(Sc=(0,P.Z)(function*(D,b,M,L,Z){if(Z&&Z.global)D("event",M,L);else{const q=yield b;D("event",M,Object.assign(Object.assign({},L),{send_to:q}))}})).apply(this,arguments)}function Qt(){return yu.apply(this,arguments)}function yu(){return(yu=(0,P.Z)(function*(){if((0,te.ru)()||!(0,te.zI)()||!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(D){return!1}})).apply(this,arguments)}const rd="@firebase/analytics";(0,oe._registerComponent)(new de.wA(Cs,(b,{options:M})=>Cr(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,oe._registerComponent)(new de.wA("analytics-internal",function(b){try{const M=b.getProvider(Cs).getImmediate();return{logEvent:(L,Z,q)=>function(D,b,M,L){D=(0,te.m9)(D),function(D,b,M,L,Z){return Sc.apply(this,arguments)}(Zn,fi[D.app.options.appId],b,M,L).catch(Z=>an.error(Z))}(M,L,Z,q)}}catch(M){throw et.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,oe.registerVersion)(rd,"0.7.4"),(0,oe.registerVersion)(rd,"0.7.4","esm2017");var yn=k(4408),ba=k(7565);const jh=new class extends ba.v{}(class extends yn.o{constructor(b,M){super(b,M),this.scheduler=b,this.work=M}schedule(b,M=0){return M>0?super.schedule(b,M):(this.delay=M,this.state=b,this.scheduler.flush(this),this)}execute(b,M){return M>0||this.closed?super.execute(b,M):this._execute(b,M)}requestAsyncId(b,M,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(b,M,L):b.flush(this)}});var Ri=k(4986),xc=k(8505),xo=k(9468),Mo=k(5363);const sd=new g.GfV("7.2.0"),Mc="__angularfire_symbol__analyticsIsSupported",Rc="__angularfire_symbol__remoteConfigIsSupported",pr="__angularfire_symbol__messagingIsSupported";function od(D,b,M){if(b){if(1===b.length)return b[0];const q=b.filter(be=>be.app===M);if(1===q.length)return q[0]}return M.container.getProvider(D).getImmediate({optional:!0})}globalThis[Mc]||(globalThis[Mc]=Qt().then(D=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=D)),globalThis[pr]||(globalThis[pr]=Dc().then(D=>globalThis.__angularfire_symbol__messagingIsSupportedValue=D)),globalThis[Rc]||(globalThis[Rc]=Qo().then(D=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=D));const Zh=(D,b)=>{const M=b?[b]:(0,K.C6)(),L=[];return M.forEach(Z=>{Z.container.getProvider(D).instances.forEach(be=>{L.includes(be)||L.push(be)})}),L};function gr(){}class Oc{constructor(b,M=jh){this.zone=b,this.delegate=M}now(){return this.delegate.now()}schedule(b,M,L){const Z=this.zone;return this.delegate.schedule(function(be){Z.runGuarded(()=>{b.apply(this,[be])})},M,L)}}class _u{constructor(b){this.zone=b,this.task=null}call(b,M){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gr,{},gr,gr)),M.pipe((0,xc.b)({next:L,complete:L,error:L})).subscribe(b).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Pc=(()=>{class D{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Oc(Zone.current)),this.insideAngular=M.run(()=>new Oc(Zone.current,Ri.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(M){return new(M||D)(g.LFG(g.R0b))},D.\u0275prov=g.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Pi(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function rs(D){return Pi(),function(D){return function(M){return(M=M.lift(new _u(D.ngZone))).pipe((0,xo.R)(D.outsideAngular),(0,Mo.Q)(D.insideAngular))}}(Pi())(D)}},2090:(rt,De,k)=>{"use strict";k.d(De,{BH:()=>Le,LL:()=>le,ZR:()=>Oe,zI:()=>ue,US:()=>de,tV:()=>ae,$s:()=>Ht,r3:()=>en,Sg:()=>Ee,ne:()=>$n,vZ:()=>Rt,ZB:()=>V,pd:()=>Ti,m9:()=>lc,z$:()=>Fe,jU:()=>G,ru:()=>se,d:()=>fe,xb:()=>wn,w1:()=>je,hl:()=>at,uI:()=>ke,UG:()=>ie,b$:()=>we,G6:()=>Ze,Mn:()=>Ae,xO:()=>go,zd:()=>ni,eu:()=>X});const oe=function($){const F=[];let H=0;for(let me=0;me<$.length;me++){let ee=$.charCodeAt(me);ee<128?F[H++]=ee:ee<2048?(F[H++]=ee>>6|192,F[H++]=63&ee|128):55296==(64512&ee)&&me+1<$.length&&56320==(64512&$.charCodeAt(me+1))?(ee=65536+((1023&ee)<<10)+(1023&$.charCodeAt(++me)),F[H++]=ee>>18|240,F[H++]=ee>>12&63|128,F[H++]=ee>>6&63|128,F[H++]=63&ee|128):(F[H++]=ee>>12|224,F[H++]=ee>>6&63|128,F[H++]=63&ee|128)}return F},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,F){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,me=[];for(let ee=0;ee<$.length;ee+=3){const ze=$[ee],ut=ee+1<$.length,qt=ut?$[ee+1]:0,Jn=ee+2<$.length,mn=Jn?$[ee+2]:0;let Xn=(15&qt)<<2|mn>>6,qs=63&mn;Jn||(qs=64,ut||(Xn=64)),me.push(H[ze>>2],H[(3&ze)<<4|qt>>4],H[Xn],H[qs])}return me.join("")},encodeString($,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa($):this.encodeByteArray(oe($),F)},decodeString($,F){return this.HAS_NATIVE_SUPPORT&&!F?atob($):function($){const F=[];let H=0,me=0;for(;H<$.length;){const ee=$[H++];if(ee<128)F[me++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const ze=$[H++];F[me++]=String.fromCharCode((31&ee)<<6|63&ze)}else if(ee>239&&ee<365){const Jn=((7&ee)<<18|(63&$[H++])<<12|(63&$[H++])<<6|63&$[H++])-65536;F[me++]=String.fromCharCode(55296+(Jn>>10)),F[me++]=String.fromCharCode(56320+(1023&Jn))}else{const ze=$[H++],ut=$[H++];F[me++]=String.fromCharCode((15&ee)<<12|(63&ze)<<6|63&ut)}}return F.join("")}(this.decodeStringToByteArray($,F))},decodeStringToByteArray($,F){this.init_();const H=F?this.charToByteMapWebSafe_:this.charToByteMap_,me=[];for(let ee=0;ee<$.length;){const ze=H[$.charAt(ee++)],qt=ee<$.length?H[$.charAt(ee)]:0;++ee;const mn=ee<$.length?H[$.charAt(ee)]:64;++ee;const xt=ee<$.length?H[$.charAt(ee)]:64;if(++ee,null==ze||null==qt||null==mn||null==xt)throw Error();me.push(ze<<2|qt>>4),64!==mn&&(me.push(qt<<4&240|mn>>2),64!==xt&&me.push(mn<<6&192|xt))}return me},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},ne=function($){return function($){const F=oe($);return de.encodeByteArray(F,!0)}($).replace(/\./g,"")},ae=function($){try{return de.decodeString($,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function V($,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return F}for(const H in F)!F.hasOwnProperty(H)||!Y(H)||($[H]=V($[H],F[H]));return $}function Y($){return"__proto__"!==$}class Le{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,H)=>{this.resolve=F,this.reject=H})}wrapCallback(F){return(H,me)=>{H?this.reject(H):this.resolve(me),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F(H):F(H,me))}}}function Ee($,F){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const me=F||"demo-project",ee=$.iat||0,ze=$.sub||$.user_id;if(!ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ut=Object.assign({iss:`https://securetoken.google.com/${me}`,aud:me,iat:ee,exp:ee+3600,auth_time:ee,sub:ze,user_id:ze,firebase:{sign_in_provider:"custom",identities:{}}},$);return[ne(JSON.stringify({alg:"none",type:"JWT"})),ne(JSON.stringify(ut)),""].join(".")}function Fe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ke(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function ie(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($){return!1}}function G(){return"object"==typeof self&&self.self===self}function se(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function we(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function fe(){return Fe().indexOf("Electron/")>=0}function je(){const $=Fe();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Ae(){return Fe().indexOf("MSAppHost/")>=0}function Ze(){return!ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function at(){return"object"==typeof indexedDB}function X(){return new Promise(($,F)=>{try{let H=!0;const me="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(me);ee.onsuccess=()=>{ee.result.close(),H||self.indexedDB.deleteDatabase(me),$(!0)},ee.onupgradeneeded=()=>{H=!1},ee.onerror=()=>{var ze;F((null===(ze=ee.error)||void 0===ze?void 0:ze.message)||"")}}catch(H){F(H)}})}function ue(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Oe extends Error{constructor(F,H,me){super(H),this.code=F,this.customData=me,this.name="FirebaseError",Object.setPrototypeOf(this,Oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,le.prototype.create)}}class le{constructor(F,H,me){this.service=F,this.serviceName=H,this.errors=me}create(F,...H){const me=H[0]||{},ee=`${this.service}/${F}`,ze=this.errors[F],ut=ze?function($,F){return $.replace(Vt,(H,me)=>{const ee=F[me];return null!=ee?String(ee):`<${me}?>`})}(ze,me):"Error";return new Oe(ee,`${this.serviceName}: ${ut} (${ee}).`,me)}}const Vt=/\{\$([^}]+)}/g;function en($,F){return Object.prototype.hasOwnProperty.call($,F)}function wn($){for(const F in $)if(Object.prototype.hasOwnProperty.call($,F))return!1;return!0}function Rt($,F){if($===F)return!0;const H=Object.keys($),me=Object.keys(F);for(const ee of H){if(!me.includes(ee))return!1;const ze=$[ee],ut=F[ee];if(gn(ze)&&gn(ut)){if(!Rt(ze,ut))return!1}else if(ze!==ut)return!1}for(const ee of me)if(!H.includes(ee))return!1;return!0}function gn($){return null!==$&&"object"==typeof $}function go($){const F=[];for(const[H,me]of Object.entries($))Array.isArray(me)?me.forEach(ee=>{F.push(encodeURIComponent(H)+"="+encodeURIComponent(ee))}):F.push(encodeURIComponent(H)+"="+encodeURIComponent(me));return F.length?"&"+F.join("&"):""}function ni($){const F={};return $.replace(/^\?/,"").split("&").forEach(me=>{if(me){const[ee,ze]=me.split("=");F[decodeURIComponent(ee)]=decodeURIComponent(ze)}}),F}function Ti($){const F=$.indexOf("?");if(!F)return"";const H=$.indexOf("#",F);return $.substring(F,H>0?H:void 0)}function $n($,F){const H=new Rn($,F);return H.subscribe.bind(H)}class Rn{constructor(F,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{F(this)}).catch(me=>{this.error(me)})}next(F){this.forEachObserver(H=>{H.next(F)})}error(F){this.forEachObserver(H=>{H.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,H,me){let ee;if(void 0===F&&void 0===H&&void 0===me)throw new Error("Missing Observer.");ee=function($,F){if("object"!=typeof $||null===$)return!1;for(const H of["next","error","complete"])if(H in $&&"function"==typeof $[H])return!0;return!1}(F)?F:{next:F,error:H,complete:me},void 0===ee.next&&(ee.next=ri),void 0===ee.error&&(ee.error=ri),void 0===ee.complete&&(ee.complete=ri);const ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch(ut){}}),this.observers.push(ee),ze}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,F)}sendOne(F,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{H(this.observers[F])}catch(me){"undefined"!=typeof console&&console.error&&console.error(me)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ri(){}function Ht($,F=1e3,H=2){const me=F*Math.pow(H,$),ee=Math.round(.5*me*(Math.random()-.5)*2);return Math.min(144e5,me+ee)}function lc($){return $&&$._delegate?$._delegate:$}},8964:(rt,De,k)=>{"use strict";var g=k(5e3);let K=null;function P(){return K}const re=new g.OlP("DocumentToken");let ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return(0,g.LFG)(V)},providedIn:"platform"}),n})();const B=new g.OlP("Location Initialized");let V=(()=>{class n extends ne{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,a){Y()?this._history.pushState(t,r,a):this.location.hash=a}replaceState(t,r,a){Y()?this._history.replaceState(t,r,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(re))},n.\u0275prov=g.Yz7({token:n,factory:function(){return new V((0,g.LFG)(re))},providedIn:"platform"}),n})();function Y(){return!!window.history.pushState}function Ee(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Fe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ke(n){return n&&"?"!==n[0]?"?"+n:n}let ie=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return function(n){const e=(0,g.LFG)(re).location;return new we((0,g.LFG)(ne),e&&e.origin||"")}()},providedIn:"root"}),n})();const se=new g.OlP("appBaseHref");let we=(()=>{class n extends ie{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ee(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ke(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${r}${a}`:r}pushState(t,r,a,c){const f=this.prepareExternalUrl(a+ke(c));this._platformLocation.pushState(t,r,f)}replaceState(t,r,a,c){const f=this.prepareExternalUrl(a+ke(c));this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ne),g.LFG(se,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),fe=(()=>{class n extends ie{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ee(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,a,c){let f=this.prepareExternalUrl(a+ke(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(t,r,f)}replaceState(t,r,a,c){let f=this.prepareExternalUrl(a+ke(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ne),g.LFG(se,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),je=(()=>{class n{constructor(t,r){this._subject=new g.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const a=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Fe(Ze(a)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ke(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",a=null){this._platformStrategy.pushState(a,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ke(r)),a)}replaceState(t,r="",a=null){this._platformStrategy.replaceState(a,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ke(r)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformStrategy).historyGo)||void 0===a||a.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(a=>a(t,r))}subscribe(t,r,a){return this._subject.subscribe({next:t,error:r,complete:a})}}return n.normalizeQueryParams=ke,n.joinWithSlash=Ee,n.stripTrailingSlash=Fe,n.\u0275fac=function(t){return new(t||n)(g.LFG(ie),g.LFG(ne))},n.\u0275prov=g.Yz7({token:n,factory:function(){return new je((0,g.LFG)(ie),(0,g.LFG)(ne))},providedIn:"root"}),n})();function Ze(n){return n.replace(/\/index.html$/,"")}var ue=(()=>((ue=ue||{})[ue.Zero=0]="Zero",ue[ue.One=1]="One",ue[ue.Two=2]="Two",ue[ue.Few=3]="Few",ue[ue.Many=4]="Many",ue[ue.Other=5]="Other",ue))();const Ti=g.kL8;class Hn{}let On=(()=>{class n extends Hn{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Ti(r||this.locale)(t)){case ue.Zero:return"zero";case ue.One:return"one";case ue.Two:return"two";case ue.Few:return"few";case ue.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(g.soG))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class yo{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let hc=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=g.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),oi=(()=>{class n{constructor(t,r,a){this.ngSwitch=a,a._addCase(),this._view=new yo(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(hc,9))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),ai=(()=>{class n{constructor(t,r,a){a._addDefault(new yo(t,r))}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(hc,9))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),yc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[{provide:Hn,useClass:On}]}),n})();function fr(n){return"server"===n}let Rh=(()=>{class n{}return n.\u0275prov=(0,g.Yz7)({token:n,providedIn:"root",factory:()=>new Xo((0,g.LFG)(re),window)}),n})();class Xo{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const c=a.shadowRoot;if(c){const f=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(f)return f}a=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],a-c[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ws(this.window.history)||Ws(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Ws(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ys extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Ys,K||(K=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(br=br||document.querySelector("base"),br?br.getAttribute("href"):null);return null==t?null:function(n){Cn=Cn||document.createElement("a"),Cn.setAttribute("href",n);const e=Cn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){br=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[a,c]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(a.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let Cn,br=null;const Qs=new g.OlP("TRANSITION_ID"),Zt=[{provide:g.ip1,useFactory:function(n,e,t){return()=>{t.get(g.CZH).donePromise.then(()=>{const r=P(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<a.length;c++)r.remove(a[c])})}},deps:[Qs,re,g.zs3],multi:!0}];class Ji{static init(){(0,g.VLi)(new Ji)}addToWindow(e){g.dqk.getAngularTestability=(r,a=!0)=>{const c=e.findTestabilityInTree(r,a);if(null==c)throw new Error("Could not find testability for element.");return c},g.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(r=>{const a=g.dqk.getAllAngularTestabilities();let c=a.length,f=!1;const _=function(I){f=f||I,c--,0==c&&r(f)};a.forEach(function(I){I.whenStable(_)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let ea=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Xs=new g.OlP("EventManagerPlugins");let Tr=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,a){return this._findPluginFor(r).addEventListener(t,r,a)}addGlobalEventListener(t,r,a){return this._findPluginFor(r).addGlobalEventListener(t,r,a)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const a=this._plugins;for(let c=0;c<a.length;c++){const f=a[c];if(f.supports(t))return this._eventNameToPlugin.set(t,f),f}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Xs),g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class ta{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const a=P().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,r)}}let Is=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),Ke=(()=>{class n extends Is{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,a){t.forEach(c=>{const f=this._doc.createElement("style");f.textContent=c,a.push(r.appendChild(f))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(su),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(t,a,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(su))}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(re))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function su(n){P().remove(n)}const na={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Eo=/%COMP%/g;function Xi(n,e,t){for(let r=0;r<e.length;r++){let a=e[r];Array.isArray(a)?Xi(n,a,t):(a=a.replace(Eo,n),t.push(a))}return t}function ln(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ds=(()=>{class n{constructor(t,r,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new nr(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case g.ifc.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new wc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(t),a}case 1:case g.ifc.ShadowDom:return new Ec(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const a=Xi(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Tr),g.LFG(Ke),g.LFG(g.AFp))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class nr{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(na[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,a){if(a){t=a+":"+t;const c=na[a];c?e.setAttributeNS(c,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const a=na[r];a?e.removeAttributeNS(a,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,a){a&(g.JOm.DashCase|g.JOm.Important)?e.style.setProperty(t,r,a&g.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&g.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ln(r)):this.eventManager.addEventListener(e,t,ln(r))}}class wc extends nr{constructor(e,t,r,a){super(e),this.component=r;const c=Xi(a+"-"+r.id,r.styles,[]);t.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(Eo,a+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Eo,n)}(a+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Ec extends nr{constructor(e,t,r,a){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Xi(a.id,a.styles,[]);for(let f=0;f<c.length;f++){const _=document.createElement("style");_.textContent=c[f],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let sa=(()=>{class n extends ta{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,a){return t.addEventListener(r,a,!1),()=>this.removeEventListener(t,r,a)}removeEventListener(t,r,a){return t.removeEventListener(r,a)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(re))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const to=["alt","control","meta","shift"],li={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oa={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},bs={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ai=(()=>{class n extends ta{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,a){const c=n.parseEventName(r),f=n.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,c.domEventName,f))}static parseEventName(t){const r=t.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const c=n._normalizeKey(r.pop());let f="";if(to.forEach(I=>{const A=r.indexOf(I);A>-1&&(r.splice(A,1),f+=I+".")}),f+=c,0!=r.length||0===c.length)return null;const _={};return _.domEventName=a,_.fullKey=f,_}static getEventFullKey(t){let r="",a=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&oa.hasOwnProperty(e)&&(e=oa[e]))}return li[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),to.forEach(c=>{c!=a&&bs[c](t)&&(r+=c+".")}),r+=a,r}static eventCallback(t,r,a){return c=>{n.getEventFullKey(c)===t&&a.runGuarded(()=>r(c))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(re))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Io=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:"browser"},{provide:g.g9A,useValue:function(){Ys.makeCurrent(),Ji.init()},multi:!0},{provide:re,useFactory:function(){return(0,g.RDi)(document),document},deps:[]}]),lu=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function(){return new g.qLn},deps:[]},{provide:Xs,useClass:sa,multi:!0,deps:[re,g.R0b,g.Lbi]},{provide:Xs,useClass:Ai,multi:!0,deps:[re]},{provide:Ds,useClass:Ds,deps:[Tr,Ke,g.AFp]},{provide:g.FYo,useExisting:Ds},{provide:Is,useExisting:Ke},{provide:Ke,useClass:Ke,deps:[re]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b]},{provide:Tr,useClass:Tr,deps:[Xs,g.R0b]},{provide:class{},useClass:ea,deps:[]}];let da=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:g.AFp,useValue:t.appId},{provide:Qs,useExisting:g.AFp},Zt]}}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(n,12))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:lu,imports:[yc,g.hGG]}),n})();"undefined"!=typeof window&&window;var hn=k(8996),To=k(7669);function et(...n){const e=(0,To.yG)(n);return(0,hn.D)(n,e)}var Si=k(7579);class di extends Si.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var hi=k(8306);const{isArray:Co}=Array,{getPrototypeOf:Zp,prototype:_a,keys:gu}=Object;var es=k(4671),Et=k(4004);const{isArray:kh}=Array;var Pn=k(5403),mu=k(9672);function ts(...n){const e=(0,To.yG)(n),t=(0,To.jO)(n),{args:r,keys:a}=function(n){if(1===n.length){const e=n[0];if(Co(e))return{args:e,keys:null};if(function(n){return n&&"object"==typeof n&&Zp(n)===_a}(e)){const t=gu(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return(0,hn.D)([],e);const c=new hi.y(function(n,e,t=es.y){return r=>{fi(e,()=>{const{length:a}=n,c=new Array(a);let f=a,_=a;for(let I=0;I<a;I++)fi(e,()=>{const A=(0,hn.D)(n[I],e);let R=!1;A.subscribe(new Pn.Q(r,O=>{c[I]=O,R||(R=!0,_--),_||r.next(t(c.slice()))},()=>{--f||r.complete()}))},r)},r)}}(r,e,a?f=>function(n,e){return n.reduce((t,r,a)=>(t[r]=e[a],t),{})}(a,f):es.y));return t?c.pipe(function(n){return(0,Et.U)(e=>function(n,e){return kh(e)?n(...e):n(e)}(n,e))}(t)):c}function fi(n,e,t){n?(0,mu.f)(t,n,e):e()}const So=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var no=k(8189);function Ac(...n){return(0,no.J)(1)((0,hn.D)(n,(0,To.yG)(n)))}var Zn=k(8421);function Ss(n){return new hi.y(e=>{(0,Zn.Xf)(n()).subscribe(e)})}var Ia=k(515),ro=k(727),Cr=k(4482);function un(){return(0,Cr.e)((n,e)=>{let t=null;n._refCount++;const r=new Pn.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const a=n._connection,c=t;t=null,a&&(!c||a===c)&&a.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Sc extends hi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Cr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ro.w0;const t=this.getSubject();e.add(this.source.subscribe(new Pn.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ro.w0.EMPTY)}return e}refCount(){return un()(this)}}function Nn(n,e){return(0,Cr.e)((t,r)=>{let a=null,c=0,f=!1;const _=()=>f&&!a&&r.complete();t.subscribe(new Pn.Q(r,I=>{null==a||a.unsubscribe();let A=0;const R=c++;(0,Zn.Xf)(n(I,R)).subscribe(a=new Pn.Q(r,O=>r.next(e?e(I,O,R,A++):O),()=>{a=null,_()}))},()=>{f=!0,_()}))})}var io=k(5698);function pi(...n){const e=(0,To.yG)(n);return(0,Cr.e)((t,r)=>{(e?Ac(n,t,e):Ac(n,t)).subscribe(r)})}function xs(n,e,t,r,a){return(c,f)=>{let _=t,I=e,A=0;c.subscribe(new Pn.Q(f,R=>{const O=A++;I=_?n(I,R,O):(_=!0,R),r&&f.next(I)},a&&(()=>{_&&f.next(I),f.complete()})))}}function xi(n,e){return(0,Cr.e)(xs(n,e,arguments.length>=2,!0))}function Hr(n,e){return(0,Cr.e)((t,r)=>{let a=0;t.subscribe(new Pn.Q(r,c=>n.call(e,c,a++)&&r.next(c)))})}function Mi(n){return(0,Cr.e)((e,t)=>{let c,r=null,a=!1;r=e.subscribe(new Pn.Q(t,void 0,void 0,f=>{c=(0,Zn.Xf)(n(f,Mi(n)(e))),r?(r.unsubscribe(),r=null,c.subscribe(t)):a=!0})),a&&(r.unsubscribe(),r=null,c.subscribe(t))})}var rn=k(5577),Fh=k(576);function ns(n,e){return(0,Fh.m)(e)?(0,rn.z)(n,e,1):(0,rn.z)(n,1)}function Qt(n){return n<=0?()=>Ia.E:(0,Cr.e)((e,t)=>{let r=[];e.subscribe(new Pn.Q(t,a=>{r.push(a),n<r.length&&r.shift()},()=>{for(const a of r)t.next(a);t.complete()},void 0,()=>{r=null}))})}function yu(n=Uh){return(0,Cr.e)((e,t)=>{let r=!1;e.subscribe(new Pn.Q(t,a=>{r=!0,t.next(a)},()=>r?t.complete():t.error(n())))})}function Uh(){return new So}function Vh(n){return(0,Cr.e)((e,t)=>{let r=!1;e.subscribe(new Pn.Q(t,a=>{r=!0,t.next(a)},()=>{r||t.next(n),t.complete()}))})}function Da(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hr((a,c)=>n(a,c,r)):es.y,(0,io.q)(1),t?Vh(e):yu(()=>new So))}var Ar=k(8505);class Sr{constructor(e,t){this.id=e,this.url=t}}class id extends Sr{constructor(e,t,r="imperative",a=null){super(e,t),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yn extends Sr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ms extends Sr{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ba extends Sr{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gp extends Sr{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jh extends Sr{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qr extends Sr{constructor(e,t,r,a,c){super(e,t),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ri extends Sr{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xc extends Sr{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xo{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Mo{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sd{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ta{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mc{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $h{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rc{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const yt="primary";class pr{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Oi(n){return new pr(n)}const Ro="ngNavigationCancelingError";function Hh(n){const e=Error("NavigationCancelingError: "+n);return e[Ro]=!0,e}function od(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const a={};for(let c=0;c<r.length;c++){const f=r[c],_=n[c];if(f.startsWith(":"))a[f.substring(1)]=_;else if(f!==_.path)return null}return{consumed:n.slice(0,r.length),posParams:a}}function gr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let a;for(let c=0;c<t.length;c++)if(a=t[c],!Oc(n[a],e[a]))return!1;return!0}function Oc(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((a,c)=>r[c]===a)}return n===e}function _u(n){return Array.prototype.concat.apply([],n)}function Pc(n){return n.length>0?n[n.length-1]:null}function An(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Gn(n){return(0,g.CqO)(n)?n:(0,g.QGY)(n)?(0,hn.D)(Promise.resolve(n)):et(n)}const wu={exact:function Nc(n,e,t){if(!Ve(n.segments,e.segments)||!L(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Nc(n.children[r],e.children[r],t))return!1;return!0},subset:b},rs={exact:function(n,e){return gr(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Oc(n[t],e[t]))},ignored:()=>!0};function Eu(n,e,t){return wu[t.paths](n.root,e.root,t.matrixParams)&&rs[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function b(n,e,t){return M(n,e,e.segments,t)}function M(n,e,t,r){if(n.segments.length>t.length){const a=n.segments.slice(0,t.length);return!(!Ve(a,t)||e.hasChildren()||!L(a,t,r))}if(n.segments.length===t.length){if(!Ve(n.segments,t)||!L(n.segments,t,r))return!1;for(const a in e.children)if(!n.children[a]||!b(n.children[a],e.children[a],r))return!1;return!0}{const a=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(Ve(n.segments,a)&&L(n.segments,a,r)&&n.children[yt])&&M(n.children[yt],e,c,r)}}function L(n,e,t){return e.every((r,a)=>rs[t](n[a].parameters,r.parameters))}class Z{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oi(this.queryParams)),this._queryParamMap}toString(){return Mr.serialize(this)}}class q{constructor(e,t){this.segments=e,this.children=t,this.parent=null,An(t,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fn(this)}}class be{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Oi(this.parameters)),this._parameterMap}toString(){return kc(this)}}function Ve(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Gt{}class xr{parse(e){const t=new n0(e);return new Z(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${rr(e.root,!0)}`,r=function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(a=>`${Zr(t)}=${Zr(a)}`).join("&"):`${Zr(t)}=${Zr(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);var n;return`${t}${r}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const Mr=new xr;function fn(n){return n.segments.map(e=>kc(e)).join("/")}function rr(n,e){if(!n.hasChildren())return fn(n);if(e){const t=n.children[yt]?rr(n.children[yt],!1):"",r=[];return An(n.children,(a,c)=>{c!==yt&&r.push(`${c}:${rr(a,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return An(n.children,(r,a)=>{a===yt&&(t=t.concat(e(r,a)))}),An(n.children,(r,a)=>{a!==yt&&(t=t.concat(e(r,a)))}),t}(n,(r,a)=>a===yt?[rr(n.children[yt],!1)]:[`${a}:${rr(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[yt]?`${fn(n)}/${t[0]}`:`${fn(n)}/(${t.join("//")})`}}function so(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zr(n){return so(n).replace(/%3B/gi,";")}function is(n){return so(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function oo(n){return decodeURIComponent(n)}function Ca(n){return oo(n.replace(/\+/g,"%20"))}function kc(n){return`${is(n.path)}${function(n){return Object.keys(n).map(e=>`;${is(e)}=${is(n[e])}`).join("")}(n.parameters)}`}const Aa=/^[^\/()?;=#]+/;function ao(n){const e=n.match(Aa);return e?e[0]:""}const Jm=/^[^=?&#]+/,ad=/^[^&#]+/;class n0{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new q([],{}):new q([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[yt]=new q(e,t)),r}parseSegment(){const e=ao(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new be(oo(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ao(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const a=ao(this.remaining);a&&(r=a,this.capture(r))}e[oo(t)]=oo(r)}parseQueryParam(e){const t=function(n){const e=n.match(Jm);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const f=function(n){const e=n.match(ad);return e?e[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const a=Ca(t),c=Ca(r);if(e.hasOwnProperty(a)){let f=e[a];Array.isArray(f)||(f=[f],e[a]=f),f.push(c)}else e[a]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ao(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let c;r.indexOf(":")>-1?(c=r.substr(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=yt);const f=this.parseChildren();t[c]=1===Object.keys(f).length?f[yt]:new q([],f),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ud{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Wh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Wh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Kh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return Kh(e,this._root).map(t=>t.value)}}function Wh(n,e){if(n===e.value)return e;for(const t of e.children){const r=Wh(n,t);if(r)return r}return null}function Kh(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Kh(n,t);if(r.length)return r.unshift(e),r}return[]}class Qr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Oo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class uo extends ud{constructor(e,t){super(e),this.snapshot=t,Fc(this,e)}toString(){return this.snapshot.toString()}}function Lc(n,e){const t=function(n,e){const f=new Du([],{},{},"",{},yt,e,null,n.root,-1,{});return new cd("",new Qr(f,[]))}(n,e),r=new di([new be("",{})]),a=new di({}),c=new di({}),f=new di({}),_=new di(""),I=new Iu(r,a,f,_,c,yt,e,t.root);return I.snapshot=t.root,new uo(new Qr(I,[]),t)}class Iu{constructor(e,t,r,a,c,f,_,I){this.url=e,this.params=t,this.queryParams=r,this.fragment=a,this.data=c,this.outlet=f,this.component=_,this._futureSnapshot=I}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Et.U)(e=>Oi(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Et.U)(e=>Oi(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Sa(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const a=t[r],c=t[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(c.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Du{constructor(e,t,r,a,c,f,_,I,A,R,O){this.url=e,this.params=t,this.queryParams=r,this.fragment=a,this.data=c,this.outlet=f,this.component=_,this.routeConfig=I,this._urlSegment=A,this._lastPathIndex=R,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Oi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cd extends ud{constructor(e,t){super(t),this.url=e,Fc(this,t)}toString(){return Jh(this._root)}}function Fc(n,e){e.value._routerState=n,e.children.forEach(t=>Fc(n,t))}function Jh(n){const e=n.children.length>0?` { ${n.children.map(Jh).join(", ")} } `:"";return`${n.value}${e}`}function ld(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,gr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),gr(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!gr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),gr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Uc(n,e){const t=gr(n.params,e.params)&&function(n,e){return Ve(n,e)&&n.every((t,r)=>gr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Uc(n.parent,e.parent))}function Vc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const a=function(n,e,t){return e.children.map(r=>{for(const a of t.children)if(n.shouldReuseRoute(r.value,a.value.snapshot))return Vc(n,r,a);return Vc(n,r)})}(n,e,t);return new Qr(r,a)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const f=c.route;return f.value._futureSnapshot=e.value,f.children=e.children.map(_=>Vc(n,_)),f}}const r=function(n){return new Iu(new di(n.url),new di(n.params),new di(n.queryParams),new di(n.fragment),new di(n.data),n.outlet,n.component,n)}(e.value),a=e.children.map(c=>Vc(n,c));return new Qr(r,a)}}function dd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function jc(n){return"object"==typeof n&&null!=n&&n.outlets}function zp(n,e,t,r,a){let c={};return r&&An(r,(f,_)=>{c[_]=Array.isArray(f)?f.map(I=>`${I}`):`${f}`}),new Z(t.root===n?e:hd(t.root,n,e),c,a)}function hd(n,e,t){const r={};return An(n.children,(a,c)=>{r[c]=a===e?t:hd(a,e,t)}),new q(n.segments,r)}class ny{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&dd(r[0]))throw new Error("Root segment cannot have matrix parameters");const a=r.find(jc);if(a&&a!==Pc(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fd{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Wp(n,e,t){if(n||(n=new q([],{})),0===n.segments.length&&n.hasChildren())return Xh(n,e,t);const r=function(n,e,t){let r=0,a=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(r>=t.length)return c;const f=n.segments[a],_=t[r];if(jc(_))break;const I=`${_}`,A=r<t.length-1?t[r+1]:null;if(a>0&&void 0===I)break;if(I&&A&&"object"==typeof A&&void 0===A.outlets){if(!Tu(I,A,f))return c;r+=2}else{if(!Tu(I,{},f))return c;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(n,e,t),a=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new q(n.segments.slice(0,r.pathIndex),{});return c.children[yt]=new q(n.segments.slice(r.pathIndex),n.children),Xh(c,0,a)}return r.match&&0===a.length?new q(n.segments,{}):r.match&&!n.hasChildren()?bu(n,e,t):r.match?Xh(n,0,a):bu(n,e,t)}function Xh(n,e,t){if(0===t.length)return new q(n.segments,{});{const r=function(n){return jc(n[0])?n[0].outlets:{[yt]:n}}(t),a={};return An(r,(c,f)=>{"string"==typeof c&&(c=[c]),null!==c&&(a[f]=Wp(n.children[f],e,c))}),An(n.children,(c,f)=>{void 0===r[f]&&(a[f]=c)}),new q(n.segments,a)}}function bu(n,e,t){const r=n.segments.slice(0,e);let a=0;for(;a<t.length;){const c=t[a];if(jc(c)){const I=Kp(c.outlets);return new q(r,I)}if(0===a&&dd(t[0])){r.push(new be(n.segments[e].path,ss(t[0]))),a++;continue}const f=jc(c)?c.outlets[yt]:`${c}`,_=a<t.length-1?t[a+1]:null;f&&_&&dd(_)?(r.push(new be(f,ss(_))),a+=2):(r.push(new be(f,{})),a++)}return new q(r,{})}function Kp(n){const e={};return An(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=bu(new q([],{}),0,t))}),e}function ss(n){const e={};return An(n,(t,r)=>e[r]=`${t}`),e}function Tu(n,e,t){return n==t.path&&gr(e,t.parameters)}class tf{constructor(e,t,r,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=a}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ld(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const a=Oo(t);e.children.forEach(c=>{const f=c.value.outlet;this.deactivateRoutes(c,a[f],r),delete a[f]}),An(a,(c,f)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,t,r){const a=e.value,c=t?t.value:null;if(a===c)if(a.component){const f=r.getContext(a.outlet);f&&this.deactivateChildRoutes(e,t,f.children)}else this.deactivateChildRoutes(e,t,r);else c&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),a=r&&e.value.component?r.children:t,c=Oo(e);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],a);if(r&&r.outlet){const f=r.outlet.detach(),_=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:f,route:e,contexts:_})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),a=r&&e.value.component?r.children:t,c=Oo(e);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const a=Oo(t);e.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],r),this.forwardEvent(new $h(c.value.snapshot))}),e.children.length&&this.forwardEvent(new Ta(e.value.snapshot))}activateRoutes(e,t,r){const a=e.value,c=t?t.value:null;if(ld(a),a===c)if(a.component){const f=r.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,f.children)}else this.activateChildRoutes(e,t,r);else if(a.component){const f=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const _=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),f.children.onOutletReAttached(_.contexts),f.attachRef=_.componentRef,f.route=_.route.value,f.outlet&&f.outlet.attach(_.componentRef,_.route.value),ld(_.route.value),this.activateChildRoutes(e,null,f.children)}else{const _=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(a.snapshot),I=_?_.module.componentFactoryResolver:null;f.attachRef=null,f.route=a,f.resolver=I,f.outlet&&f.outlet.activateWith(a,I),this.activateChildRoutes(e,null,f.children)}}else this.activateChildRoutes(e,null,r)}}class Jp{constructor(e,t){this.routes=e,this.module=t}}function xa(n){return"function"==typeof n}function os(n){return n instanceof Z}const Cu=Symbol("INITIAL_VALUE");function Ma(){return Nn(n=>ts(n.map(e=>e.pipe((0,io.q)(1),pi(Cu)))).pipe(xi((e,t)=>{let r=!1;return t.reduce((a,c,f)=>a!==Cu?a:(c===Cu&&(r=!0),r||!1!==c&&f!==t.length-1&&!os(c)?a:c),e)},Cu),Hr(e=>e!==Cu),(0,Et.U)(e=>os(e)?e:!0===e),(0,io.q)(1)))}class ay{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Au,this.attachRef=null}}class Au{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new ay,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let pd=(()=>{class n{constructor(t,r,a,c,f){this.parentContexts=t,this.location=r,this.resolver=a,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.name=c||yt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const f=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,I=new Xp(t,_,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,I),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(Au),g.Y36(g.s_b),g.Y36(g._Vd),g.$8M("name"),g.Y36(g.sBO))},n.\u0275dir=g.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Xp{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Iu?this.route:e===Au?this.childContexts:this.parent.get(e,t)}}let Hc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&g._UZ(0,"router-outlet")},directives:[pd],encapsulation:2}),n})();function eg(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];tg(r,Ra(e,r))}}function tg(n,e){n.children&&eg(n.children,e)}function Ra(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Sn(n){const e=n.children&&n.children.map(Sn),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==yt&&(t.component=Hc),t}function ki(n){return n.outlet||yt}function gd(n,e){const t=n.filter(r=>ki(r)===e);return t.push(...n.filter(r=>ki(r)!==e)),t}const md={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Oa(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},md):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(e.matcher||od)(t,n,e);if(!c)return Object.assign({},md);const f={};An(c.posParams,(I,A)=>{f[A]=I.path});const _=c.consumed.length>0?Object.assign(Object.assign({},f),c.consumed[c.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:_,positionalParamSegments:null!==(r=c.posParams)&&void 0!==r?r:{}}}function yd(n,e,t,r,a="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>qc(n,e,r)&&ki(r)!==yt)}(n,t,r)){const f=new q(e,function(n,e,t,r){const a={};a[yt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const c of t)if(""===c.path&&ki(c)!==yt){const f=new q([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[ki(c)]=f}return a}(n,e,r,new q(t,n.children)));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>qc(n,e,r))}(n,t,r)){const f=new q(n.segments,function(n,e,t,r,a,c){const f={};for(const _ of r)if(qc(n,t,_)&&!a[ki(_)]){const I=new q([],{});I._sourceSegment=n,I._segmentIndexShift="legacy"===c?n.segments.length:e.length,f[ki(_)]=I}return Object.assign(Object.assign({},a),f)}(n,e,t,r,n.children,a));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:t}}const c=new q(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}function qc(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function dy(n,e,t,r){return!!(ki(n)===r||r!==yt&&qc(e,t,n))&&("**"===n.path||Oa(e,n,t).matched)}function Su(n,e,t){return 0===e.length&&!n.children[t]}class zn{constructor(e){this.segmentGroup=e||null}}class _d{constructor(e){this.urlTree=e}}function Zc(n){return new hi.y(e=>e.error(new zn(n)))}function vd(n){return new hi.y(e=>e.error(new _d(n)))}function ir(n){return new hi.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class of{constructor(e,t,r,a,c){this.configLoader=t,this.urlSerializer=r,this.urlTree=a,this.config=c,this.allowRedirects=!0,this.ngModule=e.get(g.h0i)}apply(){const e=yd(this.urlTree.root,[],[],this.config).segmentGroup,t=new q(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,yt).pipe((0,Et.U)(c=>this.createUrlTree(wd(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Mi(c=>{if(c instanceof _d)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof zn?this.noMatchError(c):c}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,yt).pipe((0,Et.U)(a=>this.createUrlTree(wd(a),e.queryParams,e.fragment))).pipe(Mi(a=>{throw a instanceof zn?this.noMatchError(a):a}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const a=e.segments.length>0?new q([],{[yt]:e}):e;return new Z(a,t,r)}expandSegmentGroup(e,t,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Et.U)(c=>new q([],c))):this.expandSegment(e,r,t,r.segments,a,!0)}expandChildren(e,t,r){const a=[];for(const c of Object.keys(r.children))"primary"===c?a.unshift(c):a.push(c);return(0,hn.D)(a).pipe(ns(c=>{const f=r.children[c],_=gd(t,c);return this.expandSegmentGroup(e,_,f,c).pipe((0,Et.U)(I=>({segment:I,outlet:c})))}),xi((c,f)=>(c[f.outlet]=f.segment,c),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hr((a,c)=>n(a,c,r)):es.y,Qt(1),t?Vh(e):yu(()=>new So))}())}expandSegment(e,t,r,a,c,f){return(0,hn.D)(r).pipe(ns(_=>this.expandSegmentAgainstRoute(e,t,r,_,a,c,f).pipe(Mi(A=>{if(A instanceof zn)return et(null);throw A}))),Da(_=>!!_),Mi((_,I)=>{if(_ instanceof So||"EmptyError"===_.name){if(Su(t,a,c))return et(new q([],{}));throw new zn(t)}throw _}))}expandSegmentAgainstRoute(e,t,r,a,c,f,_){return dy(a,t,c,f)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,t,a,c,f):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,a,c,f):Zc(t):Zc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,a,c,f){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,a,f):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,a,c,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,a){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?vd(c):this.lineralizeSegments(r,c).pipe((0,rn.z)(f=>{const _=new q(f,{});return this.expandSegment(e,_,t,f,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,a,c,f){const{matched:_,consumedSegments:I,lastChild:A,positionalParamSegments:R}=Oa(t,a,c);if(!_)return Zc(t);const O=this.applyRedirectCommands(I,a.redirectTo,R);return a.redirectTo.startsWith("/")?vd(O):this.lineralizeSegments(a,O).pipe((0,rn.z)(z=>this.expandSegment(e,t,r,z.concat(c.slice(A)),f,!1)))}matchSegmentAgainstRoute(e,t,r,a,c){if("**"===r.path)return r.loadChildren?(r._loadedConfig?et(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Et.U)(z=>(r._loadedConfig=z,new q(a,{})))):et(new q(a,{}));const{matched:f,consumedSegments:_,lastChild:I}=Oa(t,r,a);if(!f)return Zc(t);const A=a.slice(I);return this.getChildConfig(e,r,a).pipe((0,rn.z)(O=>{const z=O.module,J=O.routes,{segmentGroup:ve,slicedSegments:Be}=yd(t,_,A,J),Xe=new q(ve.segments,ve.children);if(0===Be.length&&Xe.hasChildren())return this.expandChildren(z,J,Xe).pipe((0,Et.U)(Mt=>new q(_,Mt)));if(0===J.length&&0===Be.length)return et(new q(_,{}));const Ut=ki(r)===c;return this.expandSegment(z,Xe,J,Be,Ut?yt:c,!0).pipe((0,Et.U)(Mn=>new q(_.concat(Mn.segments),Mn.children)))}))}getChildConfig(e,t,r){return t.children?et(new Jp(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?et(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,rn.z)(a=>{return a?this.configLoader.load(e.injector,t).pipe((0,Et.U)(c=>(t._loadedConfig=c,c))):(n=t,new hi.y(e=>e.error(Hh(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):et(new Jp([],e))}runCanLoadGuards(e,t,r){const a=t.canLoad;return a&&0!==a.length?et(a.map(f=>{const _=e.get(f);let I;if((n=_)&&xa(n.canLoad))I=_.canLoad(t,r);else{if(!xa(_))throw new Error("Invalid CanLoad guard");I=_(t,r)}var n;return Gn(I)})).pipe(Ma(),(0,Ar.b)(f=>{if(!os(f))return;const _=Hh(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw _.url=f,_}),(0,Et.U)(f=>!0===f)):et(!0)}lineralizeSegments(e,t){let r=[],a=t.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return et(r);if(a.numberOfChildren>1||!a.children[yt])return ir(e.redirectTo);a=a.children[yt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,a){const c=this.createSegmentGroup(e,t.root,r,a);return new Z(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return An(e,(a,c)=>{if("string"==typeof a&&a.startsWith(":")){const _=a.substring(1);r[c]=t[_]}else r[c]=a}),r}createSegmentGroup(e,t,r,a){const c=this.createSegments(e,t.segments,r,a);let f={};return An(t.children,(_,I)=>{f[I]=this.createSegmentGroup(e,_,r,a)}),new q(c,f)}createSegments(e,t,r,a){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,a):this.findOrReturn(c,r))}findPosParam(e,t,r){const a=r[t.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return a}findOrReturn(e,t){let r=0;for(const a of t){if(a.path===e.path)return t.splice(r),a;r++}return e}}function wd(n){const e={};for(const r of Object.keys(n.children)){const c=wd(n.children[r]);(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function(n){if(1===n.numberOfChildren&&n.children[yt]){const e=n.children[yt];return new q(n.segments.concat(e.segments),e.children)}return n}(new q(n.segments,e))}class xu{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ed{constructor(e,t){this.component=e,this.route=t}}function ng(n,e,t){const r=n._root;return Pa(r,e?e._root:null,t,[r.value])}function zc(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Pa(n,e,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=Oo(e);return n.children.forEach(f=>{(function(n,e,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,f=e?e.value:null,_=t?t.getContext(n.value.outlet):null;if(f&&c.routeConfig===f.routeConfig){const I=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ve(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ve(n.url,e.url)||!gr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Uc(n,e)||!gr(n.queryParams,e.queryParams);default:return!Uc(n,e)}}(f,c,c.routeConfig.runGuardsAndResolvers);I?a.canActivateChecks.push(new xu(r)):(c.data=f.data,c._resolvedData=f._resolvedData),Pa(n,e,c.component?_?_.children:null:t,r,a),I&&_&&_.outlet&&_.outlet.isActivated&&a.canDeactivateChecks.push(new Ed(_.outlet.component,f))}else f&&Na(e,_,a),a.canActivateChecks.push(new xu(r)),Pa(n,null,c.component?_?_.children:null:t,r,a)})(f,c[f.value.outlet],t,r.concat([f.value]),a),delete c[f.value.outlet]}),An(c,(f,_)=>Na(f,t.getContext(_),a)),a}function Na(n,e,t){const r=Oo(n),a=n.value;An(r,(c,f)=>{Na(c,a.component?e?e.children.getContext(f):null:e,t)}),t.canDeactivateChecks.push(new Ed(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}class lf{}function Id(n){return new hi.y(e=>e.error(n))}class df{constructor(e,t,r,a,c,f){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=f}recognize(){const e=yd(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,yt);if(null===t)return null;const r=new Du([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},yt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Qr(r,t),c=new cd(this.url,a);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(e){const t=e.value,r=Sa(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const c of Object.keys(t.children)){const f=t.children[c],_=gd(e,c),I=this.processSegmentGroup(_,f,c);if(null===I)return null;r.push(...I)}const a=sg(r);return a.sort((e,t)=>e.value.outlet===yt?-1:t.value.outlet===yt?1:e.value.outlet.localeCompare(t.value.outlet)),a}processSegment(e,t,r,a){for(const c of e){const f=this.processSegmentAgainstRoute(c,t,r,a);if(null!==f)return f}return Su(t,r,a)?[]:null}processSegmentAgainstRoute(e,t,r,a){if(e.redirectTo||!dy(e,t,r,a))return null;let c,f=[],_=[];if("**"===e.path){const J=r.length>0?Pc(r).parameters:{};c=new Du(r,J,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Li(e),ki(e),e.component,e,Dd(t),ka(t)+r.length,Ey(e))}else{const J=Oa(t,e,r);if(!J.matched)return null;f=J.consumedSegments,_=r.slice(J.lastChild),c=new Du(f,J.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Li(e),ki(e),e.component,e,Dd(t),ka(t)+f.length,Ey(e))}const I=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:A,slicedSegments:R}=yd(t,f,_,I.filter(J=>void 0===J.redirectTo),this.relativeLinkResolution);var n;if(0===R.length&&A.hasChildren()){const J=this.processChildren(I,A);return null===J?null:[new Qr(c,J)]}if(0===I.length&&0===R.length)return[new Qr(c,[])];const O=ki(e)===a,z=this.processSegment(I,A,R,O?yt:a);return null===z?null:[new Qr(c,z)]}}function hf(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function sg(n){const e=[],t=new Set;for(const r of n){if(!hf(r)){e.push(r);continue}const a=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==a?(a.children.push(...r.children),t.add(a)):e.push(r)}for(const r of t){const a=sg(r.children);e.push(new Qr(r.value,a))}return e.filter(r=>!t.has(r))}function Dd(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ka(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Li(n){return n.data||{}}function Ey(n){return n.resolve||{}}function Mu(n){return Nn(e=>{const t=n(e);return t?(0,hn.D)(t).pipe((0,Et.U)(()=>e)):et(e)})}class Fa extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Td=new g.OlP("ROUTES");class as{constructor(e,t,r,a){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=a}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const a=this.loadModuleFactory(t.loadChildren).pipe((0,Et.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t);const f=c.create(e);return new Jp(_u(f.injector.get(Td,void 0,g.XFs.Self|g.XFs.Optional)).map(Sn),f)}),Mi(c=>{throw t._loader$=void 0,c}));return t._loader$=new Sc(a,()=>new Si.x).pipe(un()),t._loader$}loadModuleFactory(e){return Gn(e()).pipe((0,rn.z)(t=>t instanceof g.YKP?et(t):(0,hn.D)(this.compiler.compileModuleAsync(t))))}}class Cd{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function gf(n){throw n}function ag(n,e,t){return e.parse("/")}function Va(n,e){return et(null)}const mf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ug={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mi=(()=>{class n{constructor(t,r,a,c,f,_,I){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=a,this.location=c,this.config=I,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Si.x,this.errorHandler=gf,this.malformedUriErrorHandler=ag,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Va,afterPreactivation:Va},this.urlHandlingStrategy=new Cd,this.routeReuseStrategy=new Fa,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(g.h0i),this.console=f.get(g.c2e);const O=f.get(g.R0b);this.isNgZoneEnabled=O instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(I),this.currentUrlTree=new Z(new q([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new as(f,_,z=>this.triggerEvent(new xo(z)),z=>this.triggerEvent(new Mo(z))),this.routerState=Lc(this.currentUrlTree,this.rootComponentType),this.transitions=new di({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Hr(a=>0!==a.id),(0,Et.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Nn(a=>{let c=!1,f=!1;return et(a).pipe((0,Ar.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Nn(_=>{const I=this.browserUrlTree.toString(),A=!this.navigated||_.extractedUrl.toString()!==I||I!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||A)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return d(_.source)&&(this.browserUrlTree=_.extractedUrl),et(_).pipe(Nn(O=>{const z=this.transitions.getValue();return r.next(new id(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),z!==this.transitions.getValue()?Ia.E:Promise.resolve(O)}),function(n,e,t,r){return Nn(a=>function(n,e,t,r,a){return new of(n,e,t,r,a).apply()}(n,e,t,a.extractedUrl,r).pipe((0,Et.U)(c=>Object.assign(Object.assign({},a),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ar.b)(O=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:O.urlAfterRedirects})}),function(n,e,t,r,a){return(0,rn.z)(c=>function(n,e,t,r,a="emptyOnly",c="legacy"){try{const f=new df(n,e,t,r,a,c).recognize();return null===f?Id(new lf):et(f)}catch(f){return Id(f)}}(n,e,c.urlAfterRedirects,t(c.urlAfterRedirects),r,a).pipe((0,Et.U)(f=>Object.assign(Object.assign({},c),{targetSnapshot:f}))))}(this.rootComponentType,this.config,O=>this.serializeUrl(O),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ar.b)(O=>{if("eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const J=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl(J,O)}this.browserUrlTree=O.urlAfterRedirects}const z=new Gp(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);r.next(z)}));if(A&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:z,extractedUrl:J,source:ve,restoredState:Be,extras:Xe}=_,Ut=new id(z,this.serializeUrl(J),ve,Be);r.next(Ut);const on=Lc(J,this.rootComponentType).snapshot;return et(Object.assign(Object.assign({},_),{targetSnapshot:on,urlAfterRedirects:J,extras:Object.assign(Object.assign({},Xe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,_.resolve(null),Ia.E}),Mu(_=>{const{targetSnapshot:I,id:A,extractedUrl:R,rawUrl:O,extras:{skipLocationChange:z,replaceUrl:J}}=_;return this.hooks.beforePreactivation(I,{navigationId:A,appliedUrlTree:R,rawUrlTree:O,skipLocationChange:!!z,replaceUrl:!!J})}),(0,Ar.b)(_=>{const I=new jh(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(I)}),(0,Et.U)(_=>Object.assign(Object.assign({},_),{guards:ng(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function(n,e){return(0,rn.z)(t=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:f}}=t;return 0===f.length&&0===c.length?et(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,hn.D)(n).pipe((0,rn.z)(a=>function(n,e,t,r,a){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return c&&0!==c.length?et(c.map(_=>{const I=zc(_,e,a);let A;if(function(n){return n&&xa(n.canDeactivate)}(I))A=Gn(I.canDeactivate(n,e,t,r));else{if(!xa(I))throw new Error("Invalid CanDeactivate guard");A=Gn(I(n,e,t,r))}return A.pipe(Da())})).pipe(Ma()):et(!0)}(a.component,a.route,t,e,r)),Da(a=>!0!==a,!0))}(f,r,a,n).pipe((0,rn.z)(_=>_&&function(n){return"boolean"==typeof n}(_)?function(n,e,t,r){return(0,hn.D)(e).pipe(ns(a=>Ac(function(n,e){return null!==n&&e&&e(new sd(n)),et(!0)}(a.route.parent,r),function(n,e){return null!==n&&e&&e(new Mc(n)),et(!0)}(a.route,r),function(n,e,t){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(f=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(f)).filter(f=>null!==f).map(f=>Ss(()=>et(f.guards.map(I=>{const A=zc(I,f.node,t);let R;if(function(n){return n&&xa(n.canActivateChild)}(A))R=Gn(A.canActivateChild(r,n));else{if(!xa(A))throw new Error("Invalid CanActivateChild guard");R=Gn(A(r,n))}return R.pipe(Da())})).pipe(Ma())));return et(c).pipe(Ma())}(n,a.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return et(!0);const a=r.map(c=>Ss(()=>{const f=zc(c,e,t);let _;if(function(n){return n&&xa(n.canActivate)}(f))_=Gn(f.canActivate(e,n));else{if(!xa(f))throw new Error("Invalid CanActivate guard");_=Gn(f(e,n))}return _.pipe(Da())}));return et(a).pipe(Ma())}(n,a.route,t))),Da(a=>!0!==a,!0))}(r,c,n,e):et(_)),(0,Et.U)(_=>Object.assign(Object.assign({},t),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),(0,Ar.b)(_=>{if(os(_.guardsResult)){const A=Hh(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw A.url=_.guardsResult,A}const I=new qr(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(I)}),Hr(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),Mu(_=>{if(_.guards.canActivateChecks.length)return et(_).pipe((0,Ar.b)(I=>{const A=new Ri(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(A)}),Nn(I=>{let A=!1;return et(I).pipe(function(n,e){return(0,rn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=t;if(!a.length)return et(t);let c=0;return(0,hn.D)(a).pipe(ns(f=>function(n,e,t,r){return function(n,e,t,r){const a=Object.keys(n);if(0===a.length)return et({});const c={};return(0,hn.D)(a).pipe((0,rn.z)(f=>function(n,e,t,r){const a=zc(n,e,r);return Gn(a.resolve?a.resolve(e,t):a(e,t))}(n[f],e,t,r).pipe((0,Ar.b)(_=>{c[f]=_}))),Qt(1),(0,rn.z)(()=>Object.keys(c).length===a.length?et(c):Ia.E))}(n._resolve,n,e,r).pipe((0,Et.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),Sa(n,t).resolve),null)))}(f.route,r,n,e)),(0,Ar.b)(()=>c++),Qt(1),(0,rn.z)(f=>c===a.length?et(t):Ia.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ar.b)({next:()=>A=!0,complete:()=>{A||(this.restoreHistory(I),this.cancelNavigationTransition(I,"At least one route resolver didn't emit any value."))}}))}),(0,Ar.b)(I=>{const A=new xc(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(A)}))}),Mu(_=>{const{targetSnapshot:I,id:A,extractedUrl:R,rawUrl:O,extras:{skipLocationChange:z,replaceUrl:J}}=_;return this.hooks.afterPreactivation(I,{navigationId:A,appliedUrlTree:R,rawUrlTree:O,skipLocationChange:!!z,replaceUrl:!!J})}),(0,Et.U)(_=>{const I=function(n,e,t){const r=Vc(n,e._root,t?t._root:void 0);return new uo(r,e)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return Object.assign(Object.assign({},_),{targetRouterState:I})}),(0,Ar.b)(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((n,e,t)=>(0,Et.U)(r=>(new tf(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),(0,Ar.b)({next(){c=!0},complete(){c=!0}}),function(n){return(0,Cr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var _;c||f||this.cancelNavigationTransition(a,`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`),(null===(_=this.currentNavigation)||void 0===_?void 0:_.id)===a.id&&(this.currentNavigation=null)}),Mi(_=>{if(f=!0,function(n){return n&&n[Ro]}(_)){const I=os(_.url);I||(this.navigated=!0,this.restoreHistory(a,!0));const A=new Ms(a.id,this.serializeUrl(a.extractedUrl),_.message);r.next(A),I?setTimeout(()=>{const R=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),O={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||d(a.source)};this.scheduleNavigation(R,"imperative",null,O,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const I=new ba(a.id,this.serializeUrl(a.extractedUrl),_);r.next(I);try{a.resolve(this.errorHandler(_))}catch(A){a.reject(A)}}return Ia.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var a;const c={replaceUrl:!0},f=(null===(a=t.state)||void 0===a?void 0:a.navigationId)?t.state:null;if(f){const I=Object.assign({},f);delete I.navigationId,delete I.\u0275routerPageId,0!==Object.keys(I).length&&(c.state=I)}const _=this.parseUrl(t.url);this.scheduleNavigation(_,r,f,c)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){eg(t),this.config=t.map(Sn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:a,queryParams:c,fragment:f,queryParamsHandling:_,preserveFragment:I}=r,A=a||this.routerState.root,R=I?this.currentUrlTree.fragment:f;let O=null;switch(_){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=c||null}return null!==O&&(O=this.removeEmptyProps(O)),function(n,e,t,r,a){if(0===t.length)return zp(e.root,e.root,e,r,a);const c=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ny(!0,0,n);let e=0,t=!1;const r=n.reduce((a,c,f)=>{if("object"==typeof c&&null!=c){if(c.outlets){const _={};return An(c.outlets,(I,A)=>{_[A]="string"==typeof I?I.split("/"):I}),[...a,{outlets:_}]}if(c.segmentPath)return[...a,c.segmentPath]}return"string"!=typeof c?[...a,c]:0===f?(c.split("/").forEach((_,I)=>{0==I&&"."===_||(0==I&&""===_?t=!0:".."===_?e++:""!=_&&a.push(_))}),a):[...a,c]},[]);return new ny(t,e,r)}(t);if(c.toRoot())return zp(e.root,new q([],{}),e,r,a);const f=function(n,e,t){if(n.isAbsolute)return new fd(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const c=t.snapshot._urlSegment;return new fd(c,c===e.root,0)}const r=dd(n.commands[0])?0:1;return function(n,e,t){let r=n,a=e,c=t;for(;c>a;){if(c-=a,r=r.parent,!r)throw new Error("Invalid number of '../'");a=r.segments.length}return new fd(r,!1,a-c)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(c,e,n),_=f.processChildren?Xh(f.segmentGroup,f.index,c.commands):Wp(f.segmentGroup,f.index,c.commands);return zp(f.segmentGroup,_,e,r,a)}(A,this.currentUrlTree,t,O,null!=R?R:null)}navigateByUrl(t,r={skipLocationChange:!1}){const a=os(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return r}isActive(t,r){let a;if(a=!0===r?Object.assign({},mf):!1===r?Object.assign({},ug):r,os(t))return Eu(this.currentUrlTree,t,a);const c=this.parseUrl(t);return Eu(this.currentUrlTree,c,a)}removeEmptyProps(t){return Object.keys(t).reduce((r,a)=>{const c=t[a];return null!=c&&(r[a]=c),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new yn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,a,c,f){var _,I,A;if(this.disposed)return Promise.resolve(!1);const R=this.transitions.value,O=d(r)&&R&&!d(R.source),z=R.rawUrl.toString()===t.toString(),J=R.id===(null===(_=this.currentNavigation)||void 0===_?void 0:_.id);if(O&&z&&J)return Promise.resolve(!0);let Be,Xe,Ut;f?(Be=f.resolve,Xe=f.reject,Ut=f.promise):Ut=new Promise((Mt,Un)=>{Be=Mt,Xe=Un});const on=++this.navigationId;let Mn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),Mn=a&&a.\u0275routerPageId?a.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(I=this.browserPageId)&&void 0!==I?I:0:(null!==(A=this.browserPageId)&&void 0!==A?A:0)+1):Mn=0,this.setTransition({id:on,targetPageId:Mn,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:c,resolve:Be,reject:Xe,promise:Ut,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ut.catch(Mt=>Promise.reject(Mt))}setBrowserUrl(t,r){const a=this.urlSerializer.serialize(t),c=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",c):this.location.go(a,"",c)}restoreHistory(t,r=!1){var a,c;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===f?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===f&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const a=new Ms(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){g.$Z()},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function d(n){return"imperative"!==n}class Q{}class Se{preload(e,t){return et(null)}}let Ye=(()=>{class n{constructor(t,r,a,c){this.router=t,this.injector=a,this.preloadingStrategy=c,this.loader=new as(a,r,I=>t.triggerEvent(new xo(I)),I=>t.triggerEvent(new Mo(I)))}setUpPreloading(){this.subscription=this.router.events.pipe(Hr(t=>t instanceof yn),ns(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(g.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const a=[];for(const c of r)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const f=c._loadedConfig;a.push(this.processRoutes(f.module,f.routes))}else c.loadChildren&&!c.canLoad?a.push(this.preloadConfig(t,c)):c.children&&a.push(this.processRoutes(t,c.children));return(0,hn.D)(a).pipe((0,no.J)(),(0,Et.U)(c=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?et(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,rn.z)(c=>(r._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(mi),g.LFG(g.Sil),g.LFG(g.zs3),g.LFG(Q))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),Je=(()=>{class n{constructor(t,r,a={}){this.router=t,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof id?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof yn&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Rc&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Rc(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){g.$Z()},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const pn=new g.OlP("ROUTER_CONFIGURATION"),Ps=new g.OlP("ROUTER_FORROOT_GUARD"),Ns=[je,{provide:Gt,useClass:xr},{provide:mi,useFactory:function(n,e,t,r,a,c,f={},_,I){const A=new mi(null,n,e,t,r,a,_u(c));return _&&(A.urlHandlingStrategy=_),I&&(A.routeReuseStrategy=I),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(f,A),f.enableTracing&&A.events.subscribe(R=>{var O,z;null===(O=console.group)||void 0===O||O.call(console,`Router Event: ${R.constructor.name}`),console.log(R.toString()),console.log(R),null===(z=console.groupEnd)||void 0===z||z.call(console)}),A},deps:[Gt,Au,je,g.zs3,g.Sil,Td,pn,[class{},new g.FiY],[class{},new g.FiY]]},Au,{provide:Iu,useFactory:function(n){return n.routerState.root},deps:[mi]},Ye,Se,class{preload(e,t){return t().pipe(Mi(()=>et(null)))}},{provide:pn,useValue:{enableTracing:!1}}];function Ad(){return new g.PXZ("Router",mi)}let Sd=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Ns,xd(t),{provide:Ps,useFactory:lg,deps:[[mi,new g.FiY,new g.tp0]]},{provide:pn,useValue:r||{}},{provide:ie,useFactory:Ru,deps:[ne,[new g.tBr(se),new g.FiY],pn]},{provide:Je,useFactory:cg,deps:[mi,Rh,pn]},{provide:Q,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Se},{provide:g.PXZ,multi:!0,useFactory:Ad},[Ou,{provide:g.ip1,multi:!0,useFactory:Rd,deps:[Ou]},{provide:Iy,useFactory:dg,deps:[Ou]},{provide:g.tb,multi:!0,useExisting:Iy}]]}}static forChild(t){return{ngModule:n,providers:[xd(t)]}}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Ps,8),g.LFG(mi,8))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();function cg(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Je(n,e,t)}function Ru(n,e,t={}){return t.useHash?new fe(n,e):new we(n,e)}function lg(n){return"guarded"}function xd(n){return[{provide:g.deG,multi:!0,useValue:n},{provide:Td,multi:!0,useValue:n}]}let Ou=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Si.x}appInitializer(){return this.injector.get(B,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const a=new Promise(_=>r=_),c=this.injector.get(mi),f=this.injector.get(pn);return"disabled"===f.initialNavigation?(c.setUpLocationChangeListener(),r(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?et(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),c.initialNavigation()):r(!0),a})}bootstrapListener(t){const r=this.injector.get(pn),a=this.injector.get(Ye),c=this.injector.get(Je),f=this.injector.get(mi),_=this.injector.get(g.z2F);t===_.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&f.initialNavigation(),a.setUpPreloading(),c.init(),f.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(g.zs3))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function Rd(n){return n.appInitializer.bind(n)}function dg(n){return n.bootstrapListener.bind(n)}const Iy=new g.OlP("Router Initializer"),by=[];let vf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[Sd.forRoot(by)],Sd]}),n})();var wI=k(4986),Rr=k(5813);function Ty(){return(0,Cr.e)((n,e)=>{let t,r=!1;n.subscribe(new Pn.Q(e,a=>{const c=t;t=a,r&&e.next([c,a]),r=!0}))})}function u0(n,e){return n===e}var Qe,us=k(2011),aT=(k(9259),k(3942)),pe=k(5861),Yc=k(9681),wf=k(4859),Pu=k(1877),Pt=k(2090),co="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ba={},Cy=Cy||{},wt=co||self;function hg(){}function Ay(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Od(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Sy="closure_uid_"+(1e9*Math.random()>>>0),bI=0;function It(n,e,t){return n.call.apply(n.bind,arguments)}function c0(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,r),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function Or(n,e,t){return(Or=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?It:c0).apply(null,arguments)}function Ef(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function sr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,a,c){for(var f=Array(arguments.length-2),_=2;_<arguments.length;_++)f[_-2]=arguments[_];return e.prototype[a].apply(r,f)}}function Pr(){this.s=this.s,this.o=this.o}var TI={};Pr.prototype.s=!1,Pr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,Sy)&&n[Sy]||(n[Sy]=++bI)}(this);delete TI[n]}},Pr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const fg=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Po=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,a="string"==typeof n?n.split(""):n;for(let c=0;c<r;c++)c in a&&e.call(t,a[c],c,n)};function My(n){return Array.prototype.concat.apply([],arguments)}function If(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Ry(n){return/^[\s\xa0]*$/.test(n)}var Nr,Oy=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Fi(n,e){return-1!=n.indexOf(e)}function Pd(n,e){return n<e?-1:n>e?1:0}e:{var pg=wt.navigator;if(pg){var gg=pg.userAgent;if(gg){Nr=gg;break e}}Nr=""}function Df(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function CI(n){const e={};for(const t in n)e[t]=n[t];return e}var d0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function h0(n,e){let t,r;for(let a=1;a<arguments.length;a++){for(t in r=arguments[a],r)n[t]=r[t];for(let c=0;c<d0.length;c++)t=d0[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Py(n){return Py[" "](n),n}Py[" "]=hg;var Nd,n,f0=Fi(Nr,"Opera"),bf=Fi(Nr,"Trident")||Fi(Nr,"MSIE"),p0=Fi(Nr,"Edge"),g0=p0||bf,Ny=Fi(Nr,"Gecko")&&!(Fi(Nr.toLowerCase(),"webkit")&&!Fi(Nr,"Edge"))&&!(Fi(Nr,"Trident")||Fi(Nr,"MSIE"))&&!Fi(Nr,"Edge"),m0=Fi(Nr.toLowerCase(),"webkit")&&!Fi(Nr,"Edge");function y0(){var n=wt.document;return n?n.documentMode:void 0}e:{var _0="",v0=(n=Nr,Ny?/rv:([^\);]+)(\)|;)/.exec(n):p0?/Edge\/([\d\.]+)/.exec(n):bf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):m0?/WebKit\/(\S+)/.exec(n):f0?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(v0&&(_0=v0?v0[1]:""),bf){var w0=y0();if(null!=w0&&w0>parseFloat(_0)){Nd=String(w0);break e}}Nd=_0}var uT={};function cT(){return e=uT,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=Oy(String(Nd)).split("."),t=Oy("9").split("."),r=Math.max(e.length,t.length);for(let f=0;0==n&&f<r;f++){var a=e[f]||"",c=t[f]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==a[0].length&&0==c[0].length)break;n=Pd(0==a[1].length?0:parseInt(a[1],10),0==c[1].length?0:parseInt(c[1],10))||Pd(0==a[2].length,0==c[2].length)||Pd(a[2],c[2]),a=a[3],c=c[3]}while(0==n)}return 0<=n}();var e}var lT=wt.document&&bf&&(y0()||parseInt(Nd,10))||void 0,dT=function(){if(!wt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{wt.addEventListener("test",hg,e),wt.removeEventListener("test",hg,e)}catch(t){}return n}();function yi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function ks(n,e){if(yi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Ny){e:{try{Py(e.nodeName);var a=!0;break e}catch(c){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ky[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ks.Z.h.call(this)}}yi.prototype.h=function(){this.defaultPrevented=!0},sr(ks,yi);var ky={2:"touch",3:"pen",4:"mouse"};ks.prototype.h=function(){ks.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Tf="closure_listenable_"+(1e6*Math.random()|0),I0=0;function Ly(n,e,t,r,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=a,this.key=++I0,this.ca=this.fa=!1}function Cf(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function kd(n){this.src=n,this.g={},this.h=0}function Fy(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],a=fg(r,e);(c=0<=a)&&Array.prototype.splice.call(r,a,1),c&&(Cf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function No(n,e,t,r){for(var a=0;a<n.length;++a){var c=n[a];if(!c.ca&&c.listener==e&&c.capture==!!t&&c.ia==r)return a}return-1}kd.prototype.add=function(n,e,t,r,a){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var f=No(n,e,r,a);return-1<f?(e=n[f],t||(e.fa=!1)):((e=new Ly(e,this.src,c,!!r,a)).fa=t,n.push(e)),e};var mg="closure_lm_"+(1e6*Math.random()|0),Uy={};function yg(n,e,t,r,a){if(r&&r.once)return T0(n,e,t,r,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)yg(n,e[c],t,r,a);return null}return t=ku(t),n&&n[Tf]?n.N(e,t,Od(r)?!!r.capture:!!r,a):D0(n,e,t,!1,r,a)}function D0(n,e,t,r,a,c){if(!e)throw Error("Invalid event type");var f=Od(a)?!!a.capture:!!a,_=Nu(n);if(_||(n[mg]=_=new kd(n)),(t=_.add(e,t,r,f,c)).proxy)return t;if(r=function(){var e=Vy;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)dT||(a=f),void 0===a&&(a=!1),n.addEventListener(e.toString(),r,a);else if(n.attachEvent)n.attachEvent(Jc(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function T0(n,e,t,r,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)T0(n,e[c],t,r,a);return null}return t=ku(t),n&&n[Tf]?n.O(e,t,Od(r)?!!r.capture:!!r,a):D0(n,e,t,!0,r,a)}function C0(n,e,t,r,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)C0(n,e[c],t,r,a);else r=Od(r)?!!r.capture:!!r,t=ku(t),n&&n[Tf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=No(c=n.g[e],t,r,a))&&(Cf(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=Nu(n))&&(e=n.g[e.toString()],n=-1,e&&(n=No(e,t,r,a)),(t=-1<n?e[n]:null)&&Qc(t))}function Qc(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Tf])Fy(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Jc(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Nu(e))?(Fy(t,n),0==t.h&&(t.src=null,e[mg]=null)):Cf(n)}}}function Jc(n){return n in Uy?Uy[n]:Uy[n]="on"+n}function Vy(n,e){if(n.ca)n=!0;else{e=new ks(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Qc(n),n=t.call(r,e)}return n}function Nu(n){return(n=n[mg])instanceof kd?n:null}var Xc="__closure_events_fn_"+(1e9*Math.random()>>>0);function ku(n){return"function"==typeof n?n:(n[Xc]||(n[Xc]=function(e){return n.handleEvent(e)}),n[Xc])}function kr(){Pr.call(this),this.i=new kd(this),this.P=this,this.I=null}function Lr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new yi(e,n);else if(e instanceof yi)e.target=e.target||n;else{var a=e;h0(e=new yi(r,n),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var f=e.g=t[c];a=Af(f,r,!0,e)&&a}if(a=Af(f=e.g=n,r,!0,e)&&a,a=Af(f,r,!1,e)&&a,t)for(c=0;c<t.length;c++)a=Af(f=e.g=t[c],r,!1,e)&&a}function Af(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.ca&&f.capture==t){var _=f.listener,I=f.ia||f.src;f.fa&&Fy(n.i,f),a=!1!==_.call(I,r)&&a}}return a&&!r.defaultPrevented}sr(kr,Pr),kr.prototype[Tf]=!0,kr.prototype.removeEventListener=function(n,e,t,r){C0(this,n,e,t,r)},kr.prototype.M=function(){if(kr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Cf(t[r]);delete n.g[e],n.h--}}this.I=null},kr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},kr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Sf=wt.JSON.stringify;function By(){var n=$y;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var _g,xf=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new xI,n=>n.reset());class xI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function S0(n){wt.setTimeout(()=>{throw n},0)}function x0(n,e){_g||function(){var n=wt.Promise.resolve(void 0);_g=function(){n.then(MI)}}(),jy||(_g(),jy=!0),$y.add(n,e)}var jy=!1,$y=new class{constructor(){this.h=this.g=null}add(e,t){const r=xf.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function MI(){for(var n;n=By();){try{n.h.call(n.g)}catch(t){S0(t)}var e=xf;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}jy=!1}function vg(n,e){kr.call(this),this.h=n||1,this.g=e||wt,this.j=Or(this.kb,this),this.l=Date.now()}function _i(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Hy(n,e,t){if("function"==typeof n)t&&(n=Or(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Or(n.handleEvent,n)}return 2147483647<Number(e)?-1:wt.setTimeout(n,e||0)}function R0(n){n.g=Hy(()=>{n.g=null,n.i&&(n.i=!1,R0(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}sr(vg,kr),(Qe=vg.prototype).da=!1,Qe.S=null,Qe.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Lr(this,"tick"),this.da&&(_i(this),this.start()))}},Qe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qe.M=function(){vg.Z.M.call(this),_i(this),delete this.g};class hT extends Pr{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:R0(this)}M(){super.M(),this.g&&(wt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wg(n){Pr.call(this),this.h=n,this.g={}}sr(wg,Pr);var qy=[];function RI(n,e,t,r){Array.isArray(t)||(t&&(qy[0]=t.toString()),t=qy);for(var a=0;a<t.length;a++){var c=yg(e,t[a],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function O0(n){Df(n.g,function(e,t){this.g.hasOwnProperty(t)&&Qc(e)},n),n.g={}}function Ld(){this.g=!0}function Fd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<a.length;f++)a[f]=""}}}return Sf(t)}catch(_){return e}}(n,t)+(r?" "+r:"")})}wg.prototype.M=function(){wg.Z.M.call(this),O0(this)},wg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ld.prototype.Aa=function(){this.g=!1},Ld.prototype.info=function(){};var el={},Zy=null;function Eg(){return Zy=Zy||new kr}function k0(n){yi.call(this,el.Ma,n)}function Ud(n){const e=Eg();Lr(e,new k0(e,n))}function Gy(n,e){yi.call(this,el.STAT_EVENT,n),this.stat=e}function vi(n){const e=Eg();Lr(e,new Gy(e,n))}function lo(n,e){yi.call(this,el.Na,n),this.size=e}function tl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return wt.setTimeout(function(){n()},e)}el.Ma="serverreachability",sr(k0,yi),el.STAT_EVENT="statevent",sr(Gy,yi),el.Na="timingevent",sr(lo,yi);var Ig={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},L0={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function F0(){}function U0(){}F0.prototype.h=null;var Ky,Mf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Wy(){yi.call(this,"d")}function Rf(){yi.call(this,"c")}function Dg(){}function Lu(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new wg(this),this.P=NI,this.W=new vg(n=g0?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new bg}function bg(){this.i=null,this.g="",this.h=!1}sr(Wy,yi),sr(Rf,yi),sr(Dg,F0),Dg.prototype.g=function(){return new XMLHttpRequest},Dg.prototype.i=function(){return{}},Ky=new Dg;var NI=45e3,Of={},Vd={};function Tg(n,e,t){n.K=1,n.v=Mg(cs(e)),n.s=t,n.U=!0,V0(n,null)}function V0(n,e){n.F=Date.now(),Pf(n),n.A=cs(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Rg(t.h,"t",r),n.C=0,t=n.l.H,n.h=new bg,n.g=cl(n.l,t?e:null,!n.s),0<n.O&&(n.L=new hT(Or(n.Ia,n,n.g),n.O)),RI(n.V,n.g,"readystatechange",n.gb),e=n.H?CI(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Ud(1),function(n,e,t,r,a,c){n.info(function(){if(n.g)if(c)for(var f="",_=c.split("&"),I=0;I<_.length;I++){var A=_[I].split("=");if(1<A.length){var R=A[0];A=A[1];var O=R.split("_");f=2<=O.length&&"type"==O[1]?f+(R+"=")+A+"&":f+(R+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(n.j,n.u,n.A,n.m,n.X,n.s)}function B0(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Cg(n,e,t){let a,r=!0;for(;!n.I&&n.C<t.length;){if(a=fT(n,t),a==Vd){4==e&&(n.o=4,vi(14),r=!1),Fd(n.j,n.m,null,"[Incomplete Response]");break}if(a==Of){n.o=4,vi(15),Fd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Fd(n.j,n.m,a,null),Ag(n,a)}B0(n)&&a!=Vd&&a!=Of&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,vi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),jf(e),e.L=!0,vi(11))):(Fd(n.j,n.m,t,"[Invalid Chunked Response]"),Fu(n),Bd(n))}function fT(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Vd:(t=Number(e.substring(t,r)),isNaN(t)?Of:(r+=1)+t>e.length?Vd:(e=e.substr(r,t),n.C=r+t,e))}function Pf(n){n.Y=Date.now()+n.P,Yy(n,n.P)}function Yy(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=tl(Or(n.eb,n),e)}function Nf(n){n.B&&(wt.clearTimeout(n.B),n.B=null)}function Bd(n){0==n.l.G||n.I||sl(n.l,n)}function Fu(n){Nf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,_i(n.W),O0(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Ag(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||n_(t.i,n)))if(t.I=n.N,!n.J&&n_(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(A){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=tl(Or(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;qa(t),Bu(t)}Ui(t),vi(18)}if(1>=G0(t.i)&&t.ka){try{t.ka()}catch(A){}t.ka=void 0}}else Ls(t,11)}else if((n.J||t.g==n)&&qa(t),!Ry(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let A=a[e];if(t.U=A[0],A=A[1],2==t.G)if("c"==A[0]){t.J=A[1],t.la=A[2];const R=A[3];null!=R&&(t.ma=R,t.h.info("VER="+t.ma));const O=A[4];null!=O&&(t.za=O,t.h.info("SVER="+t.za));const z=A[5];null!=z&&"number"==typeof z&&0<z&&(t.K=r=1.5*z,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const J=n.g;if(J){const ve=J.g?J.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ve){var c=r.i;!c.g&&(Fi(ve,"spdy")||Fi(ve,"quic")||Fi(ve,"h2"))&&(c.j=c.l,c.g=new Set,c.h&&(Og(c,c.h),c.h=null))}if(r.D){const Be=J.g?J.g.getResponseHeader("X-HTTP-Session-Id"):null;Be&&(r.sa=Be,In(r.F,r.D,Be))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var f=n;if((r=t).oa=ul(r,r.H?r.la:null,r.W),f.J){BI(r.i,f);var _=f,I=r.K;I&&_.setTimeout(I),_.B&&(Nf(_),Pf(_)),r.g=f}else Bf(r);0<t.l.length&&Kd(t)}else"stop"!=A[0]&&"close"!=A[0]||Ls(t,7);else 3==t.G&&("stop"==A[0]||"close"==A[0]?"stop"==A[0]?Ls(t,7):u_(t):"noop"!=A[0]&&t.j&&t.j.wa(A),t.A=0)}Ud(4)}catch(A){}}function jd(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ay(n)||"string"==typeof n)Po(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Ay(n)||"string"==typeof n){t=[];for(var r=n.length,a=0;a<r;a++)t.push(a)}else for(a in t=[],r=0,n)t[r++]=a;r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Ay(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),a=r.length;for(var c=0;c<a;c++)e.call(void 0,r[c],t&&t[c],n)}}function $d(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof $d)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Qy(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Hd(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)Hd(a,r=n.g[e])||(n.g[t++]=r,a[r]=1),e++;n.g.length=t}}function Hd(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Qe=Lu.prototype).setTimeout=function(n){this.P=n},Qe.gb=function(n){n=n.target;const e=this.L;e&&3==Ha(n)?e.l():this.Ia(n)},Qe.Ia=function(n){try{if(n==this.g)e:{const R=Ha(this.g);var e=this.g.Da();const O=this.g.ba();if(!(3>R)&&(3!=R||g0||this.g&&(this.h.h||this.g.ga()||Q0(this.g)))){this.I||4!=R||7==e||Ud(8==e||0>=O?3:2),Nf(this);var t=this.g.ba();this.N=t;t:if(B0(this)){var r=Q0(this.g);n="";var a=r.length,c=4==Ha(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Fu(this),Bd(this);var f="";break t}this.h.i=new wt.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==a-1});r.splice(0,a),this.h.g+=n,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=200==t,function(n,e,t,r,a,c,f){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.X,R,t),this.i){if(this.$&&!this.J){t:{if(this.g){var _,I=this.g;if((_=I.g?I.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ry(_)){var A=_;break t}}A=null}if(!(t=A)){this.i=!1,this.o=3,vi(12),Fu(this),Bd(this);break e}Fd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ag(this,t)}this.U?(Cg(this,R,f),g0&&this.i&&3==R&&(RI(this.V,this.W,"tick",this.fb),this.W.start())):(Fd(this.j,this.m,f,null),Ag(this,f)),4==R&&Fu(this),this.i&&!this.I&&(4==R?sl(this.l,this):(this.i=!1,Pf(this)))}else 400==t&&0<f.indexOf("Unknown SID")?(this.o=3,vi(12)):(this.o=0,vi(13)),Fu(this),Bd(this)}}}catch(R){}},Qe.fb=function(){if(this.g){var n=Ha(this.g),e=this.g.ga();this.C<e.length&&(Nf(this),Cg(this,n,e),this.i&&4!=n&&Pf(this))}},Qe.cancel=function(){this.I=!0,Fu(this)},Qe.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ud(3),vi(17)),Fu(this),this.o=2,Bd(this)):Yy(this,this.Y-n)},(Qe=$d.prototype).R=function(){Qy(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Qe.T=function(){return Qy(this),this.g.concat()},Qe.get=function(n,e){return Hd(this.h,n)?this.h[n]:e},Qe.set=function(n,e){Hd(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Qe.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var a=t[r],c=this.get(a);n.call(e,c,a,this)}};var Sg=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $a(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof $a){this.g=void 0!==e?e:n.g,xg(this,n.j),this.s=n.s,qd(this,n.i),kf(this,n.m),this.l=n.l,e=n.h;var t=new Ff;t.i=e.i,e.g&&(t.g=new $d(e.g),t.h=e.h),Jy(this,t),this.o=n.o}else n&&(t=String(n).match(Sg))?(this.g=!!e,xg(this,t[1]||"",!0),this.s=Lf(t[2]||""),qd(this,t[3]||"",!0),kf(this,t[4]),this.l=Lf(t[5]||"",!0),Jy(this,t[6]||"",!0),this.o=Lf(t[7]||"")):(this.g=!!e,this.h=new Ff(null,this.g))}function cs(n){return new $a(n)}function xg(n,e,t){n.j=t?Lf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function qd(n,e,t){n.i=t?Lf(e,!0):e}function kf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Jy(n,e,t){e instanceof Ff?(n.h=e,function(n,e){e&&!n.j&&(Uu(n),n.i=null,n.g.forEach(function(t,r){var a=r.toLowerCase();r!=a&&($0(this,r),Rg(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Zd(e,zd)),n.h=new Ff(e,n.g))}function In(n,e,t){n.h.set(e,t)}function Mg(n){return In(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Lf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Zd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Gd),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Gd(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}$a.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Zd(e,e_,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Zd(e,e_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Zd(t,"/"==t.charAt(0)?FI:LI,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Zd(t,UI)),n.join("")};var e_=/[#\/\?@]/g,LI=/[#\?:]/g,FI=/[#\?]/g,zd=/[#\?@]/g,UI=/#/g;function Ff(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Uu(n){n.g||(n.g=new $d,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),a=null;if(0<=r){var c=n[t].substring(0,r);a=n[t].substring(r+1)}else c=n[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function $0(n,e){Uu(n),e=nl(n,e),Hd(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Hd((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Qy(n)))}function ls(n,e){return Uu(n),e=nl(n,e),Hd(n.g.h,e)}function Rg(n,e,t){$0(n,e),0<t.length&&(n.i=null,n.g.set(nl(n,e),If(t)),n.h+=t.length)}function nl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function t_(n){this.l=n||VI,n=wt.PerformanceNavigationTiming?0<(n=wt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(wt.g&&wt.g.Ea&&wt.g.Ea()&&wt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Qe=Ff.prototype).add=function(n,e){Uu(this),this.i=null,n=nl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Qe.forEach=function(n,e){Uu(this),this.g.forEach(function(t,r){Po(t,function(a){n.call(e,a,r,this)},this)},this)},Qe.T=function(){Uu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var a=n[r],c=0;c<a.length;c++)t.push(e[r]);return t},Qe.R=function(n){Uu(this);var e=[];if("string"==typeof n)ls(this,n)&&(e=My(e,this.g.get(nl(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=My(e,n[t])}return e},Qe.set=function(n,e){return Uu(this),this.i=null,ls(this,n=nl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Qe.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],a=encodeURIComponent(String(r));r=this.R(r);for(var c=0;c<r.length;c++){var f=a;""!==r[c]&&(f+="="+encodeURIComponent(String(r[c]))),n.push(f)}}return this.i=n.join("&")};var VI=10;function Z0(n){return!!n.h||!!n.g&&n.g.size>=n.j}function G0(n){return n.h?1:n.g?n.g.size:0}function n_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Og(n,e){n.g?n.g.add(e):n.h=e}function BI(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function r_(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return If(n.i)}function i_(){}function jI(){this.g=new i_}function pT(n,e,t){const r=t||"";try{jd(n,function(a,c){let f=a;Od(a)&&(f=Sf(a)),e.push(r+c+"="+encodeURIComponent(f))})}catch(a){throw e.push(r+"type="+encodeURIComponent("_badmap")),a}}function Wd(n,e,t,r,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(r)}catch(c){}}function Uf(n){this.l=n.$b||null,this.j=n.ib||!1}function Vf(n,e){kr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Pg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}t_.prototype.cancel=function(){if(this.i=r_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},i_.prototype.stringify=function(n){return wt.JSON.stringify(n,void 0)},i_.prototype.parse=function(n){return wt.JSON.parse(n,void 0)},sr(Uf,F0),Uf.prototype.g=function(){return new Vf(this.l,this.j)},Uf.prototype.i=function(n){return function(){return n}}({}),sr(Vf,kr);var Pg=0;function $I(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function wi(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ng(n)}function Ng(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Qe=Vf.prototype).open=function(n,e){if(this.readyState!=Pg)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ng(this)},Qe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||wt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wi(this)),this.readyState=Pg},Qe.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ng(this)),this.g&&(this.readyState=3,Ng(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==wt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$I(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Qe.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?wi(this):Ng(this),3==this.readyState&&$I(this)}},Qe.Ua=function(n){this.g&&(this.response=this.responseText=n,wi(this))},Qe.Ta=function(n){this.g&&(this.response=n,wi(this))},Qe.ha=function(){this.g&&wi(this)},Qe.setRequestHeader=function(n,e){this.v.append(n,e)},Qe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Qe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Vf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var mT=wt.JSON.parse;function Wn(n){kr.call(this),this.headers=new $d,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=s_,this.K=this.L=!1}sr(Wn,kr);var s_="",z0=/^https?$/i,HI=["POST","PUT"];function W0(n){return"content-type"==n.toLowerCase()}function o_(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,K0(n),Lg(n)}function K0(n){n.D||(n.D=!0,Lr(n,"complete"),Lr(n,"error"))}function kg(n){if(n.h&&void 0!==Cy&&(!n.C[1]||4!=Ha(n)||2!=n.ba()))if(n.v&&4==Ha(n))Hy(n.Fa,0,n);else if(Lr(n,"readystatechange"),4==Ha(n)){n.h=!1;try{const _=n.ba();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===_){var a=String(n.H).match(Sg)[1]||null;if(!a&&wt.self&&wt.self.location){var c=wt.self.location.protocol;a=c.substr(0,c.length-1)}r=!z0.test(a?a.toLowerCase():"")}t=r}if(t)Lr(n,"complete"),Lr(n,"success");else{n.m=6;try{var f=2<Ha(n)?n.g.statusText:""}catch(I){f=""}n.j=f+" ["+n.ba()+"]",K0(n)}}finally{Lg(n)}}}function Lg(n,e){if(n.g){Y0(n);const t=n.g,r=n.C[0]?hg:null;n.g=null,n.C=null,e||Lr(n,"ready");try{t.onreadystatechange=r}catch(a){}}}function Y0(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(wt.clearTimeout(n.A),n.A=null)}function Ha(n){return n.g?n.g.readyState:0}function Q0(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case s_:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function a_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return Df(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):In(n,e,t))}function Vu(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function rl(n){this.za=0,this.l=[],this.h=new Ld,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Vu("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Vu("baseRetryDelayMs",5e3,n),this.$a=Vu("retryDelaySeedMs",1e4,n),this.Ya=Vu("forwardChannelMaxRetries",2,n),this.ra=Vu("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new t_(n&&n.concurrentRequestLimit),this.Ca=new jI,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function u_(n){if(J0(n),3==n.G){var e=n.V++,t=cs(n.F);In(t,"SID",n.J),In(t,"RID",e),In(t,"TYPE","terminate"),or(n,t),(e=new Lu(n,n.h,e,void 0)).K=2,e.v=Mg(cs(t)),t=!1,wt.navigator&&wt.navigator.sendBeacon&&(t=wt.navigator.sendBeacon(e.v.toString(),"")),!t&&wt.Image&&((new Image).src=e.v,t=!0),t||(e.g=cl(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Pf(e)}al(n)}function Bu(n){n.g&&(jf(n),n.g.cancel(),n.g=null)}function J0(n){Bu(n),n.u&&(wt.clearTimeout(n.u),n.u=null),qa(n),n.i.cancel(),n.m&&("number"==typeof n.m&&wt.clearTimeout(n.m),n.m=null)}function c_(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Kd(n)}function Kd(n){Z0(n.i)||n.m||(n.m=!0,x0(n.Ha,n),n.C=0)}function Yd(n,e){var t;t=e?e.m:n.V++;const r=cs(n.F);In(r,"SID",n.J),In(r,"RID",t),In(r,"AID",n.U),or(n,r),n.o&&n.s&&a_(r,n.o,n.s),t=new Lu(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=ju(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Og(n.i,t),Tg(t,r,e)}function or(n,e){n.j&&jd({},function(t,r){In(e,r,t)})}function ju(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Or(n.j.Oa,n.j,n):null;e:{var a=n.l;let c=-1;for(;;){const f=["count="+t];-1==c?0<t?(c=a[0].h,f.push("ofs="+c)):c=0:f.push("ofs="+c);let _=!0;for(let I=0;I<t;I++){let A=a[I].h;const R=a[I].g;if(A-=c,0>A)c=Math.max(0,a[I].h-100),_=!1;else try{pT(R,f,"req"+A+"_")}catch(O){r&&r(R)}}if(_){r=f.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Bf(n){n.g||n.u||(n.Y=1,x0(n.Ga,n),n.A=0)}function Ui(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=tl(Or(n.Ga,n),ol(n,n.A)),n.A++,0))}function jf(n){null!=n.B&&(wt.clearTimeout(n.B),n.B=null)}function il(n){n.g=new Lu(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=cs(n.oa);In(e,"RID","rpc"),In(e,"SID",n.J),In(e,"CI",n.N?"0":"1"),In(e,"AID",n.U),or(n,e),In(e,"TYPE","xmlhttp"),n.o&&n.s&&a_(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Mg(cs(e)),t.s=null,t.U=!0,V0(t,n)}function qa(n){null!=n.v&&(wt.clearTimeout(n.v),n.v=null)}function sl(n,e){var t=null;if(n.g==e){qa(n),jf(n),n.g=null;var r=2}else{if(!n_(n.i,e))return;t=e.D,BI(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;Lr(r=Eg(),new lo(r,t,e,a)),Kd(n)}else Bf(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==r&&function(n,e){return!(G0(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=tl(Or(n.Ha,n,e),ol(n,n.C)),n.C++,0)))}(n,e)||2==r&&Ui(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:Ls(n,5);break;case 4:Ls(n,10);break;case 3:Ls(n,6);break;default:Ls(n,2)}}function ol(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ls(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Or(n.jb,n);t||(t=new $a("//www.google.com/images/cleardot.gif"),wt.location&&"http"==wt.location.protocol||xg(t,"https"),Mg(t)),function(n,e){const t=new Ld;if(wt.Image){const r=new Image;r.onload=Ef(Wd,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ef(Wd,t,r,"TestLoadImage: error",!1,e),r.onabort=Ef(Wd,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ef(Wd,t,r,"TestLoadImage: timeout",!1,e),wt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else vi(2);n.G=0,n.j&&n.j.va(e),al(n),J0(n)}function al(n){n.G=0,n.I=-1,n.j&&((0!=r_(n.i).length||0!=n.l.length)&&(n.i.i.length=0,If(n.l),n.l.length=0),n.j.ua())}function ul(n,e,t){let r=function(n){return n instanceof $a?cs(n):new $a(n,void 0)}(t);if(""!=r.i)e&&qd(r,e+"."+r.i),kf(r,r.m);else{const a=wt.location;r=function(n,e,t,r){var a=new $a(null,void 0);return n&&xg(a,n),e&&qd(a,e),t&&kf(a,t),r&&(a.l=r),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&Df(n.aa,function(a,c){In(r,c,a)}),t=n.sa,(e=n.D)&&t&&In(r,e,t),In(r,"VER",n.ma),or(n,r),r}function cl(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Wn(t&&n.Ba&&!n.qa?new Uf({ib:!0}):n.qa)).L=n.H,e}function ll(){}function $f(){if(bf&&!(10<=Number(lT)))throw Error("Environmental error: no available transport.")}function Vi(n,e){kr.call(this),this.g=new rl(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Ry(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ry(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new dl(this)}function l_(n){Wy.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function d_(){Rf.call(this),this.status=1}function dl(n){this.g=n}(Qe=Wn.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ky.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:Ky),this.g.onreadystatechange=Or(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(c){return void o_(this,c)}n=t||"";const a=new $d(this.headers);r&&jd(r,function(c,f){a.set(f,c)}),r=function(n){e:{var e=W0;const t=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in r&&e.call(void 0,r[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=wt.FormData&&n instanceof wt.FormData,!(0<=fg(HI,e))||r||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(c,f){this.g.setRequestHeader(f,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Y0(this),0<this.B&&((this.K=function(n){return bf&&cT()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Or(this.pa,this)):this.A=Hy(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){o_(this,c)}},Qe.pa=function(){void 0!==Cy&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lr(this,"timeout"),this.abort(8))},Qe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Lr(this,"complete"),Lr(this,"abort"),Lg(this))},Qe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lg(this,!0)),Wn.Z.M.call(this)},Qe.Fa=function(){this.s||(this.F||this.v||this.l?kg(this):this.cb())},Qe.cb=function(){kg(this)},Qe.ba=function(){try{return 2<Ha(this)?this.g.status:-1}catch(n){return-1}},Qe.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Qe.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),mT(e)}},Qe.Da=function(){return this.m},Qe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Qe=rl.prototype).ma=8,Qe.G=1,Qe.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Qe.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new Lu(this,this.h,n,void 0);let c=this.s;if(this.P&&(c?(c=CI(c),h0(c,this.P)):c=this.P),null===this.o&&(a.H=c),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ju(this,a,e),In(t=cs(this.F),"RID",n),In(t,"CVER",22),this.D&&In(t,"X-HTTP-Session-Id",this.D),or(this,t),this.o&&c&&a_(t,this.o,c),Og(this.i,a),this.Ra&&In(t,"TYPE","init"),this.ja?(In(t,"$req",e),In(t,"SID","null"),a.$=!0,Tg(a,t,null)):Tg(a,t,e),this.G=2}}else 3==this.G&&(n?Yd(this,n):0==this.l.length||Z0(this.i)||Yd(this))},Qe.Ga=function(){if(this.u=null,il(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=tl(Or(this.bb,this),n)}},Qe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,vi(10),Bu(this),il(this))},Qe.ab=function(){null!=this.v&&(this.v=null,Bu(this),Ui(this),vi(19))},Qe.jb=function(n){n?(this.h.info("Successfully pinged google.com"),vi(2)):(this.h.info("Failed to ping google.com"),vi(1))},(Qe=ll.prototype).xa=function(){},Qe.wa=function(){},Qe.va=function(){},Qe.ua=function(){},Qe.Oa=function(){},$f.prototype.g=function(n,e){return new Vi(n,e)},sr(Vi,kr),Vi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),x0(Or(n.hb,n,e))),vi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=ul(n,null,n.W),Kd(n)},Vi.prototype.close=function(){u_(this.g)},Vi.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,c_(this.g,e)}else this.v?((e={}).__data__=Sf(n),c_(this.g,e)):c_(this.g,n)},Vi.prototype.M=function(){this.g.j=null,delete this.j,u_(this.g),delete this.g,Vi.Z.M.call(this)},sr(l_,Wy),sr(d_,Rf),sr(dl,ll),dl.prototype.xa=function(){Lr(this.g,"a")},dl.prototype.wa=function(n){Lr(this.g,new l_(n))},dl.prototype.va=function(n){Lr(this.g,new d_(n))},dl.prototype.ua=function(){Lr(this.g,"b")},$f.prototype.createWebChannel=$f.prototype.g,Vi.prototype.send=Vi.prototype.u,Vi.prototype.open=Vi.prototype.m,Vi.prototype.close=Vi.prototype.close,Ig.NO_ERROR=0,Ig.TIMEOUT=8,Ig.HTTP_ERROR=6,L0.COMPLETE="complete",U0.EventType=Mf,Mf.OPEN="a",Mf.CLOSE="b",Mf.ERROR="c",Mf.MESSAGE="d",kr.prototype.listen=kr.prototype.N,Wn.prototype.listenOnce=Wn.prototype.O,Wn.prototype.getLastError=Wn.prototype.La,Wn.prototype.getLastErrorCode=Wn.prototype.Da,Wn.prototype.getStatus=Wn.prototype.ba,Wn.prototype.getResponseJson=Wn.prototype.Qa,Wn.prototype.getResponseText=Wn.prototype.ga,Wn.prototype.send=Wn.prototype.ea;var X0=Ba.createWebChannelTransport=function(){return new $f},ew=Ba.getStatEventTarget=function(){return Eg()},Fg=Ba.ErrorCode=Ig,tw=Ba.EventType=L0,ZI=Ba.Event=el,h_=Ba.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},GI=Ba.FetchXmlHttpFactory=Uf,Hf=Ba.WebChannel=U0,nw=Ba.XhrIo=Wn;const rw="@firebase/firestore";class Gr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gr.UNAUTHENTICATED=new Gr(null),Gr.GOOGLE_CREDENTIALS=new Gr("google-credentials-uid"),Gr.FIRST_PARTY=new Gr("first-party-uid"),Gr.MOCK_USER=new Gr("mock-user");let hl="9.6.1";const $u=new Pu.Yd("@firebase/firestore");function Ug(){return $u.logLevel}function Pe(n,...e){if($u.logLevel<=Pu.in.DEBUG){const t=e.map(Zf);$u.debug(`Firestore (${hl}): ${n}`,...t)}}function mr(n,...e){if($u.logLevel<=Pu.in.ERROR){const t=e.map(Zf);$u.error(`Firestore (${hl}): ${n}`,...t)}}function qf(n,...e){if($u.logLevel<=Pu.in.WARN){const t=e.map(Zf);$u.warn(`Firestore (${hl}): ${n}`,...t)}}function Zf(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function it(n="Unexpected state"){const e=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: `+n;throw mr(e),new Error(e)}function ft(n,e){n||it()}function He(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class WI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gr.UNAUTHENTICATED))}shutdown(){}}class Qd{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class YI{constructor(e){this.t=e,this.currentUser=Gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let a=this.i;const c=A=>this.i!==a?(a=this.i,t(A)):Promise.resolve();let f=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new yr,e.enqueueRetryable(()=>c(this.currentUser))};const _=()=>{const A=f;e.enqueueRetryable((0,pe.Z)(function*(){yield A.promise,yield c(r.currentUser)}))},I=A=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.auth.addAuthTokenListener(this.o),_()};this.t.onInit(A=>I(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?I(A):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new yr)}},0),_()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ft("string"==typeof r.accessToken),new WI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ft(null===e||"string"==typeof e),new Gr(e)}}class iw{constructor(e,t,r){this.type="FirstParty",this.user=Gr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const a=e.auth.getAuthHeaderValueForFirstParty([]);a&&this.headers.set("Authorization",a),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class QI{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new iw(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vg{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=a=>{e.enqueueRetryable(()=>{return null!=(c=a).error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`),t(c.token);var c})};const r=a=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?r(a):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ft("string"==typeof t.token),new f_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Bi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.p(r),this.T=r=>t.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function JI(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Bi.I=-1;class sw{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const a=JI(40);for(let c=0;c<a.length;++c)r.length<20&&a[c]<t&&(r+=e.charAt(a[c]%e.length))}return r}}function Lt(n,e){return n<e?-1:n>e?1:0}function Jd(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}function ow(n){return n+"\0"}class _r{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _r.fromMillis(Date.now())}static fromDate(e){return _r.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new _r(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Lt(this.nanoseconds,e.nanoseconds):Lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new _r(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function p_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Hu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Bg(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class jg{constructor(e,t,r){void 0===t?t=0:t>e.length&&it(),void 0===r?r=e.length-t:r>e.length-t&&it(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===jg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const c=e.get(a),f=t.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class zt extends jg{construct(e,t,r){return new zt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new zt(t)}static emptyPath(){return new zt([])}}const XI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xr extends jg{construct(e,t,r){return new Xr(e,t,r)}static isValidIdentifier(e){return XI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xr(["__name__"])}static fromServerFormat(e){const t=[];let r="",a=0;const c=()=>{if(0===r.length)throw new xe(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let f=!1;for(;a<e.length;){const _=e[a];if("\\"===_){if(a+1===e.length)throw new xe(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const I=e[a+1];if("\\"!==I&&"."!==I&&"`"!==I)throw new xe(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=I,a+=2}else"`"===_?(f=!f,a++):"."!==_||f?(r+=_,a++):(c(),a++)}if(c(),f)throw new xe(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xr(t)}static emptyPath(){return new Xr([])}}class Lo{constructor(e){this.fields=e,e.sort(Xr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ar{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ar(t)}static fromUint8Array(e){const t=function(r){let a="";for(let c=0;c<r.length;++c)a+=String.fromCharCode(r[c]);return a}(e);return new ar(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ar.EMPTY_BYTE_STRING=new ar("");const g_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qu(n){if(ft(!!n),"string"==typeof n){let e=0;const t=g_.exec(n);if(ft(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jn(n.seconds),nanos:jn(n.nanos)}}function jn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Zu(n){return"string"==typeof n?ar.fromBase64String(n):ar.fromUint8Array(n)}function $g(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function eD(n){const e=n.mapValue.fields.__previous_value__;return $g(e)?eD(e):e}function Gf(n){const e=qu(n.mapValue.fields.__local_write_time__.timestampValue);return new _r(e.seconds,e.nanos)}function Gu(n){return null==n}function zf(n){return 0===n&&1/n==-1/0}function uw(n){return"number"==typeof n&&Number.isInteger(n)&&!zf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class nt{constructor(e){this.path=e}static fromPath(e){return new nt(zt.fromString(e))}static fromName(e){return new nt(zt.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===zt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return zt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nt(new zt(e.slice()))}}function Za(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$g(n)?4:10:it()}function ho(n,e){const t=Za(n);if(t!==Za(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Gf(n).isEqual(Gf(e));case 3:return function(r,a){if("string"==typeof r.timestampValue&&"string"==typeof a.timestampValue&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const c=qu(r.timestampValue),f=qu(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,Zu(n.bytesValue).isEqual(Zu(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,a){return jn(r.geoPointValue.latitude)===jn(a.geoPointValue.latitude)&&jn(r.geoPointValue.longitude)===jn(a.geoPointValue.longitude)}(n,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return jn(r.integerValue)===jn(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const c=jn(r.doubleValue),f=jn(a.doubleValue);return c===f?zf(c)===zf(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return Jd(n.arrayValue.values||[],e.arrayValue.values||[],ho);case 10:return function(r,a){const c=r.mapValue.fields||{},f=a.mapValue.fields||{};if(p_(c)!==p_(f))return!1;for(const _ in c)if(c.hasOwnProperty(_)&&(void 0===f[_]||!ho(c[_],f[_])))return!1;return!0}(n,e);default:return it()}var a}function Xd(n,e){return void 0!==(n.values||[]).find(t=>ho(t,e))}function zu(n,e){const t=Za(n),r=Za(e);if(t!==r)return Lt(t,r);switch(t){case 0:return 0;case 1:return Lt(n.booleanValue,e.booleanValue);case 2:return function(a,c){const f=jn(a.integerValue||a.doubleValue),_=jn(c.integerValue||c.doubleValue);return f<_?-1:f>_?1:f===_?0:isNaN(f)?isNaN(_)?0:-1:1}(n,e);case 3:return m_(n.timestampValue,e.timestampValue);case 4:return m_(Gf(n),Gf(e));case 5:return Lt(n.stringValue,e.stringValue);case 6:return function(a,c){const f=Zu(a),_=Zu(c);return f.compareTo(_)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const f=a.split("/"),_=c.split("/");for(let I=0;I<f.length&&I<_.length;I++){const A=Lt(f[I],_[I]);if(0!==A)return A}return Lt(f.length,_.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const f=Lt(jn(a.latitude),jn(c.latitude));return 0!==f?f:Lt(jn(a.longitude),jn(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,c){const f=a.values||[],_=c.values||[];for(let I=0;I<f.length&&I<_.length;++I){const A=zu(f[I],_[I]);if(A)return A}return Lt(f.length,_.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,c){const f=a.fields||{},_=Object.keys(f),I=c.fields||{},A=Object.keys(I);_.sort(),A.sort();for(let R=0;R<_.length&&R<A.length;++R){const O=Lt(_[R],A[R]);if(0!==O)return O;const z=zu(f[_[R]],I[A[R]]);if(0!==z)return z}return Lt(_.length,A.length)}(n.mapValue,e.mapValue);default:throw it()}}function m_(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Lt(n,e);const t=qu(n),r=qu(e),a=Lt(t.seconds,r.seconds);return 0!==a?a:Lt(t.nanos,r.nanos)}function y_(n){return Hg(n)}function Hg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const a=qu(r);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Zu(n.bytesValue).toBase64():"referenceValue"in n?nt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let a="[",c=!0;for(const f of r.values||[])c?c=!1:a+=",",a+=Hg(f);return a+"]"}(n.arrayValue):"mapValue"in n?function(r){const a=Object.keys(r.fields||{}).sort();let c="{",f=!0;for(const _ of a)f?f=!1:c+=",",c+=`${_}:${Hg(r.fields[_])}`;return c+"}"}(n.mapValue):it();var e}function Wf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Kf(n){return!!n&&"integerValue"in n}function __(n){return!!n&&"arrayValue"in n}function cw(n){return!!n&&"nullValue"in n}function lw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qg(n){return!!n&&"mapValue"in n}function eh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Hu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=eh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=eh(n.arrayValue.values[t]);return e}return Object.assign({},n)}class Fr{constructor(e){this.value=e}static empty(){return new Fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=eh(t)}setAll(e){let t=Xr.emptyPath(),r={},a=[];e.forEach((f,_)=>{if(!t.isImmediateParentOf(_)){const I=this.getFieldsMap(t);this.applyChanges(I,r,a),r={},a=[],t=_.popLast()}f?r[_.lastSegment()]=eh(f):a.push(_.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,a)}delete(e){const t=this.field(e.popLast());qg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ho(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];qg(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Hu(t,(a,c)=>e[a]=c);for(const a of r)delete e[a]}clone(){return new Fr(eh(this.value))}}function v_(n){const e=[];return Hu(n.fields,(t,r)=>{const a=new Xr([t]);if(qg(r)){const c=v_(r.mapValue).fields;if(0===c.length)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new Lo(e)}class Dn{constructor(e,t,r,a,c){this.key=e,this.documentType=t,this.version=r,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Dn(e,0,bt.min(),Fr.empty(),0)}static newFoundDocument(e,t,r){return new Dn(e,1,t,r,0)}static newNoDocument(e,t){return new Dn(e,2,t,Fr.empty(),0)}static newUnknownDocument(e,t){return new Dn(e,3,t,Fr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Dn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dw{constructor(e,t=null,r=[],a=[],c=null,f=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=c,this.startAt=f,this.endAt=_,this.R=null}}function w_(n,e=null,t=[],r=[],a=null,c=null,f=null){return new dw(n,e,t,r,a,c,f)}function th(n){const e=He(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+y_(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),Gu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Xf(e.startAt)),e.endAt&&(t+="|ub:",t+=Xf(e.endAt)),e.R=t}return e.R}function Yf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!nh(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(r=e.filters[a]).op||!t.field.isEqual(r.field)||!ho(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!yw(n.startAt,e.startAt)&&yw(n.endAt,e.endAt)}function Qf(n){return nt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ji extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new nD(e,t,r):"array-contains"===t?new pw(e,r):"in"===t?new iD(e,r):"not-in"===t?new sD(e,r):"array-contains-any"===t?new gw(e,r):new ji(e,t,r)}static P(e,t,r){return"in"===t?new fw(e,r):new rD(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(zu(t,this.value)):null!==t&&Za(this.value)===Za(t)&&this.v(zu(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return it()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class nD extends ji{constructor(e,t,r){super(e,t,r),this.key=nt.fromName(r.referenceValue)}matches(e){const t=nt.comparator(e.key,this.key);return this.v(t)}}class fw extends ji{constructor(e,t){super(e,"in",t),this.keys=ur(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rD extends ji{constructor(e,t){super(e,"not-in",t),this.keys=ur(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ur(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>nt.fromName(r.referenceValue))}class pw extends ji{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return __(t)&&Xd(t.arrayValue,this.value)}}class iD extends ji{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Xd(this.value.arrayValue,t)}}class sD extends ji{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Xd(this.value.arrayValue,t)}}class gw extends ji{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!__(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Xd(this.value.arrayValue,r))}}class Jf{constructor(e,t){this.position=e,this.before=t}}function Xf(n){return`${n.before?"b":"a"}:${n.position.map(e=>y_(e)).join(",")}`}class fl{constructor(e,t="asc"){this.field=e,this.dir=t}}function nh(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function mw(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const c=e[a],f=n.position[a];if(r=c.field.isKeyField()?nt.comparator(nt.fromName(f.referenceValue),t.key):zu(f,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function yw(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ho(n.position[t],e.position[t]))return!1;return!0}class Fo{constructor(e,t=null,r=[],a=[],c=null,f="F",_=null,I=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=c,this.limitType=f,this.startAt=_,this.endAt=I,this.S=null,this.D=null}}function _w(n,e,t,r,a,c,f,_){return new Fo(n,e,t,r,a,c,f,_)}function pl(n){return new Fo(n)}function E_(n){return!Gu(n.limit)&&"F"===n.limitType}function ep(n){return!Gu(n.limit)&&"L"===n.limitType}function Zg(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Fs(n){for(const e of n.filters)if(e.V())return e.field;return null}function I_(n){return null!==n.collectionGroup}function rh(n){const e=He(n);if(null===e.S){e.S=[];const t=Fs(e),r=Zg(e);if(null!==t&&null===r)t.isKeyField()||e.S.push(new fl(t)),e.S.push(new fl(Xr.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.S.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new fl(Xr.keyField(),c))}}}return e.S}function Kn(n){const e=He(n);if(!e.D)if("F"===e.limitType)e.D=w_(e.path,e.collectionGroup,rh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of rh(e))t.push(new fl(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new Jf(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Jf(e.startAt.position,!e.startAt.before):null;e.D=w_(e.path,e.collectionGroup,t,e.filters,e.limit,r,a)}return e.D}function Us(n,e,t){return new Fo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ei(n,e){return Yf(Kn(n),Kn(e))&&n.limitType===e.limitType}function D_(n){return`${th(Kn(n))}|lt:${n.limitType}`}function Gg(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${y_(r.value)}`;var r}).join(", ")}]`),Gu(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+Xf(n.startAt)),n.endAt&&(e+=", endAt: "+Xf(n.endAt)),`Target(${e})`}(Kn(n))}; limitType=${n.limitType})`}function tp(n,e){return e.isFoundDocument()&&function(t,r){const a=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):nt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,r){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===r.data.field(a.field))return!1;return!0}(n,e)&&function(t,r){for(const a of t.filters)if(!a.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!mw(t.startAt,rh(t),r)||t.endAt&&mw(t.endAt,rh(t),r)));var t,r}function vw(n){return(e,t)=>{let r=!1;for(const a of rh(n)){const c=oD(a,e,t);if(0!==c)return c;r=r||a.field.isKeyField()}return 0}}function oD(n,e,t){const r=n.field.isKeyField()?nt.comparator(e.key,t.key):function(a,c,f){const _=c.data.field(a),I=f.data.field(a);return null!==_&&null!==I?zu(_,I):it()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return it()}}function ww(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zf(e)?"-0":e}}function zg(n){return{integerValue:""+n}}function ih(n,e){return uw(e)?zg(e):ww(n,e)}class Wg{constructor(){this._=void 0}}function Ew(n,e,t){return n instanceof gl?function(r,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof Uo?Iw(n,e):n instanceof Wu?T_(n,e):function(r,a){const c=b_(r,a),f=np(c)+np(r.N);return Kf(c)&&Kf(r.N)?zg(f):ww(r.k,f)}(n,e)}function aD(n,e,t){return n instanceof Uo?Iw(n,e):n instanceof Wu?T_(n,e):t}function b_(n,e){return n instanceof ml?Kf(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class gl extends Wg{}class Uo extends Wg{constructor(e){super(),this.elements=e}}function Iw(n,e){const t=C_(e);for(const r of n.elements)t.some(a=>ho(a,r))||t.push(r);return{arrayValue:{values:t}}}class Wu extends Wg{constructor(e){super(),this.elements=e}}function T_(n,e){let t=C_(e);for(const r of n.elements)t=t.filter(a=>!ho(a,r));return{arrayValue:{values:t}}}class ml extends Wg{constructor(e,t){super(),this.k=e,this.N=t}}function np(n){return jn(n.integerValue||n.doubleValue)}function C_(n){return __(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class sh{constructor(e,t){this.field=e,this.transform=t}}class bw{constructor(e,t){this.version=e,this.transformResults=t}}class Yn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ip{}function Tw(n,e,t){n instanceof sp?function(r,a,c){const f=r.value.clone(),_=xw(r.fieldTransforms,a,c.transformResults);f.setAll(_),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Ku?function(r,a,c){if(!rp(r.precondition,a))return void a.convertToUnknownDocument(c.version);const f=xw(r.fieldTransforms,a,c.transformResults),_=a.data;_.setAll(Sw(r)),_.setAll(f),a.convertToFoundDocument(c.version,_).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function A_(n,e,t){var a;n instanceof sp?function(r,a,c){if(!rp(r.precondition,a))return;const f=r.value.clone(),_=Mw(r.fieldTransforms,c,a);f.setAll(_),a.convertToFoundDocument(Aw(a),f).setHasLocalMutations()}(n,e,t):n instanceof Ku?function(r,a,c){if(!rp(r.precondition,a))return;const f=Mw(r.fieldTransforms,c,a),_=a.data;_.setAll(Sw(r)),_.setAll(f),a.convertToFoundDocument(Aw(a),_).setHasLocalMutations()}(n,e,t):rp(n.precondition,a=e)&&a.convertToNoDocument(bt.min())}function uD(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),c=b_(r.transform,a||null);null!=c&&(null==t&&(t=Fr.empty()),t.set(r.field,c))}return t||null}function Cw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Jd(t,r,(a,c)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Uo&&r instanceof Uo||t instanceof Wu&&r instanceof Wu?Jd(t.elements,r.elements,ho):t instanceof ml&&r instanceof ml?ho(t.N,r.N):t instanceof gl&&r instanceof gl);var t,r}(a,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function Aw(n){return n.isFoundDocument()?n.version:bt.min()}class sp extends ip{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}}class Ku extends ip{constructor(e,t,r,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=c,this.type=1}}function Sw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function xw(n,e,t){const r=new Map;ft(n.length===t.length);for(let a=0;a<t.length;a++){const c=n[a],f=c.transform,_=e.data.field(c.field);r.set(c.field,aD(f,_,t[a]))}return r}function Mw(n,e,t){const r=new Map;for(const a of n){const c=a.transform,f=t.data.field(a.field);r.set(a.field,Ew(c,f,e))}return r}class op extends ip{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class S_ extends ip{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class cD{constructor(e){this.count=e}}var cr,$t;function Rw(n){switch(n){default:return it();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function Ow(n){if(void 0===n)return mr("GRPC error has no .code"),ce.UNKNOWN;switch(n){case cr.OK:return ce.OK;case cr.CANCELLED:return ce.CANCELLED;case cr.UNKNOWN:return ce.UNKNOWN;case cr.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case cr.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case cr.INTERNAL:return ce.INTERNAL;case cr.UNAVAILABLE:return ce.UNAVAILABLE;case cr.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case cr.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case cr.NOT_FOUND:return ce.NOT_FOUND;case cr.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case cr.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case cr.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case cr.ABORTED:return ce.ABORTED;case cr.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case cr.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case cr.DATA_LOSS:return ce.DATA_LOSS;default:return it()}}($t=cr||(cr={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";class vr{constructor(e,t){this.comparator=e,this.root=t||Ur.EMPTY}insert(e,t){return new vr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ur.BLACK,null,null))}remove(e){return new vr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ur.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kg(this.root,e,this.comparator,!0)}}class Kg{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ur{constructor(e,t,r,a,c){this.key=e,this.value=t,this.color=null!=r?r:Ur.RED,this.left=null!=a?a:Ur.EMPTY,this.right=null!=c?c:Ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,c){return new Ur(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=a?a:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const c=r(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,r),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Ur.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}}Ur.EMPTY=null,Ur.RED=!0,Ur.BLACK=!1,Ur.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(n,e,t,r,a){return this}insert(n,e,t){return new Ur(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kn{constructor(e){this.comparator=e,this.data=new vr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new x_(this.data.getIterator())}getIteratorFrom(e){return new x_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof kn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kn(this.comparator);return t.data=e,t}}class x_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Pw=new vr(nt.comparator);function ds(){return Pw}const Nw=new vr(nt.comparator);function Yg(){return Nw}const kw=new vr(nt.comparator);function M_(){return kw}const Lw=new kn(nt.comparator);function sn(...n){let e=Lw;for(const t of n)e=e.add(t);return e}const yl=new kn(Lt);function Qg(){return yl}class ap{constructor(e,t,r,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Vo.createSynthesizedTargetChangeForCurrentChange(e,t)),new ap(bt.min(),r,Qg(),ds(),sn())}}class Vo{constructor(e,t,r,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Vo(ar.EMPTY_BYTE_STRING,t,sn(),sn(),sn())}}class R_{constructor(e,t,r,a){this.$=e,this.removedTargetIds=t,this.key=r,this.F=a}}class Jg{constructor(e,t){this.targetId=e,this.O=t}}class lD{constructor(e,t,r=ar.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class O_{constructor(){this.M=0,this.L=dt(),this.B=ar.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=sn(),t=sn(),r=sn();return this.L.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:it()}}),new Vo(this.B,this.U,e,t,r)}H(){this.q=!1,this.L=dt()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class Fw{constructor(e){this.et=e,this.nt=new Map,this.st=ds(),this.it=dD(),this.rt=new kn(Lt)}ot(e){for(const t of e.$)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ut(e){this.forEachTarget(e,t=>{const r=this.ht(t);switch(e.state){case 0:this.lt(t)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(t);break;case 3:this.lt(t)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),r.W(e.resumeToken));break;default:it()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((r,a)=>{this.lt(a)&&t(a)})}dt(e){const t=e.targetId,r=e.O.count,a=this.wt(t);if(a){const c=a.target;if(Qf(c))if(0===r){const f=new nt(c.path);this.ct(t,f,Dn.newNoDocument(f,bt.min()))}else ft(1===r);else this._t(t)!==r&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((c,f)=>{const _=this.wt(f);if(_){if(c.current&&Qf(_.target)){const I=new nt(_.target.path);null!==this.st.get(I)||this.yt(f,I)||this.ct(f,I,Dn.newNoDocument(I,e))}c.j&&(t.set(f,c.G()),c.H())}});let r=sn();this.it.forEach((c,f)=>{let _=!0;f.forEachWhile(I=>{const A=this.wt(I);return!A||2===A.purpose||(_=!1,!1)}),_&&(r=r.add(c))});const a=new ap(e,t,this.rt,this.st,r);return this.st=ds(),this.it=dD(),this.rt=new kn(Lt),a}at(e,t){if(!this.lt(e))return;const r=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,r),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.lt(e))return;const a=this.ht(e);this.yt(e,t)?a.J(t,1):a.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),r&&(this.st=this.st.insert(t,r))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new O_,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new kn(Lt),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new O_),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function dD(){return new vr(nt.comparator)}function dt(){return new vr(nt.comparator)}const hD={asc:"ASCENDING",desc:"DESCENDING"},fD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class pD{constructor(e,t){this.databaseId=e,this.C=t}}function Yu(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Uw(n,e){return n.C?e.toBase64():e.toUint8Array()}function Xg(n,e){return Yu(n,e.toTimestamp())}function Qn(n){return ft(!!n),bt.fromTimestamp(function(e){const t=qu(e);return new _r(t.seconds,t.nanos)}(n))}function xn(n,e){return(t=n,new zt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function gD(n){const e=zt.fromString(n);return ft(zw(e)),e}function oh(n,e){return xn(n.databaseId,e.path)}function Bo(n,e){const t=gD(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new nt(k_(t))}function P_(n,e){return xn(n.databaseId,e)}function N_(n){const e=gD(n);return 4===e.length?zt.emptyPath():k_(e)}function ah(n){return new zt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function k_(n){return ft(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function L_(n,e,t){return{name:oh(n,e),fields:t.value.mapValue.fields}}function Vw(n,e,t){const r=Bo(n,e.name),a=Qn(e.updateTime),c=new Fr({mapValue:{fields:e.fields}}),f=Dn.newFoundDocument(r,a,c);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function Qu(n,e){let t;if(e instanceof sp)t={update:L_(n,e.key,e.value)};else if(e instanceof op)t={delete:oh(n,e.key)};else if(e instanceof Ku)t={update:L_(n,e.key,e.data),updateMask:Gw(e.fieldMask)};else{if(!(e instanceof S_))return it();t={verify:oh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,c){const f=c.transform;if(f instanceof gl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Uo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof ml)return{fieldPath:c.field.canonicalString(),increment:f.N};throw it()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Xg(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:it()),t;var a}function Bw(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Yn.updateTime(Qn(a.updateTime)):void 0!==a.exists?Yn.exists(a.exists):Yn.none():Yn.none(),r=e.updateTransforms?e.updateTransforms.map(a=>function(c,f){let _=null;"setToServerValue"in f?(ft("REQUEST_TIME"===f.setToServerValue),_=new gl):"appendMissingElements"in f?_=new Uo(f.appendMissingElements.values||[]):"removeAllFromArray"in f?_=new Wu(f.removeAllFromArray.values||[]):"increment"in f?_=new ml(c,f.increment):it();const I=Xr.fromServerFormat(f.fieldPath);return new sh(I,_)}(n,a)):[];var a;if(e.update){const a=Bo(n,e.update.name),c=new Fr({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new Lo((e.updateMask.fieldPaths||[]).map(A=>Xr.fromServerFormat(A)));return new Ku(a,c,f,t,r)}return new sp(a,c,t,r)}if(e.delete){const a=Bo(n,e.delete);return new op(a,t)}if(e.verify){const a=Bo(n,e.verify);return new S_(a,t)}return it()}function jw(n,e){return{documents:[P_(n,e.path)]}}function up(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=P_(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=P_(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const a=function(_){if(0===_.length)return;const I=_.map(A=>function(R){if("=="===R.op){if(lw(R.value))return{unaryFilter:{field:ch(R.field),op:"IS_NAN"}};if(cw(R.value))return{unaryFilter:{field:ch(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(lw(R.value))return{unaryFilter:{field:ch(R.field),op:"IS_NOT_NAN"}};if(cw(R.value))return{unaryFilter:{field:ch(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ch(R.field),op:vD(R.op),value:R.value}}}(A));return 1===I.length?I[0]:{compositeFilter:{op:"AND",filters:I}}}(e.filters);a&&(t.structuredQuery.where=a);const c=function(_){if(0!==_.length)return _.map(I=>{return{field:ch((A=I).field),direction:cp(A.dir)};var A})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=(I=e.limit,n.C||Gu(I)?I:{value:I});var I;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=Hw(e.startAt)),e.endAt&&(t.structuredQuery.endAt=Hw(e.endAt)),t}function F_(n){let e=N_(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){ft(1===r);const R=t.from[0];R.allDescendants?a=R.collectionId:e=e.child(R.collectionId)}let c=[];t.where&&(c=U_(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(R=>{return new fl(lh((O=R).field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let _=null;t.limit&&(_=function(R){let O;return O="object"==typeof R?R.value:R,Gu(O)?null:O}(t.limit));let I=null;t.startAt&&(I=uh(t.startAt));let A=null;return t.endAt&&(A=uh(t.endAt)),_w(e,a,f,c,_,"F",I,A)}function U_(n){return n?void 0!==n.unaryFilter?[Zw(n)]:void 0!==n.fieldFilter?[qw(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>U_(e)).reduce((e,t)=>e.concat(t)):it():[]}function Hw(n){return{before:n.before,values:n.position}}function uh(n){return new Jf(n.values||[],!!n.before)}function cp(n){return hD[n]}function vD(n){return fD[n]}function ch(n){return{fieldPath:n.canonicalString()}}function lh(n){return Xr.fromServerFormat(n.fieldPath)}function qw(n){return ji.create(lh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(n.fieldFilter.op),n.fieldFilter.value)}function Zw(n){switch(n.unaryFilter.op){case"IS_NAN":const e=lh(n.unaryFilter.field);return ji.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=lh(n.unaryFilter.field);return ji.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=lh(n.unaryFilter.field);return ji.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=lh(n.unaryFilter.field);return ji.create(a,"!=",{nullValue:"NULL_VALUE"});default:return it()}}function Gw(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function zw(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Vs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ww(e)),e=wD(n.get(t),e);return Ww(e)}function wD(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const c=n.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function Ww(n){return n+"\x01\x01"}function Ju(n){const e=n.length;if(ft(e>=2),2===e)return ft("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),zt.emptyPath();const t=e-2,r=[];let a="";for(let c=0;c<e;){const f=n.indexOf("\x01",c);switch((f<0||f>t)&&it(),n.charAt(f+1)){case"\x01":const _=n.substring(c,f);let I;0===a.length?I=_:(a+=_,I=a,a=""),r.push(I);break;case"\x10":a+=n.substring(c,f),a+="\0";break;case"\x11":a+=n.substring(c,f+1);break;default:it()}c=f+2}return new zt(r)}class wT{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Bs{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}Bs.store="owner",Bs.key="owner";class _l{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}_l.store="mutationQueues",_l.keyPath="userId";class _n{constructor(e,t,r,a,c){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=a,this.mutations=c}}_n.store="mutations",_n.keyPath="batchId",_n.userMutationsIndex="userMutationsIndex",_n.userMutationsKeyPath=["userId","batchId"];class wr{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Vs(t)]}static key(e,t,r){return[e,Vs(t),r]}}wr.store="documentMutations",wr.PLACEHOLDER=new wr;class ED{constructor(e,t){this.path=e,this.readTime=t}}class ID{constructor(e,t){this.path=e,this.version=t}}class Ln{constructor(e,t,r,a,c,f){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=a,this.readTime=c,this.parentPath=f}}Ln.store="remoteDocuments",Ln.readTimeIndex="readTimeIndex",Ln.readTimeIndexPath="readTime",Ln.collectionReadTimeIndex="collectionReadTimeIndex",Ln.collectionReadTimeIndexPath=["parentPath","readTime"];class $i{constructor(e){this.byteSize=e}}$i.store="remoteDocumentGlobal",$i.key="remoteDocumentGlobalKey";class Hi{constructor(e,t,r,a,c,f,_){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=a,this.lastListenSequenceNumber=c,this.lastLimboFreeSnapshotVersion=f,this.query=_}}Hi.store="targets",Hi.keyPath="targetId",Hi.queryTargetsIndexName="queryTargetsIndex",Hi.queryTargetsKeyPath=["canonicalId","targetId"];class zr{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}zr.store="targetDocuments",zr.keyPath=["targetId","path"],zr.documentTargetsIndex="documentTargetsIndex",zr.documentTargetsKeyPath=["path","targetId"];class hs{constructor(e,t,r,a){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=a}}hs.key="targetGlobalKey",hs.store="targetGlobal";class vl{constructor(e,t){this.collectionId=e,this.parent=t}}vl.store="collectionParents",vl.keyPath=["collectionId","parent"];class Ga{constructor(e,t,r,a){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=a}}Ga.store="clientMetadata",Ga.keyPath="clientId";class wl{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}wl.store="bundles",wl.keyPath="bundleId";class dh{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}dh.store="namedQueries",dh.keyPath="name";const DD=[_l.store,_n.store,wr.store,Ln.store,Hi.store,Bs.store,hs.store,zr.store,Ga.store,$i.store,vl.store,wl.store,dh.store],El="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ce((r,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ce?t:Ce.resolve(t)}catch(t){return Ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.reject(t)}static resolve(e){return new Ce((t,r)=>{t(e)})}static reject(e){return new Ce((t,r)=>{r(e)})}static waitFor(e){return new Ce((t,r)=>{let a=0,c=0,f=!1;e.forEach(_=>{++a,_.next(()=>{++c,f&&c===a&&t()},I=>r(I))}),f=!0,c===a&&t()})}static or(e){let t=Ce.resolve(!1);for(const r of e)t=t.next(a=>a?Ce.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,c)=>{r.push(t.call(this,a,c))}),this.waitFor(r)}}class em{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new yr,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new hh(e,t.error)):this.It.resolve()},this.transaction.onerror=r=>{const a=tm(r.target.error);this.It.reject(new hh(e,a))}}static open(e,t,r,a){try{return new em(t,e.transaction(a,r))}catch(c){throw new hh(t,c)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new V_(t)}}class js{constructor(e,t,r){this.name=e,this.version=t,this.Rt=r,12.2===js.Pt((0,Pt.z$)())&&mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),Dl(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Pt.hl)())return!1;if(js.vt())return!0;const e=(0,Pt.z$)(),t=js.Pt(e),r=0<t&&t<10,a=js.Vt(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static Pt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Ct(e){var t=this;return(0,pe.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=f=>{r(f.target.result)},c.onblocked=()=>{a(new hh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=f=>{const _=f.target.error;a("VersionError"===_.name?new xe(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===_.name?new xe(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+_):new hh(e,_))},c.onupgradeneeded=f=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.Rt.Nt(f.target.result,c.transaction,f.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=r=>t.kt(r)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,a){var c=this;return(0,pe.Z)(function*(){const f="readonly"===t;let _=0;for(;;){++_;try{c.db=yield c.Ct(e);const I=em.open(c.db,e,f?"readonly":"readwrite",r),A=a(I).catch(R=>(I.abort(R),Ce.reject(R))).toPromise();return A.catch(()=>{}),yield I.At,A}catch(I){const A="FirebaseError"!==I.name&&_<3;if(Pe("SimpleDb","Transaction failed with error:",I.message,"Retrying:",A),c.close(),!A)return Promise.reject(I)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class bD{constructor(e){this.$t=e,this.Ft=!1,this.Ot=null}get isDone(){return this.Ft}get Mt(){return this.Ot}set cursor(e){this.$t=e}done(){this.Ft=!0}Lt(e){this.Ot=e}delete(){return Dl(this.$t.delete())}}class hh extends xe{constructor(e,t){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Il(n){return"IndexedDbTransactionError"===n.name}class V_{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Dl(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),Dl(this.store.add(e))}get(e){return Dl(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),Dl(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),Dl(this.store.count())}Bt(e,t){const r=this.cursor(this.options(e,t)),a=[];return this.Ut(r,(c,f)=>{a.push(f)}).next(()=>a)}qt(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Kt=!1;const a=this.cursor(r);return this.Ut(a,(c,f,_)=>_.delete())}jt(e,t){let r;t?r=e:(r={},t=e);const a=this.cursor(r);return this.Ut(a,t)}Qt(e){const t=this.cursor({});return new Ce((r,a)=>{t.onerror=c=>{const f=tm(c.target.error);a(f)},t.onsuccess=c=>{const f=c.target.result;f?e(f.primaryKey,f.value).next(_=>{_?f.continue():r()}):r()}})}Ut(e,t){const r=[];return new Ce((a,c)=>{e.onerror=f=>{c(f.target.error)},e.onsuccess=f=>{const _=f.target.result;if(!_)return void a();const I=new bD(_),A=t(_.primaryKey,_.value,I);if(A instanceof Ce){const R=A.catch(O=>(I.done(),Ce.reject(O)));r.push(R)}I.isDone?a():null===I.Mt?_.continue():_.continue(I.Mt)}}).next(()=>Ce.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Kt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Dl(n){return new Ce((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const a=tm(r.target.error);t(a)}})}let B_=!1;function tm(n){const e=js.Pt((0,Pt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return B_||(B_=!0,setTimeout(()=>{throw r},0)),r}}return n}class Yw extends Kw{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function qi(n,e){const t=He(n);return js.Dt(t.Wt,e)}class j_{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&Tw(c,e,r[a])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&A_(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&A_(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),a=r;this.applyToLocalView(a),r.isValidDocument()||a.convertToNoDocument(bt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),sn())}isEqual(e){return this.batchId===e.batchId&&Jd(this.mutations,e.mutations,(t,r)=>Cw(t,r))&&Jd(this.baseMutations,e.baseMutations,(t,r)=>Cw(t,r))}}class lp{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){ft(e.mutations.length===r.length);let a=M_();const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,r[f].version);return new lp(e,t,r,a)}}class Xu{constructor(e,t,r,a,c=bt.min(),f=bt.min(),_=ar.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=_}withSequenceNumber(e){return new Xu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Xu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Xu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class $_{constructor(e){this.Gt=e}}function H_(n,e){if(e.document)return Vw(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=nt.fromSegments(e.noDocument.path),r=ph(e.noDocument.readTime),a=Dn.newNoDocument(t,r);return e.hasCommittedMutations?a.setHasCommittedMutations():a}if(e.unknownDocument){const t=nt.fromSegments(e.unknownDocument.path),r=ph(e.unknownDocument.version);return Dn.newUnknownDocument(t,r)}return it()}function Qw(n,e,t){const r=q_(t),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){const c={name:oh(_=n.Gt,(I=e).key),fields:I.data.value.mapValue.fields,updateTime:Yu(_,I.version.toTimestamp())};return new Ln(null,null,c,e.hasCommittedMutations,r,a)}var _,I;if(e.isNoDocument()){const c=e.key.path.toArray(),f=fh(e.version),_=e.hasCommittedMutations;return new Ln(null,new ED(c,f),null,_,r,a)}if(e.isUnknownDocument()){const c=e.key.path.toArray(),f=fh(e.version);return new Ln(new ID(c,f),null,null,!0,r,a)}return it()}function q_(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Jw(n){const e=new _r(n[0],n[1]);return bt.fromTimestamp(e)}function fh(n){const e=n.toTimestamp();return new wT(e.seconds,e.nanoseconds)}function ph(n){const e=new _r(n.seconds,n.nanoseconds);return bt.fromTimestamp(e)}function gh(n,e){const t=(e.baseMutations||[]).map(c=>Bw(n.Gt,c));for(let c=0;c<e.mutations.length-1;++c){const f=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(f.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const r=e.mutations.map(c=>Bw(n.Gt,c)),a=_r.fromMillis(e.localWriteTimeMs);return new j_(e.batchId,a,t,r)}function dp(n){const e=ph(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ph(n.lastLimboFreeSnapshotVersion):bt.min();let r;var a;return void 0!==n.query.documents?(ft(1===(a=n.query).documents.length),r=Kn(pl(N_(a.documents[0])))):r=Kn(F_(n.query)),new Xu(r,n.targetId,0,n.lastListenSequenceNumber,e,t,ar.fromBase64String(n.resumeToken))}function Z_(n,e){const t=fh(e.snapshotVersion),r=fh(e.lastLimboFreeSnapshotVersion);let a;a=Qf(e.target)?jw(n.Gt,e.target):up(n.Gt,e.target);const c=e.resumeToken.toBase64();return new Hi(e.targetId,th(e.target),t,c,e.sequenceNumber,r,a)}function nm(n){const e=F_({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Us(e,e.limit,"L"):e}class TD{getBundleMetadata(e,t){return Xw(e).get(t).next(r=>{if(r)return{id:(a=r).bundleId,createTime:ph(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Xw(e).put({bundleId:(r=t).id,createTime:fh(Qn(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return G_(e).get(t).next(r=>{if(r)return{name:(a=r).name,query:nm(a.bundledQuery),readTime:ph(a.readTime)};var a})}saveNamedQuery(e,t){return G_(e).put({name:(r=t).name,readTime:fh(Qn(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Xw(n){return qi(n,wl.store)}function G_(n){return qi(n,dh.store)}class CD{constructor(){this.zt=new z_}addToCollectionParentIndex(e,t){return this.zt.add(t),Ce.resolve()}getCollectionParents(e,t){return Ce.resolve(this.zt.getEntries(t))}}class z_{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new kn(zt.comparator),c=!a.has(r);return this.index[t]=a.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new kn(zt.comparator)).toArray()}}class AD{constructor(){this.Ht=new z_}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const r=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const c={collectionId:r,parent:Vs(a)};return rm(e).put(c)}return Ce.resolve()}getCollectionParents(e,t){const r=[],a=IDBKeyRange.bound([t,""],[ow(t),""],!1,!0);return rm(e).Bt(a).next(c=>{for(const f of c){if(f.collectionId!==t)break;r.push(Ju(f.parent))}return r})}}function rm(n){return qi(n,vl.store)}const im={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ii{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ii(e,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function sm(n,e,t){const r=n.store(_n.store),a=n.store(wr.store),c=[],f=IDBKeyRange.only(t.batchId);let _=0;const I=r.jt({range:f},(R,O,z)=>(_++,z.delete()));c.push(I.next(()=>{ft(1===_)}));const A=[];for(const R of t.mutations){const O=wr.key(e,R.key.path,t.batchId);c.push(a.delete(O)),A.push(R.key)}return Ce.waitFor(c).next(()=>A)}function om(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw it();e=n.noDocument}return JSON.stringify(e).length}Ii.DEFAULT_COLLECTION_PERCENTILE=10,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ii.DEFAULT=new Ii(41943040,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ii.DISABLED=new Ii(-1,0,0);class W_{constructor(e,t,r,a){this.userId=e,this.k=t,this.Jt=r,this.referenceDelegate=a,this.Yt={}}static Xt(e,t,r,a){ft(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new W_(c,t,r,a)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ec(e).jt({index:_n.userMutationsIndex,range:r},(a,c,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,r,a){const c=mh(e),f=ec(e);return f.add({}).next(_=>{ft("number"==typeof _);const I=new j_(_,t,r,a),A=function(z,J,ve){const Be=ve.baseMutations.map(Ut=>Qu(z.Gt,Ut)),Xe=ve.mutations.map(Ut=>Qu(z.Gt,Ut));return new _n(J,ve.batchId,ve.localWriteTime.toMillis(),Be,Xe)}(this.k,this.userId,I),R=[];let O=new kn((z,J)=>Lt(z.canonicalString(),J.canonicalString()));for(const z of a){const J=wr.key(this.userId,z.key.path,_);O=O.add(z.key.path.popLast()),R.push(f.put(A)),R.push(c.put(J,wr.PLACEHOLDER))}return O.forEach(z=>{R.push(this.Jt.addToCollectionParentIndex(e,z))}),e.addOnCommittedListener(()=>{this.Yt[_]=I.keys()}),Ce.waitFor(R).next(()=>I)})}lookupMutationBatch(e,t){return ec(e).get(t).next(r=>r?(ft(r.userId===this.userId),gh(this.k,r)):null)}Zt(e,t){return this.Yt[t]?Ce.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const a=r.keys();return this.Yt[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return ec(e).jt({index:_n.userMutationsIndex,range:a},(f,_,I)=>{_.userId===this.userId&&(ft(_.batchId>=r),c=gh(this.k,_)),I.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ec(e).jt({index:_n.userMutationsIndex,range:t,reverse:!0},(a,c,f)=>{r=c.batchId,f.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ec(e).Bt(_n.userMutationsIndex,t).next(r=>r.map(a=>gh(this.k,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=wr.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(r),c=[];return mh(e).jt({range:a},(f,_,I)=>{const[A,R,O]=f,z=Ju(R);if(A===this.userId&&t.path.isEqual(z))return ec(e).get(O).next(J=>{if(!J)throw it();ft(J.userId===this.userId),c.push(gh(this.k,J))});I.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new kn(Lt);const a=[];return t.forEach(c=>{const f=wr.prefixForPath(this.userId,c.path),_=IDBKeyRange.lowerBound(f),I=mh(e).jt({range:_},(A,R,O)=>{const[z,J,ve]=A,Be=Ju(J);z===this.userId&&c.path.isEqual(Be)?r=r.add(ve):O.done()});a.push(I)}),Ce.waitFor(a).next(()=>this.te(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1,c=wr.prefixForPath(this.userId,r),f=IDBKeyRange.lowerBound(c);let _=new kn(Lt);return mh(e).jt({range:f},(I,A,R)=>{const[O,z,J]=I,ve=Ju(z);O===this.userId&&r.isPrefixOf(ve)?ve.length===a&&(_=_.add(J)):R.done()}).next(()=>this.te(e,_))}te(e,t){const r=[],a=[];return t.forEach(c=>{a.push(ec(e).get(c).next(f=>{if(null===f)throw it();ft(f.userId===this.userId),r.push(gh(this.k,f))}))}),Ce.waitFor(a).next(()=>r)}removeMutationBatch(e,t){return sm(e.Wt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),Ce.forEach(r,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ce.resolve();const r=IDBKeyRange.lowerBound(wr.prefixForUser(this.userId)),a=[];return mh(e).jt({range:r},(c,f,_)=>{if(c[0]===this.userId){const I=Ju(c[1]);a.push(I)}else _.done()}).next(()=>{ft(0===a.length)})})}containsKey(e,t){return am(e,this.userId,t)}ne(e){return eE(e).get(this.userId).next(t=>t||new _l(this.userId,-1,""))}}function am(n,e,t){const r=wr.prefixForPath(e,t.path),a=r[1],c=IDBKeyRange.lowerBound(r);let f=!1;return mh(n).jt({range:c,Kt:!0},(_,I,A)=>{const[R,O,z]=_;R===e&&O===a&&(f=!0),A.done()}).next(()=>f)}function ec(n){return qi(n,_n.store)}function mh(n){return qi(n,wr.store)}function eE(n){return qi(n,_l.store)}class tc{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new tc(0)}static re(){return new tc(-1)}}class SD{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const r=new tc(t.highestTargetId);return t.highestTargetId=r.next(),this.ae(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>bt.fromTimestamp(new _r(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.oe(e).next(a=>(a.highestListenSequenceNumber=t,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.ae(e,a)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.oe(e).next(r=>(r.targetCount+=1,this.ue(t,r),this.ae(e,r))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>bl(e).delete(t.targetId)).next(()=>this.oe(e)).next(r=>(ft(r.targetCount>0),r.targetCount-=1,this.ae(e,r)))}removeTargets(e,t,r){let a=0;const c=[];return bl(e).jt((f,_)=>{const I=dp(_);I.sequenceNumber<=t&&null===r.get(I.targetId)&&(a++,c.push(this.removeTargetData(e,I)))}).next(()=>Ce.waitFor(c)).next(()=>a)}forEachTarget(e,t){return bl(e).jt((r,a)=>{const c=dp(a);t(c)})}oe(e){return xD(e).get(hs.key).next(t=>(ft(null!==t),t))}ae(e,t){return xD(e).put(hs.key,t)}ce(e,t){return bl(e).put(Z_(this.k,t))}ue(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const r=th(t),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return bl(e).jt({range:a,index:Hi.queryTargetsIndexName},(f,_,I)=>{const A=dp(_);Yf(t,A.target)&&(c=A,I.done())}).next(()=>c)}addMatchingKeys(e,t,r){const a=[],c=nc(e);return t.forEach(f=>{const _=Vs(f.path);a.push(c.put(new zr(r,_))),a.push(this.referenceDelegate.addReference(e,r,f))}),Ce.waitFor(a)}removeMatchingKeys(e,t,r){const a=nc(e);return Ce.forEach(t,c=>{const f=Vs(c.path);return Ce.waitFor([a.delete([r,f]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=nc(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),a=nc(e);let c=sn();return a.jt({range:r,Kt:!0},(f,_,I)=>{const A=Ju(f[1]),R=new nt(A);c=c.add(R)}).next(()=>c)}containsKey(e,t){const r=Vs(t.path),a=IDBKeyRange.bound([r],[ow(r)],!1,!0);let c=0;return nc(e).jt({index:zr.documentTargetsIndex,Kt:!0,range:a},([f,_],I,A)=>{0!==f&&(c++,A.done())}).next(()=>c>0)}Et(e,t){return bl(e).get(t).next(r=>r?dp(r):null)}}function bl(n){return qi(n,Hi.store)}function xD(n){return qi(n,hs.store)}function nc(n){return qi(n,zr.store)}function fo(n){return K_.apply(this,arguments)}function K_(){return K_=(0,pe.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==El)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),K_.apply(this,arguments)}function Tl([n,e],[t,r]){const a=Lt(n,t);return 0===a?Lt(e,r):a}class hp{constructor(e){this.he=e,this.buffer=new kn(Tl),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Tl(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class MD{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const r=this.we?3e5:6e4;Pe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,pe.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(a){Il(a)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield fo(a)}yield t.me(e)}))}}class ET{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ce.resolve(Bi.I);const r=new hp(t);return this.ge.forEachTarget(e,a=>r.de(a.sequenceNumber)).next(()=>this.ge.pe(e,a=>r.de(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.ge.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(im)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),im):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let r,a,c,f,_,I,A;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),a=this.params.maximumSequenceNumbersToCollect):a=O,f=Date.now(),this.nthSequenceNumber(e,a))).next(O=>(r=O,_=Date.now(),this.removeTargets(e,r,t))).next(O=>(c=O,I=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(A=Date.now(),Ug()<=Pu.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-R}ms\n\tDetermined least recently used ${a} in `+(_-f)+`ms\n\tRemoved ${c} targets in `+(I-_)+`ms\n\tRemoved ${O} documents in `+(A-I)+`ms\nTotal Duration: ${A-R}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:O})))}}class tE{constructor(e,t){this.db=e,this.garbageCollector=new ET(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Ee(e){let t=0;return this.pe(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(r,a)=>t(a))}addReference(e,t,r){return um(e,r)}removeReference(e,t,r){return um(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return um(e,t)}Ae(e,t){return function(r,a){let c=!1;return eE(r).Qt(f=>am(r,f,a).next(_=>(_&&(c=!0),Ce.resolve(!_)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Ie(e,(f,_)=>{if(_<=t){const I=this.Ae(e,f).next(A=>{if(!A)return c++,r.getEntry(e,f).next(()=>(r.removeEntry(f),nc(e).delete([0,Vs(f.path)])))});a.push(I)}}).next(()=>Ce.waitFor(a)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return um(e,t)}Ie(e,t){const r=nc(e);let a,c=Bi.I;return r.jt({index:zr.documentTargetsIndex},([f,_],{path:I,sequenceNumber:A})=>{0===f?(c!==Bi.I&&t(new nt(Ju(a)),c),c=A,a=I):c=Bi.I}).next(()=>{c!==Bi.I&&t(new nt(Ju(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function um(n,e){return nc(n).put((r=n.currentSequenceNumber,new zr(0,Vs(e.path),r)));var r}class yh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[a,c]of r)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0!==a){for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return 1===r.length?delete this.inner[t]:r.splice(a,1),!0;return!1}forEach(e){Hu(this.inner,(t,r)=>{for(const[a,c]of r)e(a,c)})}isEmpty(){return Bg(this.inner)}}class nE{constructor(){this.changes=new yh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:bt.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Dn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ce.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class RD{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,r){return jo(e).put(Cl(t),r)}removeEntry(e,t){const r=jo(e),a=Cl(t);return r.delete(a)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Re(e,r)))}getEntry(e,t){return jo(e).get(Cl(t)).next(r=>this.Pe(t,r))}be(e,t){return jo(e).get(Cl(t)).next(r=>({document:this.Pe(t,r),size:om(r)}))}getEntries(e,t){let r=ds();return this.ve(e,t,(a,c)=>{const f=this.Pe(a,c);r=r.insert(a,f)}).next(()=>r)}Ve(e,t){let r=ds(),a=new vr(nt.comparator);return this.ve(e,t,(c,f)=>{const _=this.Pe(c,f);r=r.insert(c,_),a=a.insert(c,om(f))}).next(()=>({documents:r,Se:a}))}ve(e,t,r){if(t.isEmpty())return Ce.resolve();const a=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),c=t.getIterator();let f=c.getNext();return jo(e).jt({range:a},(_,I,A)=>{const R=nt.fromSegments(_);for(;f&&nt.comparator(f,R)<0;)r(f,null),f=c.getNext();f&&f.isEqual(R)&&(r(f,I),f=c.hasNext()?c.getNext():null),f?A.Lt(f.path.toArray()):A.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r){let a=ds();const c=t.path.length+1,f={};if(r.isEqual(bt.min())){const _=t.path.toArray();f.range=IDBKeyRange.lowerBound(_)}else{const _=t.path.toArray(),I=q_(r);f.range=IDBKeyRange.lowerBound([_,I],!0),f.index=Ln.collectionReadTimeIndex}return jo(e).jt(f,(_,I,A)=>{if(_.length!==c)return;const R=H_(this.k,I);t.path.isPrefixOf(R.key.path)?tp(t,R)&&(a=a.insert(R.key,R)):A.done()}).next(()=>a)}newChangeBuffer(e){return new rE(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Y_(e).get($i.key).next(t=>(ft(!!t),t))}Re(e,t){return Y_(e).put($i.key,t)}Pe(e,t){if(t){const r=H_(this.k,t);if(!r.isNoDocument()||!r.version.isEqual(bt.min()))return r}return Dn.newInvalidDocument(e)}}class rE extends nE{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new yh(r=>r.toString(),(r,a)=>r.isEqual(a))}applyChanges(e){const t=[];let r=0,a=new kn((c,f)=>Lt(c.canonicalString(),f.canonicalString()));return this.changes.forEach((c,f)=>{const _=this.Ce.get(c);if(f.document.isValidDocument()){const I=Qw(this.De.k,f.document,this.getReadTime(c));a=a.add(c.path.popLast()),r+=om(I)-_,t.push(this.De.addEntry(e,c,I))}else if(r-=_,this.trackRemovals){const I=Qw(this.De.k,Dn.newNoDocument(c,bt.min()),this.getReadTime(c));t.push(this.De.addEntry(e,c,I))}else t.push(this.De.removeEntry(e,c))}),a.forEach(c=>{t.push(this.De.Jt.addToCollectionParentIndex(e,c))}),t.push(this.De.updateMetadata(e,r)),Ce.waitFor(t)}getFromCache(e,t){return this.De.be(e,t).next(r=>(this.Ce.set(t,r.size),r.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:r,Se:a})=>(a.forEach((c,f)=>{this.Ce.set(c,f)}),r))}}function Y_(n){return qi(n,$i.store)}function jo(n){return qi(n,Ln.store)}function Cl(n){return n.path.toArray()}class fp{constructor(e){this.k=e}Nt(e,t,r,a){ft(r<a&&r>=0&&a<=11);const c=new em("createOrUpgrade",t);var _;r<1&&a>=1&&(e.createObjectStore(Bs.store),(_=e).createObjectStore(_l.store,{keyPath:_l.keyPath}),_.createObjectStore(_n.store,{keyPath:_n.keyPath,autoIncrement:!0}).createIndex(_n.userMutationsIndex,_n.userMutationsKeyPath,{unique:!0}),_.createObjectStore(wr.store),iE(e),function(_){_.createObjectStore(Ln.store)}(e));let f=Ce.resolve();return r<3&&a>=3&&(0!==r&&(function(_){_.deleteObjectStore(zr.store),_.deleteObjectStore(Hi.store),_.deleteObjectStore(hs.store)}(e),iE(e)),f=f.next(()=>function(_){const I=_.store(hs.store),A=new hs(0,0,bt.min().toTimestamp(),0);return I.put(hs.key,A)}(c))),r<4&&a>=4&&(0!==r&&(f=f.next(()=>function(_,I){return I.store(_n.store).Bt().next(A=>{_.deleteObjectStore(_n.store),_.createObjectStore(_n.store,{keyPath:_n.keyPath,autoIncrement:!0}).createIndex(_n.userMutationsIndex,_n.userMutationsKeyPath,{unique:!0});const R=I.store(_n.store),O=A.map(z=>R.put(z));return Ce.waitFor(O)})}(e,c))),f=f.next(()=>{!function(_){_.createObjectStore(Ga.store,{keyPath:Ga.keyPath})}(e)})),r<5&&a>=5&&(f=f.next(()=>this.Ne(c))),r<6&&a>=6&&(f=f.next(()=>(function(_){_.createObjectStore($i.store)}(e),this.ke(c)))),r<7&&a>=7&&(f=f.next(()=>this.xe(c))),r<8&&a>=8&&(f=f.next(()=>this.$e(e,c))),r<9&&a>=9&&(f=f.next(()=>{(function(_){_.objectStoreNames.contains("remoteDocumentChanges")&&_.deleteObjectStore("remoteDocumentChanges")})(e),function(_){const I=_.objectStore(Ln.store);I.createIndex(Ln.readTimeIndex,Ln.readTimeIndexPath,{unique:!1}),I.createIndex(Ln.collectionReadTimeIndex,Ln.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&a>=10&&(f=f.next(()=>this.Fe(c))),r<11&&a>=11&&(f=f.next(()=>{(function(_){_.createObjectStore(wl.store,{keyPath:wl.keyPath})})(e),function(_){_.createObjectStore(dh.store,{keyPath:dh.keyPath})}(e)})),f}ke(e){let t=0;return e.store(Ln.store).jt((r,a)=>{t+=om(a)}).next(()=>{const r=new $i(t);return e.store($i.store).put($i.key,r)})}Ne(e){const t=e.store(_l.store),r=e.store(_n.store);return t.Bt().next(a=>Ce.forEach(a,c=>{const f=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.Bt(_n.userMutationsIndex,f).next(_=>Ce.forEach(_,I=>{ft(I.userId===c.userId);const A=gh(this.k,I);return sm(e,c.userId,A).next(()=>{})}))}))}xe(e){const t=e.store(zr.store),r=e.store(Ln.store);return e.store(hs.store).get(hs.key).next(a=>{const c=[];return r.jt((f,_)=>{const I=new zt(f),A=[0,Vs(I)];c.push(t.get(A).next(R=>R?Ce.resolve():t.put(new zr(0,Vs(I),a.highestListenSequenceNumber))))}).next(()=>Ce.waitFor(c))})}$e(e,t){e.createObjectStore(vl.store,{keyPath:vl.keyPath});const r=t.store(vl.store),a=new z_,c=f=>{if(a.add(f)){const _=f.lastSegment(),I=f.popLast();return r.put({collectionId:_,parent:Vs(I)})}};return t.store(Ln.store).jt({Kt:!0},(f,_)=>{const I=new zt(f);return c(I.popLast())}).next(()=>t.store(wr.store).jt({Kt:!0},([f,_,I],A)=>{const R=Ju(_);return c(R.popLast())}))}Fe(e){const t=e.store(Hi.store);return t.jt((r,a)=>{const c=dp(a),f=Z_(this.k,c);return t.put(f)})}}function iE(n){n.createObjectStore(zr.store,{keyPath:zr.keyPath}).createIndex(zr.documentTargetsIndex,zr.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Hi.store,{keyPath:Hi.keyPath}).createIndex(Hi.queryTargetsIndexName,Hi.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(hs.store)}const cm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class lm{constructor(e,t,r,a,c,f,_,I,A,R){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Oe=c,this.window=f,this.document=_,this.Me=A,this.Le=R,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=O=>Promise.resolve(),!lm.bt())throw new xe(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tE(this,a),this.Ge=t+"main",this.k=new $_(I),this.ze=new js(this.Ge,11,new fp(this.k)),this.He=new SD(this.referenceDelegate,this.k),this.Jt=new AD,this.Je=new RD(this.k,this.Jt),this.Ye=new TD,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===R&&mr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(ce.FAILED_PRECONDITION,cm);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new Bi(e,this.Me)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var r=(0,pe.Z)(function*(a){if(t.started)return e(a)});return function(a){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,pe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,pe.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>dm(e).put(new Ga(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.an(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(Il(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return pp(e).get(Bs.key).next(t=>Ce.resolve(this.un(t)))}hn(e){return dm(e).delete(this.clientId)}ln(){var e=this;return(0,pe.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const a=qi(r,Ga.store);return a.Bt().next(c=>{const f=e.dn(c,18e5),_=c.filter(I=>-1===f.indexOf(I));return Ce.forEach(_,I=>a.delete(I.clientId)).next(()=>_)})}).catch(()=>[]);if(e.Xe)for(const r of t)e.Xe.removeItem(e.wn(r.clientId))}})()}nn(){this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Ce.resolve(!0):pp(e).get(Bs.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new xe(ce.FAILED_PRECONDITION,cm);return!1}}return!(!this.networkEnabled||!this.inForeground)||dm(e).Bt().next(r=>void 0===this.dn(r,5e3).find(a=>{if(this.clientId!==a.clientId){const f=!this.inForeground&&a.inForeground,_=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||f&&_)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,pe.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[Bs.store,Ga.store],t=>{const r=new Yw(t,Bi.I);return e.an(r).next(()=>e.hn(r))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(r=>this.fn(r.updateTimeMs,t)&&!this._n(r.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>dm(e).Bt().next(t=>this.dn(t,18e5).map(r=>r.clientId)))}get started(){return this.Ue}getMutationQueue(e){return W_.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,r){let c;return Pe("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",DD,f=>(c=new Yw(f,this.Be?this.Be.next():Bi.I),"readwrite-primary"===t?this.rn(c).next(_=>!!_||this.on(c)).next(_=>{if(!_)throw mr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)),new xe(ce.FAILED_PRECONDITION,El);return r(c)}).next(_=>this.cn(c).next(()=>_)):this.En(c).next(()=>r(c)))).then(f=>(c.raiseOnCommittedEvent(),f))}En(e){return pp(e).get(Bs.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xe(ce.FAILED_PRECONDITION,cm)})}cn(e){const t=new Bs(this.clientId,this.allowTabSynchronization,Date.now());return pp(e).put(Bs.key,t)}static bt(){return js.bt()}an(e){const t=pp(e);return t.get(Bs.key).next(r=>this.un(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete(Bs.key)):Ce.resolve())}fn(e,t){const r=Date.now();return!(e<r-t||e>r&&(mr(`Detected an update time that is in the future: ${e} > ${r}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,Pt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const r=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return mr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){mr("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function pp(n){return qi(n,Bs.store)}function dm(n){return qi(n,Ga.store)}function Q_(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class J_{constructor(e,t){this.progress=e,this.In=t}}class sE{constructor(e,t,r){this.Je=e,this.An=t,this.Jt=r}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Pn(e,t,r))}Pn(e,t,r){return this.Je.getEntry(e,t).next(a=>{for(const c of r)c.applyToLocalView(a);return a})}bn(e,t){e.forEach((r,a)=>{for(const c of t)c.applyToLocalView(a)})}vn(e,t){return this.Je.getEntries(e,t).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.bn(t,r))}getDocumentsMatchingQuery(e,t,r){return nt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.Sn(e,t.path):I_(t)?this.Dn(e,t,r):this.Cn(e,t,r);var a}Sn(e,t){return this.Rn(e,new nt(t)).next(r=>{let a=Yg();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}Dn(e,t,r){const a=t.collectionGroup;let c=Yg();return this.Jt.getCollectionParents(e,a).next(f=>Ce.forEach(f,_=>{const I=(A=t,R=_.child(a),new Fo(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt));var A,R;return this.Cn(e,I,r).next(A=>{A.forEach((R,O)=>{c=c.insert(R,O)})})}).next(()=>c))}Cn(e,t,r){let a,c;return this.Je.getDocumentsMatchingQuery(e,t,r).next(f=>(a=f,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(f=>(c=f,this.Nn(e,c,a).next(_=>{a=_;for(const I of c)for(const A of I.mutations){const R=A.key;let O=a.get(R);null==O&&(O=Dn.newInvalidDocument(R),a=a.insert(R,O)),A_(A,O,I.localWriteTime),O.isFoundDocument()||(a=a.remove(R))}}))).next(()=>(a.forEach((f,_)=>{tp(t,_)||(a=a.remove(f))}),a))}Nn(e,t,r){let a=sn();for(const f of t)for(const _ of f.mutations)_ instanceof Ku&&null===r.get(_.key)&&(a=a.add(_.key));let c=r;return this.Je.getEntries(e,a).next(f=>(f.forEach((_,I)=>{I.isFoundDocument()&&(c=c.insert(_,I))}),c))}}class oE{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.kn=r,this.xn=a}static $n(e,t){let r=sn(),a=sn();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new oE(e,t.fromCache,r,a)}}class aE{Fn(e){this.On=e}getDocumentsMatchingQuery(e,t,r,a){return 0===(c=t).filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())||r.isEqual(bt.min())?this.Mn(e,t):this.On.vn(e,a).next(c=>{const f=this.Ln(t,c);return(E_(t)||ep(t))&&this.Bn(t.limitType,f,a,r)?this.Mn(e,t):(Ug()<=Pu.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gg(t)),this.On.getDocumentsMatchingQuery(e,t,r).next(_=>(f.forEach(I=>{_=_.insert(I.key,I)}),_)))});var c}Ln(e,t){let r=new kn(vw(e));return t.forEach((a,c)=>{tp(e,c)&&(r=r.add(c))}),r}Bn(e,t,r,a){if(r.size!==t.size)return!0;const c="F"===e?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Mn(e,t){return Ug()<=Pu.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",Gg(t)),this.On.getDocumentsMatchingQuery(e,t,bt.min())}}class OD{constructor(e,t,r,a){this.persistence=e,this.Un=t,this.k=a,this.qn=new vr(Lt),this.Kn=new yh(c=>th(c),Yf),this.jn=bt.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new sE(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function Al(n,e,t,r){return new OD(n,e,t,r)}function X_(n,e){return rc.apply(this,arguments)}function rc(){return rc=(0,pe.Z)(function*(n,e){const t=He(n);let r=t.An,a=t.Wn;const c=yield t.persistence.runTransaction("Handle user change","readonly",f=>{let _;return t.An.getAllMutationBatches(f).next(I=>(_=I,r=t.persistence.getMutationQueue(e),a=new sE(t.Qn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(f))).next(I=>{const A=[],R=[];let O=sn();for(const z of _){A.push(z.batchId);for(const J of z.mutations)O=O.add(J.key)}for(const z of I){R.push(z.batchId);for(const J of z.mutations)O=O.add(J.key)}return a.vn(f,O).next(z=>({Gn:z,removedBatchIds:A,addedBatchIds:R}))})});return t.An=r,t.Wn=a,t.Un.Fn(t.Wn),c}),rc.apply(this,arguments)}function IT(n,e){const t=He(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),c=t.Qn.newChangeBuffer({trackRemovals:!0});return function(f,_,I,A){const R=I.batch,O=R.keys();let z=Ce.resolve();return O.forEach(J=>{z=z.next(()=>A.getEntry(_,J)).next(ve=>{const Be=I.docVersions.get(J);ft(null!==Be),ve.version.compareTo(Be)<0&&(R.applyToRemoteDocument(ve,I),ve.isValidDocument()&&A.addEntry(ve,I.commitVersion))})}),z.next(()=>f.An.removeMutationBatch(_,R))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.An.performConsistencyCheck(r)).next(()=>t.Wn.vn(r,a))})}function ev(n){const e=He(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function PD(n,e){const t=He(n),r=e.snapshotVersion;let a=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=t.Qn.newChangeBuffer({trackRemovals:!0});a=t.qn;const _=[];e.targetChanges.forEach((A,R)=>{const O=a.get(R);if(!O)return;_.push(t.He.removeMatchingKeys(c,A.removedDocuments,R).next(()=>t.He.addMatchingKeys(c,A.addedDocuments,R)));const z=A.resumeToken;if(z.approximateByteSize()>0){const J=O.withResumeToken(z,r).withSequenceNumber(c.currentSequenceNumber);a=a.insert(R,J),ve=O,Xe=A,ft((Be=J).resumeToken.approximateByteSize()>0),(0===ve.resumeToken.approximateByteSize()||Be.snapshotVersion.toMicroseconds()-ve.snapshotVersion.toMicroseconds()>=3e8||Xe.addedDocuments.size+Xe.modifiedDocuments.size+Xe.removedDocuments.size>0)&&_.push(t.He.updateTargetData(c,J))}var ve,Be,Xe});let I=ds();if(e.documentUpdates.forEach((A,R)=>{e.resolvedLimboDocuments.has(A)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(c,A))}),_.push(ND(c,f,e.documentUpdates,r,void 0).next(A=>{I=A})),!r.isEqual(bt.min())){const A=t.He.getLastRemoteSnapshotVersion(c).next(R=>t.He.setTargetsMetadata(c,c.currentSequenceNumber,r));_.push(A)}return Ce.waitFor(_).next(()=>f.apply(c)).next(()=>t.Wn.Vn(c,I)).next(()=>I)}).then(c=>(t.qn=a,c))}function ND(n,e,t,r,a){let c=sn();return t.forEach(f=>c=c.add(f)),e.getEntries(n,c).next(f=>{let _=ds();return t.forEach((I,A)=>{const R=f.get(I),O=(null==a?void 0:a.get(I))||r;A.isNoDocument()&&A.version.isEqual(bt.min())?(e.removeEntry(I,O),_=_.insert(I,A)):!R.isValidDocument()||A.version.compareTo(R.version)>0||0===A.version.compareTo(R.version)&&R.hasPendingWrites?(e.addEntry(A,O),_=_.insert(I,A)):Pe("LocalStore","Ignoring outdated watch update for ",I,". Current version:",R.version," Watch version:",A.version)}),_})}function uE(n,e){const t=He(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(r,e)))}function gp(n,e){const t=He(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.He.getTargetData(r,e).next(c=>c?(a=c,Ce.resolve(a)):t.He.allocateTargetId(r).next(f=>(a=new Xu(e,f,0,r.currentSequenceNumber),t.He.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.qn.get(r.targetId);return(null===a||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.qn=t.qn.insert(r.targetId,r),t.Kn.set(e,r.targetId)),r})}function Sl(n,e,t){return mp.apply(this,arguments)}function mp(){return mp=(0,pe.Z)(function*(n,e,t){const r=He(n),a=r.qn.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,f=>r.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!Il(f))throw f;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}r.qn=r.qn.remove(e),r.Kn.delete(a.target)}),mp.apply(this,arguments)}function hm(n,e,t){const r=He(n);let a=bt.min(),c=sn();return r.persistence.runTransaction("Execute query","readonly",f=>function(_,I,A){const R=He(_),O=R.Kn.get(A);return void 0!==O?Ce.resolve(R.qn.get(O)):R.He.getTargetData(I,A)}(r,f,Kn(e)).next(_=>{if(_)return a=_.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(f,_.targetId).next(I=>{c=I})}).next(()=>r.Un.getDocumentsMatchingQuery(f,e,t?a:bt.min(),t?c:sn())).next(_=>({documents:_,zn:c})))}function cE(n,e){const t=He(n),r=He(t.He),a=t.qn.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>r.Et(c,e).next(f=>f?f.target:null))}function lE(n){const e=He(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,a,c){const f=He(r);let _=ds(),I=q_(c);const A=jo(a),R=IDBKeyRange.lowerBound(I,!0);return A.jt({index:Ln.readTimeIndex,range:R},(O,z)=>{const J=H_(f.k,z);_=_.insert(J.key,J),I=z.readTime}).next(()=>({In:_,readTime:Jw(I)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:r})=>(e.jn=r,t))}function tv(){return tv=(0,pe.Z)(function*(n){const e=He(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const a=jo(r);let c=bt.min();return a.jt({index:Ln.readTimeIndex,reverse:!0},(f,_,I)=>{_.readTime&&(c=Jw(_.readTime)),I.done()}).next(()=>c)}(t)).then(t=>{e.jn=t})}),tv.apply(this,arguments)}function nv(){return nv=(0,pe.Z)(function*(n,e,t,r){const a=He(n);let c=sn(),f=ds(),_=M_();for(const R of t){const O=e.Hn(R.metadata.name);R.document&&(c=c.add(O)),f=f.insert(O,e.Jn(R)),_=_.insert(O,e.Yn(R.metadata.readTime))}const I=a.Qn.newChangeBuffer({trackRemovals:!0}),A=yield gp(a,(R=r,Kn(pl(zt.fromString(`__bundle__/docs/${R}`)))));var R;return a.persistence.runTransaction("Apply bundle documents","readwrite",R=>ND(R,I,f,bt.min(),_).next(O=>(I.apply(R),O)).next(O=>a.He.removeMatchingKeysForTargetId(R,A.targetId).next(()=>a.He.addMatchingKeys(R,c,A.targetId)).next(()=>a.Wn.Vn(R,O)).next(()=>O)))}),nv.apply(this,arguments)}function FD(n,e){return rv.apply(this,arguments)}function rv(){return rv=(0,pe.Z)(function*(n,e,t=sn()){const r=yield gp(n,Kn(nm(e.bundledQuery))),a=He(n);return a.persistence.runTransaction("Save named query","readwrite",c=>{const f=Qn(e.readTime);if(r.snapshotVersion.compareTo(f)>=0)return a.Ye.saveNamedQuery(c,e);const _=r.withResumeToken(ar.EMPTY_BYTE_STRING,f);return a.qn=a.qn.insert(_.targetId,_),a.He.updateTargetData(c,_).next(()=>a.He.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>a.He.addMatchingKeys(c,t,r.targetId)).next(()=>a.Ye.saveNamedQuery(c,e))})}),rv.apply(this,arguments)}class UD{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Ce.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var r;return this.Xn.set(t.id,{id:(r=t).id,version:r.version,createTime:Qn(r.createTime)}),Ce.resolve()}getNamedQuery(e,t){return Ce.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(r=t).name,query:nm(r.bundledQuery),readTime:Qn(r.readTime)}),Ce.resolve();var r}}class xl{constructor(){this.ts=new kn(Er.es),this.ns=new kn(Er.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const r=new Er(e,t);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.os(new Er(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new nt(new zt([])),r=new Er(t,e),a=new Er(t,e+1),c=[];return this.ns.forEachInRange([r,a],f=>{this.os(f),c.push(f.key)}),c}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new nt(new zt([])),r=new Er(t,e),a=new Er(t,e+1);let c=sn();return this.ns.forEachInRange([r,a],f=>{c=c.add(f.key)}),c}containsKey(e){const t=new Er(e,0),r=this.ts.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Er{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return nt.comparator(e.key,t.key)||Lt(e.fs,t.fs)}static ss(e,t){return Lt(e.fs,t.fs)||nt.comparator(e.key,t.key)}}class dE{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new kn(Er.es)}checkEmpty(e){return Ce.resolve(0===this.An.length)}addMutationBatch(e,t,r,a){const c=this.ds;this.ds++;const f=new j_(c,t,r,a);this.An.push(f);for(const _ of a)this.ws=this.ws.add(new Er(_.key,c)),this.Jt.addToCollectionParentIndex(e,_.key.path.popLast());return Ce.resolve(f)}lookupMutationBatch(e,t){return Ce.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.gs(t+1),c=a<0?0:a;return Ce.resolve(this.An.length>c?this.An[c]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Ce.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Er(t,0),a=new Er(t,Number.POSITIVE_INFINITY),c=[];return this.ws.forEachInRange([r,a],f=>{const _=this._s(f.fs);c.push(_)}),Ce.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new kn(Lt);return t.forEach(a=>{const c=new Er(a,0),f=new Er(a,Number.POSITIVE_INFINITY);this.ws.forEachInRange([c,f],_=>{r=r.add(_.fs)})}),Ce.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let c=r;nt.isDocumentKey(c)||(c=c.child(""));const f=new Er(new nt(c),0);let _=new kn(Lt);return this.ws.forEachWhile(I=>{const A=I.key.path;return!!r.isPrefixOf(A)&&(A.length===a&&(_=_.add(I.fs)),!0)},f),Ce.resolve(this.ys(_))}ys(e){const t=[];return e.forEach(r=>{const a=this._s(r);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){ft(0===this.ps(t.batchId,"removed")),this.An.shift();let r=this.ws;return Ce.forEach(t.mutations,a=>{const c=new Er(a.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,t){const r=new Er(t,0),a=this.ws.firstAfterOrEqual(r);return Ce.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Ce.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class hE{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new vr(nt.comparator),this.size=0}addEntry(e,t,r){const a=t.key,c=this.docs.get(a),f=c?c.size:0,_=this.Ts(t);return this.docs=this.docs.insert(a,{document:t.clone(),size:_,readTime:r}),this.size+=_-f,this.Jt.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ce.resolve(r?r.document.clone():Dn.newInvalidDocument(t))}getEntries(e,t){let r=ds();return t.forEach(a=>{const c=this.docs.get(a);r=r.insert(a,c?c.document.clone():Dn.newInvalidDocument(a))}),Ce.resolve(r)}getDocumentsMatchingQuery(e,t,r){let a=ds();const c=new nt(t.path.child("")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:_,value:{document:I,readTime:A}}=f.getNext();if(!t.path.isPrefixOf(_.path))break;A.compareTo(r)<=0||tp(t,I)&&(a=a.insert(I.key,I.clone()))}return Ce.resolve(a)}Es(e,t){return Ce.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new fE(this)}getSize(e){return Ce.resolve(this.size)}}class fE extends nE{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.document.isValidDocument()?t.push(this.De.addEntry(e,a.document,this.getReadTime(r))):this.De.removeEntry(r)}),Ce.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class pE{constructor(e){this.persistence=e,this.Is=new yh(t=>th(t),Yf),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.As=0,this.Rs=new xl,this.targetCount=0,this.Ps=tc.ie()}forEachTarget(e,t){return this.Is.forEach((r,a)=>t(a)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.As&&(this.As=t),Ce.resolve()}ce(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ps=new tc(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,Ce.resolve()}updateTargetData(e,t){return this.ce(t),Ce.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,t,r){let a=0;const c=[];return this.Is.forEach((f,_)=>{_.sequenceNumber<=t&&null===r.get(_.targetId)&&(this.Is.delete(f),c.push(this.removeMatchingKeysForTargetId(e,_.targetId)),a++)}),Ce.waitFor(c).next(()=>a)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.Is.get(t)||null;return Ce.resolve(r)}addMatchingKeys(e,t,r){return this.Rs.rs(t,r),Ce.resolve()}removeMatchingKeys(e,t,r){this.Rs.cs(t,r);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),Ce.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Rs.ls(t);return Ce.resolve(r)}containsKey(e,t){return Ce.resolve(this.Rs.containsKey(t))}}class VD{constructor(e,t){this.bs={},this.Be=new Bi(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new pE(this),this.Jt=new CD,this.Je=new hE(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new $_(t),this.Ye=new UD(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new dE(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const a=new BD(this.Be.next());return this.referenceDelegate.Vs(),r(a).next(c=>this.referenceDelegate.Ss(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ds(e,t){return Ce.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class BD extends Kw{constructor(e){super(),this.currentSequenceNumber=e}}class iv{constructor(e){this.persistence=e,this.Cs=new xl,this.Ns=null}static ks(e){return new iv(e)}get xs(){if(this.Ns)return this.Ns;throw it()}addReference(e,t,r){return this.Cs.addReference(r,t),this.xs.delete(r.toString()),Ce.resolve()}removeReference(e,t,r){return this.Cs.removeReference(r,t),this.xs.add(r.toString()),Ce.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Ce.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(a=>this.xs.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.xs.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.xs,r=>{const a=nt.fromPath(r);return this.$s(e,a).next(c=>{c||t.removeEntry(a)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return Ce.or([()=>Ce.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function gE(n,e){return`firestore_clients_${n}_${e}`}function mE(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function sv(n,e){return`firestore_targets_${n}_${e}`}class fm{constructor(e,t,r,a){this.user=e,this.batchId=t,this.state=r,this.error=a}static Fs(e,t,r){const a=JSON.parse(r);let c,f="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(c=new xe(a.error.code,a.error.message))),f?new fm(e,t,a.state,c):(mr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class za{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Fs(e,t){const r=JSON.parse(t);let a,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(a=new xe(r.error.code,r.error.message))),c?new za(e,r.state,a):(mr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Fs(e,t){const r=JSON.parse(t);let a="object"==typeof r&&r.activeTargetIds instanceof Array,c=Qg();for(let f=0;a&&f<r.activeTargetIds.length;++f)a=uw(r.activeTargetIds[f]),c=c.add(r.activeTargetIds[f]);return a?new pm(e,c):(mr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class yp{constructor(e,t){this.clientId=e,this.onlineState=t}static Fs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new yp(t.clientId,t.onlineState):(mr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class $s{constructor(){this.activeTargetIds=Qg()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ov{constructor(e,t,r,a,c){this.window=e,this.Oe=t,this.persistenceKey=r,this.Bs=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new vr(Lt),this.started=!1,this.js=[];const f=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.Qs=gE(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new $s),this.Gs=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(_){return`firestore_bundle_loaded_${_}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,pe.Z)(function*(){const t=yield e.syncEngine.Tn();for(const a of t){if(a===e.Bs)continue;const c=e.getItem(gE(e.persistenceKey,a));if(c){const f=pm.Fs(a,c);f&&(e.Ks=e.Ks.insert(f.clientId,f))}}e.Xs();const r=e.storage.getItem(e.Js);if(r){const a=e.Zs(r);a&&e.ti(a)}for(const a of e.js)e.qs(a);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((r,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,r){this.ni(e,t,r),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(sv(this.persistenceKey,e));if(r){const a=za.Fs(e,r);a&&(t=a.state)}}return this.ii.Ms(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(sv(this.persistenceKey,e))}updateQueryState(e,t,r){this.ri(e,t,r)}handleUserChange(e,t,r){t.forEach(a=>{this.si(a)}),this.currentUser=e,r.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ai()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Qs)return void mr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,pe.Z)(function*(){if(t.started){if(null!==r.key)if(t.Gs.test(r.key)){if(null==r.newValue){const a=t.ci(r.key);return t.ui(a,null)}{const a=t.hi(r.key,r.newValue);if(a)return t.ui(a.clientId,a)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const a=t.li(r.key,r.newValue);if(a)return t.fi(a)}}else if(t.Hs.test(r.key)){if(null!==r.newValue){const a=t.di(r.key,r.newValue);if(a)return t.wi(a)}}else if(r.key===t.Js){if(null!==r.newValue){const a=t.Zs(r.newValue);if(a)return t.ti(a)}}else if(r.key===t.Ws){const a=function(c){let f=Bi.I;if(null!=c)try{const _=JSON.parse(c);ft("number"==typeof _),f=_}catch(_){mr("SharedClientState","Failed to read sequence number from WebStorage",_)}return f}(r.newValue);a!==Bi.I&&t.sequenceNumberHandler(a)}else if(r.key===t.Ys)return t.syncEngine._i()}else t.js.push(r)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Os())}ni(e,t,r){const a=new fm(this.currentUser,e,t,r),c=mE(this.persistenceKey,this.currentUser,e);this.setItem(c,a.Os())}si(e){const t=mE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,r){const a=sv(this.persistenceKey,e),c=new za(e,t,r);this.setItem(a,c.Os())}ai(){this.setItem(this.Ys,"value-not-used")}ci(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const r=this.ci(e);return pm.Fs(r,t)}li(e,t){const r=this.zs.exec(e),a=Number(r[1]);return fm.Fs(new Gr(void 0!==r[2]?r[2]:null),a,t)}di(e,t){const r=this.Hs.exec(e),a=Number(r[1]);return za.Fs(a,t)}Zs(e){return yp.Fs(e)}fi(e){var t=this;return(0,pe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const r=t?this.Ks.insert(e,t):this.Ks.remove(e),a=this.ei(this.Ks),c=this.ei(r),f=[],_=[];return c.forEach(I=>{a.has(I)||f.push(I)}),a.forEach(I=>{c.has(I)||_.push(I)}),this.syncEngine.yi(f,_).then(()=>{this.Ks=r})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=Qg();return e.forEach((r,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class gm{constructor(){this.pi=new $s,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,t,r){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new $s,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class _p{Ei(e){}shutdown(){}}class yE{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const jD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class $D{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class mm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Mi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,r,a,c){const f=this.Ui(e,t);Pe("RestConnection","Sending: ",f,r);const _={};return this.qi(_,a,c),this.Ki(e,f,_,r).then(I=>(Pe("RestConnection","Received: ",I),I),I=>{throw qf("RestConnection",`${e} failed with error: `,I,"url: ",f,"request:",r),I})}ji(e,t,r,a,c){return this.Bi(e,t,r,a,c)}qi(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+hl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),r&&r.headers.forEach((a,c)=>e[c]=a)}Ui(e,t){return`${this.Mi}/v1/${t}:${jD[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,r,a){return new Promise((c,f)=>{const _=new nw;_.listenOnce(tw.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Fg.NO_ERROR:const A=_.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(A)),c(A);break;case Fg.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),f(new xe(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Fg.HTTP_ERROR:const R=_.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',R,"response text:",_.getResponseText()),R>0){const O=_.getResponseJson().error;if(O&&O.status&&O.message){const z=function(J){const ve=J.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(ve)>=0?ve:ce.UNKNOWN}(O.status);f(new xe(z,O.message))}else f(new xe(ce.UNKNOWN,"Server responded with status "+_.getStatus()))}else f(new xe(ce.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const I=JSON.stringify(a);_.send(t,"POST",I,r,15)})}Qi(e,t,r){const a=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=X0(),f=ew(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new GI({})),this.qi(_.initMessageHeaders,t,r),(0,Pt.uI)()||(0,Pt.b$)()||(0,Pt.d)()||(0,Pt.w1)()||(0,Pt.Mn)()||(0,Pt.ru)()||(_.httpHeadersOverwriteParam="$httpHeaders");const I=a.join("");Pe("Connection","Creating WebChannel: "+I,_);const A=c.createWebChannel(I,_);let R=!1,O=!1;const z=new $D({Vi:ve=>{O?Pe("Connection","Not sending because WebChannel is closed:",ve):(R||(Pe("Connection","Opening WebChannel transport."),A.open(),R=!0),Pe("Connection","WebChannel sending:",ve),A.send(ve))},Si:()=>A.close()}),J=(ve,Be,Xe)=>{ve.listen(Be,Ut=>{try{Xe(Ut)}catch(on){setTimeout(()=>{throw on},0)}})};return J(A,Hf.EventType.OPEN,()=>{O||Pe("Connection","WebChannel transport opened.")}),J(A,Hf.EventType.CLOSE,()=>{O||(O=!0,Pe("Connection","WebChannel transport closed"),z.Fi())}),J(A,Hf.EventType.ERROR,ve=>{O||(O=!0,qf("Connection","WebChannel transport errored:",ve),z.Fi(new xe(ce.UNAVAILABLE,"The operation could not be completed")))}),J(A,Hf.EventType.MESSAGE,ve=>{var Be;if(!O){const Xe=ve.data[0];ft(!!Xe);const Ut=Xe,on=Ut.error||(null===(Be=Ut[0])||void 0===Be?void 0:Be.error);if(on){Pe("Connection","WebChannel received error:",on);const Mn=on.status;let Mt=function(Ja){const _I=cr[Ja];if(void 0!==_I)return Ow(_I)}(Mn),Un=on.message;void 0===Mt&&(Mt=ce.INTERNAL,Un="Unknown error status: "+Mn+" with message "+on.message),O=!0,z.Fi(new xe(Mt,Un)),A.close()}else Pe("Connection","WebChannel received:",Xe),z.Oi(Xe)}}),J(f,ZI.STAT_EVENT,ve=>{ve.stat===h_.PROXY?Pe("Connection","Detected buffering proxy"):ve.stat===h_.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{z.$i()},0),z}}function vp(){return"undefined"!=typeof window?window:null}function ym(){return"undefined"!=typeof document?document:null}function wp(n){return new pD(n,!0)}class _m{constructor(e,t,r=1e3,a=1.5,c=6e4){this.Oe=e,this.timerId=t,this.Wi=r,this.Gi=a,this.zi=c,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),a=Math.max(0,t-r);a>0&&Pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,a,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class av{constructor(e,t,r,a,c,f,_,I){this.Oe=e,this.nr=r,this.sr=a,this.ir=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=_,this.listener=I,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new _m(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,pe.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,pe.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var r=this;return(0,pe.Z)(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(mr(t.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):t&&t.code===ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.rr===t&&this.Ir(r,a)},r=>{e(()=>{const a=new xe(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(a)})})}Ir(e,t){const r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{r(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(a=>{r(()=>this.Ar(a))}),this.stream.onMessage(a=>{r(()=>this.onMessage(a))})}dr(){var e=this;this.state=5,this.ur.Zi((0,pe.Z)(function*(){e.state=0,e.start()}))}Ar(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Oe.enqueueAndForget(()=>this.rr===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uv extends av{constructor(e,t,r,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,f),this.k=c}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(I=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===I?1:"REMOVE"===I?2:"CURRENT"===I?3:"RESET"===I?4:it(),a=e.targetChange.targetIds||[],c=function(I,A){return I.C?(ft(void 0===A||"string"==typeof A),ar.fromBase64String(A||"")):(ft(void 0===A||A instanceof Uint8Array),ar.fromUint8Array(A||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,_=f&&function(I){const A=void 0===I.code?ce.UNKNOWN:Ow(I.code);return new xe(A,I.message||"")}(f);t=new lD(r,a,c,_||null)}else if("documentChange"in e){const r=e.documentChange,a=Bo(n,r.document.name),c=Qn(r.document.updateTime),f=new Fr({mapValue:{fields:r.document.fields}}),_=Dn.newFoundDocument(a,c,f);t=new R_(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,a=Bo(n,r.document),c=r.readTime?Qn(r.readTime):bt.min(),f=Dn.newNoDocument(a,c);t=new R_([],r.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const r=e.documentRemove,a=Bo(n,r.document);t=new R_([],r.removedTargetIds||[],a,null)}else{if(!("filter"in e))return it();{const r=e.filter,c=new cD(r.count||0);t=new Jg(r.targetId,c)}}var I;return t}(this.k,e),r=function(a){if(!("targetChange"in a))return bt.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?bt.min():c.readTime?Qn(c.readTime):bt.min()}(e);return this.listener.Pr(t,r)}br(e){const t={};t.database=ah(this.k),t.addTarget=function(a,c){let f;const _=c.target;return f=Qf(_)?{documents:jw(a,_)}:{query:up(a,_)},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?f.resumeToken=Uw(a,c.resumeToken):c.snapshotVersion.compareTo(bt.min())>0&&(f.readTime=Yu(a,c.snapshotVersion.toTimestamp())),f}(this.k,e);const r=function(n,e){const t=function(r,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return it()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.gr(t)}vr(e){const t={};t.database=ah(this.k),t.removeTarget=e,this.gr(t)}}class _E extends av{constructor(e,t,r,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,f),this.k=c,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(n,e){return n&&n.length>0?(ft(void 0!==e),n.map(t=>function(r,a){let c=Qn(r.updateTime?r.updateTime:a);return c.isEqual(bt.min())&&(c=Qn(a)),new bw(c,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Qn(e.commitTime);return this.listener.Cr(r,t)}return ft(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=ah(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Qu(this.k,r))};this.gr(t)}}class HD extends class{}{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=r,this.k=a,this.$r=!1}Fr(){if(this.$r)throw new xe(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.ir.Bi(e,t,r,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(ce.UNKNOWN,a.toString())})}ji(e,t,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.ir.ji(e,t,r,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(ce.UNKNOWN,a.toString())})}terminate(){this.$r=!0}}class qD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(mr(t),this.Lr=!1):Pe("OnlineStateTracker",t)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class DT{constructor(e,t,r,a,c){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=c,this.Hr.Ei(_=>{r.enqueueAndForget((0,pe.Z)(function*(){var I;$o(f)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(I=(0,pe.Z)(function*(A){const R=He(A);R.Gr.add(4),yield Rl(R),R.Jr.set("Unknown"),R.Gr.delete(4),yield Ml(R)}),function(A){return I.apply(this,arguments)})(f))}))}),this.Jr=new qD(r,a)}}function Ml(n){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,pe.Z)(function*(n){if($o(n))for(const e of n.zr)yield e(!0)}),Ep.apply(this,arguments)}function Rl(n){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,pe.Z)(function*(n){for(const e of n.zr)yield e(!1)}),Ip.apply(this,arguments)}function _h(n,e){const t=He(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),vm(t)?lv(t):sc(t).lr()&&cv(t,e))}function Dp(n,e){const t=He(n),r=sc(t);t.Wr.delete(e),r.lr()&&vE(t,e),0===t.Wr.size&&(r.lr()?r._r():$o(t)&&t.Jr.set("Unknown"))}function cv(n,e){n.Yr.X(e.targetId),sc(n).br(e)}function vE(n,e){n.Yr.X(e),sc(n).vr(e)}function lv(n){n.Yr=new Fw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),sc(n).start(),n.Jr.Br()}function vm(n){return $o(n)&&!sc(n).hr()&&n.Wr.size>0}function $o(n){return 0===He(n).Gr.size}function dv(n){n.Yr=void 0}function ZD(n){return wm.apply(this,arguments)}function wm(){return wm=(0,pe.Z)(function*(n){n.Wr.forEach((e,t)=>{cv(n,e)})}),wm.apply(this,arguments)}function wE(n,e){return hv.apply(this,arguments)}function hv(){return hv=(0,pe.Z)(function*(n,e){dv(n),vm(n)?(n.Jr.Kr(e),lv(n)):n.Jr.set("Unknown")}),hv.apply(this,arguments)}function EE(n,e,t){return Em.apply(this,arguments)}function Em(){return Em=(0,pe.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof lD&&2===e.state&&e.cause)try{yield(r=(0,pe.Z)(function*(a,c){const f=c.cause;for(const _ of c.targetIds)a.Wr.has(_)&&(yield a.remoteSyncer.rejectListen(_,f),a.Wr.delete(_),a.Yr.removeTarget(_))}),function(a,c){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Im(n,r)}else if(e instanceof R_?n.Yr.ot(e):e instanceof Jg?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(bt.min()))try{const r=yield ev(n.localStore);t.compareTo(r)>=0&&(yield function(a,c){const f=a.Yr.gt(c);return f.targetChanges.forEach((_,I)=>{if(_.resumeToken.approximateByteSize()>0){const A=a.Wr.get(I);A&&a.Wr.set(I,A.withResumeToken(_.resumeToken,c))}}),f.targetMismatches.forEach(_=>{const I=a.Wr.get(_);if(!I)return;a.Wr.set(_,I.withResumeToken(ar.EMPTY_BYTE_STRING,I.snapshotVersion)),vE(a,_);const A=new Xu(I.target,_,1,I.sequenceNumber);cv(a,A)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield Im(n,r)}var r}),Em.apply(this,arguments)}function Im(n,e,t){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,pe.Z)(function*(n,e,t){if(!Il(e))throw e;n.Gr.add(1),yield Rl(n),n.Jr.set("Offline"),t||(t=()=>ev(n.localStore)),n.asyncQueue.enqueueRetryable((0,pe.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield Ml(n)}))}),Dm.apply(this,arguments)}function IE(n,e){return e().catch(t=>Im(n,t,e))}function lr(n){return ic.apply(this,arguments)}function ic(){return ic=(0,pe.Z)(function*(n){const e=He(n),t=Ol(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;GD(e);)try{const a=yield uE(e.localStore,r);if(null===a){0===e.Qr.length&&t._r();break}r=a.batchId,zD(e,a)}catch(a){yield Im(e,a)}WD(e)&&vh(e)}),ic.apply(this,arguments)}function GD(n){return $o(n)&&n.Qr.length<10}function zD(n,e){n.Qr.push(e);const t=Ol(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function WD(n){return $o(n)&&!Ol(n).hr()&&n.Qr.length>0}function vh(n){Ol(n).start()}function KD(n){return bp.apply(this,arguments)}function bp(){return bp=(0,pe.Z)(function*(n){Ol(n).kr()}),bp.apply(this,arguments)}function YD(n){return bm.apply(this,arguments)}function bm(){return bm=(0,pe.Z)(function*(n){const e=Ol(n);for(const t of n.Qr)e.Dr(t.mutations)}),bm.apply(this,arguments)}function QD(n,e,t){return fv.apply(this,arguments)}function fv(){return fv=(0,pe.Z)(function*(n,e,t){const r=n.Qr.shift(),a=lp.from(r,e,t);yield IE(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield lr(n)}),fv.apply(this,arguments)}function pv(n,e){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,pe.Z)(function*(n,e){var t;e&&Ol(n).Sr&&(yield(t=(0,pe.Z)(function*(r,a){if(Rw(c=a.code)&&c!==ce.ABORTED){const f=r.Qr.shift();Ol(r).wr(),yield IE(r,()=>r.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield lr(r)}var c}),function(r,a){return t.apply(this,arguments)})(n,e)),WD(n)&&vh(n)}),Tm.apply(this,arguments)}function Cm(n,e){return wh.apply(this,arguments)}function wh(){return wh=(0,pe.Z)(function*(n,e){const t=He(n);e?(t.Gr.delete(2),yield Ml(t)):e||(t.Gr.add(2),yield Rl(t),t.Jr.set("Unknown"))}),wh.apply(this,arguments)}function sc(n){return n.Xr||(n.Xr=function(e,t,r){const a=He(e);return a.Fr(),new uv(t,a.ir,a.authCredentials,a.appCheckCredentials,a.k,r)}(n.datastore,n.asyncQueue,{Di:ZD.bind(null,n),Ni:wE.bind(null,n),Pr:EE.bind(null,n)}),n.zr.push(function(){var e=(0,pe.Z)(function*(t){t?(n.Xr.wr(),vm(n)?lv(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),dv(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function Ol(n){return n.Zr||(n.Zr=function(e,t,r){const a=He(e);return a.Fr(),new _E(t,a.ir,a.authCredentials,a.appCheckCredentials,a.k,r)}(n.datastore,n.asyncQueue,{Di:KD.bind(null,n),Ni:pv.bind(null,n),Nr:YD.bind(null,n),Cr:QD.bind(null,n)}),n.zr.push(function(){var e=(0,pe.Z)(function*(t){t?(n.Zr.wr(),yield lr(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class Am{constructor(e,t,r,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=c,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,r,a,c){const f=Date.now()+r,_=new Am(e,t,f,a,c);return _.start(r),_}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eh(n,e){if(mr("AsyncQueue",`${e}: ${n}`),Il(n))return new xe(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class Pl{constructor(e){this.comparator=e?(t,r)=>e(t,r)||nt.comparator(t.key,r.key):(t,r)=>nt.comparator(t.key,r.key),this.keyedMap=Yg(),this.sortedSet=new vr(this.comparator)}static emptySet(e){return new Pl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=r.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Pl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Tp{constructor(){this.eo=new vr(nt.comparator)}track(e){const t=e.doc.key,r=this.eo.get(t);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(t):1===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):it():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,r)=>{e.push(r)}),e}}class Nl{constructor(e,t,r,a,c,f,_,I){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=_,this.excludesMetadataChanges=I}static fromInitialDocuments(e,t,r,a){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new Nl(e,t,Pl.emptySet(t),c,r,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ei(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class JD{constructor(){this.so=void 0,this.listeners=[]}}class gv{constructor(){this.queries=new yh(e=>D_(e),Ei),this.onlineState="Unknown",this.io=new Set}}function Cp(n,e){return DE.apply(this,arguments)}function DE(){return DE=(0,pe.Z)(function*(n,e){const t=He(n),r=e.query;let a=!1,c=t.queries.get(r);if(c||(a=!0,c=new JD),a)try{c.so=yield t.onListen(r)}catch(f){const _=Eh(f,`Initialization of query '${Gg(e.query)}' failed`);return void e.onError(_)}t.queries.set(r,c),c.listeners.push(e),e.ro(t.onlineState),c.so&&e.oo(c.so)&&_v(t)}),DE.apply(this,arguments)}function mv(n,e){return yv.apply(this,arguments)}function yv(){return yv=(0,pe.Z)(function*(n,e){const t=He(n),r=e.query;let a=!1;const c=t.queries.get(r);if(c){const f=c.listeners.indexOf(e);f>=0&&(c.listeners.splice(f,1),a=0===c.listeners.length)}if(a)return t.queries.delete(r),t.onUnlisten(r)}),yv.apply(this,arguments)}function bE(n,e){const t=He(n);let r=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const _ of f.listeners)_.oo(a)&&(r=!0);f.so=a}}r&&_v(t)}function TE(n,e,t){const r=He(n),a=r.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);r.queries.delete(e)}function _v(n){n.io.forEach(e=>{e.next()})}class Sm{constructor(e,t,r){this.query=e,this.ao=t,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)3!==a.type&&r.push(a);e=new Nl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.ho(e)&&(this.ao.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=Nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class CE{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class AE{constructor(e){this.k=e}Hn(e){return Bo(this.k,e)}Jn(e){return e.metadata.exists?Vw(this.k,e.document,!1):Dn.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return Qn(e)}}class XD{constructor(e,t,r){this.mo=e,this.localStore=t,this.k=r,this.queries=[],this.documents=[],this.progress=vv(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,r=new AE(this.k);for(const a of e)if(a.metadata.queries){const c=r.Hn(a.metadata.name);for(const f of a.metadata.queries){const _=(t.get(f)||sn()).add(c);t.set(f,_)}}return t}complete(){var e=this;return(0,pe.Z)(function*(){const t=yield function(n,e,t,r){return nv.apply(this,arguments)}(e.localStore,new AE(e.k),e.documents,e.mo.id),r=e.po(e.documents);for(const a of e.queries)yield FD(e.localStore,a,r.get(a.name));return e.progress.taskState="Success",new J_(Object.assign({},e.progress),t)})()}}function vv(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class SE{constructor(e){this.key=e}}class wv{constructor(e){this.key=e}}class Ev{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=sn(),this.mutatedKeys=sn(),this.Ao=vw(e),this.Ro=new Pl(this.Ao)}get Po(){return this.To}bo(e,t){const r=t?t.vo:new Tp,a=t?t.Ro:this.Ro;let c=t?t.mutatedKeys:this.mutatedKeys,f=a,_=!1;const I=E_(this.query)&&a.size===this.query.limit?a.last():null,A=ep(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((R,O)=>{const z=a.get(R),J=tp(this.query,O)?O:null,ve=!!z&&this.mutatedKeys.has(z.key),Be=!!J&&(J.hasLocalMutations||this.mutatedKeys.has(J.key)&&J.hasCommittedMutations);let Xe=!1;z&&J?z.data.isEqual(J.data)?ve!==Be&&(r.track({type:3,doc:J}),Xe=!0):this.Vo(z,J)||(r.track({type:2,doc:J}),Xe=!0,(I&&this.Ao(J,I)>0||A&&this.Ao(J,A)<0)&&(_=!0)):!z&&J?(r.track({type:0,doc:J}),Xe=!0):z&&!J&&(r.track({type:1,doc:z}),Xe=!0,(I||A)&&(_=!0)),Xe&&(J?(f=f.add(J),c=Be?c.add(R):c.delete(R)):(f=f.delete(R),c=c.delete(R)))}),E_(this.query)||ep(this.query))for(;f.size>this.query.limit;){const R=E_(this.query)?f.last():f.first();f=f.delete(R.key),c=c.delete(R.key),r.track({type:1,doc:R})}return{Ro:f,vo:r,Bn:_,mutatedKeys:c}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const a=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const c=e.vo.no();c.sort((A,R)=>function(O,z){const J=ve=>{switch(ve){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return J(O)-J(z)}(A.type,R.type)||this.Ao(A.doc,R.doc)),this.So(r);const f=t?this.Do():[],_=0===this.Io.size&&this.current?1:0,I=_!==this.Eo;return this.Eo=_,0!==c.length||I?{snapshot:new Nl(this.query,e.Ro,a,c,e.mutatedKeys,0===_,I,!1),Co:f}:{Co:f}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Tp,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=sn(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const t=[];return e.forEach(r=>{this.Io.has(r)||t.push(new wv(r))}),this.Io.forEach(r=>{e.has(r)||t.push(new SE(r))}),t}ko(e){this.To=e.zn,this.Io=sn();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return Nl.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class xE{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ME{constructor(e){this.key=e,this.$o=!1}}class eb{constructor(e,t,r,a,c,f){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Fo={},this.Oo=new yh(_=>D_(_),Ei),this.Mo=new Map,this.Lo=new Set,this.Bo=new vr(nt.comparator),this.Uo=new Map,this.qo=new xl,this.Ko={},this.jo=new Map,this.Qo=tc.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function tb(n,e){return RE.apply(this,arguments)}function RE(){return RE=(0,pe.Z)(function*(n,e){const t=Sv(n);let r,a;const c=t.Oo.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),a=c.view.xo();else{const f=yield gp(t.localStore,Kn(e)),_=t.sharedClientState.addLocalQueryTarget(f.targetId);r=f.targetId,a=yield xm(t,e,r,"current"===_),t.isPrimaryClient&&_h(t.remoteStore,f)}return a}),RE.apply(this,arguments)}function xm(n,e,t,r){return OE.apply(this,arguments)}function OE(){return OE=(0,pe.Z)(function*(n,e,t,r){n.Go=(R,O,z)=>{return(J=(0,pe.Z)(function*(ve,Be,Xe,Ut){let on=Be.view.bo(Xe);on.Bn&&(on=yield hm(ve.localStore,Be.query,!1).then(({documents:Un})=>Be.view.bo(Un,on)));const Mn=Ut&&Ut.targetChanges.get(Be.targetId),Mt=Be.view.applyChanges(on,ve.isPrimaryClient,Mn);return Pm(ve,Be.targetId,Mt.Co),Mt.snapshot}),function(ve,Be,Xe,Ut){return J.apply(this,arguments)})(n,R,O,z);var J};const a=yield hm(n.localStore,e,!0),c=new Ev(e,a.zn),f=c.bo(a.documents),_=Vo.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),I=c.applyChanges(f,n.isPrimaryClient,_);Pm(n,t,I.Co);const A=new xE(e,t,c);return n.Oo.set(e,A),n.Mo.has(t)?n.Mo.get(t).push(e):n.Mo.set(t,[e]),I.snapshot}),OE.apply(this,arguments)}function bT(n,e){return PE.apply(this,arguments)}function PE(){return PE=(0,pe.Z)(function*(n,e){const t=He(n),r=t.Oo.get(e),a=t.Mo.get(r.targetId);if(a.length>1)return t.Mo.set(r.targetId,a.filter(c=>!Ei(c,e))),void t.Oo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Sl(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Dp(t.remoteStore,r.targetId),kl(t,r.targetId)}).catch(fo))):(kl(t,r.targetId),yield Sl(t.localStore,r.targetId,!0))}),PE.apply(this,arguments)}function NE(){return NE=(0,pe.Z)(function*(n,e,t){const r=xv(n);try{const a=yield function(c,f){const _=He(c),I=_r.now(),A=f.reduce((O,z)=>O.add(z.key),sn());let R;return _.persistence.runTransaction("Locally write mutations","readwrite",O=>_.Wn.vn(O,A).next(z=>{R=z;const J=[];for(const ve of f){const Be=uD(ve,R.get(ve.key));null!=Be&&J.push(new Ku(ve.key,Be,v_(Be.value.mapValue),Yn.exists(!0)))}return _.An.addMutationBatch(O,I,J,f)})).then(O=>(O.applyToLocalDocumentSet(R),{batchId:O.batchId,changes:R}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,f,_){let I=c.Ko[c.currentUser.toKey()];I||(I=new vr(Lt)),I=I.insert(f,_),c.Ko[c.currentUser.toKey()]=I}(r,a.batchId,t),yield ac(r,a.changes),yield lr(r.remoteStore)}catch(a){const c=Eh(a,"Failed to persist write");t.reject(c)}}),NE.apply(this,arguments)}function nb(n,e){return kE.apply(this,arguments)}function kE(){return kE=(0,pe.Z)(function*(n,e){const t=He(n);try{const r=yield PD(t.localStore,e);e.targetChanges.forEach((a,c)=>{const f=t.Uo.get(c);f&&(ft(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.$o=!0:a.modifiedDocuments.size>0?ft(f.$o):a.removedDocuments.size>0&&(ft(f.$o),f.$o=!1))}),yield ac(t,r,e)}catch(r){yield fo(r)}}),kE.apply(this,arguments)}function rb(n,e,t){const r=He(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const a=[];r.Oo.forEach((c,f)=>{const _=f.view.ro(e);_.snapshot&&a.push(_.snapshot)}),function(c,f){const _=He(c);_.onlineState=f;let I=!1;_.queries.forEach((A,R)=>{for(const O of R.listeners)O.ro(f)&&(I=!0)}),I&&_v(_)}(r.eventManager,e),a.length&&r.Fo.Pr(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Mm(n,e,t){return LE.apply(this,arguments)}function LE(){return LE=(0,pe.Z)(function*(n,e,t){const r=He(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Uo.get(e),c=a&&a.key;if(c){let f=new vr(nt.comparator);f=f.insert(c,Dn.newNoDocument(c,bt.min()));const _=sn().add(c),I=new ap(bt.min(),new Map,new kn(Lt),f,_);yield nb(r,I),r.Bo=r.Bo.remove(c),r.Uo.delete(e),km(r)}else yield Sl(r.localStore,e,!1).then(()=>kl(r,e,t)).catch(fo)}),LE.apply(this,arguments)}function Iv(n,e){return oc.apply(this,arguments)}function oc(){return oc=(0,pe.Z)(function*(n,e){const t=He(n),r=e.batch.batchId;try{const a=yield IT(t.localStore,e);Om(t,r,null),Rm(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ac(t,a)}catch(a){yield fo(a)}}),oc.apply(this,arguments)}function FE(n,e,t){return Dv.apply(this,arguments)}function Dv(){return Dv=(0,pe.Z)(function*(n,e,t){const r=He(n);try{const a=yield function(c,f){const _=He(c);return _.persistence.runTransaction("Reject batch","readwrite-primary",I=>{let A;return _.An.lookupMutationBatch(I,f).next(R=>(ft(null!==R),A=R.keys(),_.An.removeMutationBatch(I,R))).next(()=>_.An.performConsistencyCheck(I)).next(()=>_.Wn.vn(I,A))})}(r.localStore,e);Om(r,e,t),Rm(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ac(r,a)}catch(a){yield fo(a)}}),Dv.apply(this,arguments)}function Ap(){return Ap=(0,pe.Z)(function*(n,e){const t=He(n);$o(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const f=He(c);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",_=>f.An.getHighestUnacknowledgedBatchId(_))}(t.localStore);if(-1===r)return void e.resolve();const a=t.jo.get(r)||[];a.push(e),t.jo.set(r,a)}catch(r){const a=Eh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Ap.apply(this,arguments)}function Rm(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function Om(n,e,t){const r=He(n);let a=r.Ko[r.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),r.Ko[r.currentUser.toKey()]=a}}function kl(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Mo.get(e))n.Oo.delete(r),t&&n.Fo.zo(r,t);n.Mo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(r=>{n.qo.containsKey(r)||sb(n,r)})}function sb(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(Dp(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),km(n))}function Pm(n,e,t){for(const r of t)r instanceof SE?(n.qo.addReference(r.key,e),Nm(n,r)):r instanceof wv?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,e),n.qo.containsKey(r.key)||sb(n,r.key)):it()}function Nm(n,e){const t=e.key,r=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.Lo.add(r),km(n))}function km(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new nt(zt.fromString(e)),r=n.Qo.next();n.Uo.set(r,new ME(t)),n.Bo=n.Bo.insert(t,r),_h(n.remoteStore,new Xu(Kn(pl(t.path)),r,2,Bi.I))}}function ac(n,e,t){return UE.apply(this,arguments)}function UE(){return UE=(0,pe.Z)(function*(n,e,t){const r=He(n),a=[],c=[],f=[];var _;r.Oo.isEmpty()||(r.Oo.forEach((_,I)=>{f.push(r.Go(I,e,t).then(A=>{if(A){r.isPrimaryClient&&r.sharedClientState.updateQueryState(I.targetId,A.fromCache?"not-current":"current"),a.push(A);const R=oE.$n(I.targetId,A);c.push(R)}}))}),yield Promise.all(f),r.Fo.Pr(a),yield(_=(0,pe.Z)(function*(I,A){const R=He(I);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>Ce.forEach(A,z=>Ce.forEach(z.kn,J=>R.persistence.referenceDelegate.addReference(O,z.targetId,J)).next(()=>Ce.forEach(z.xn,J=>R.persistence.referenceDelegate.removeReference(O,z.targetId,J)))))}catch(O){if(!Il(O))throw O;Pe("LocalStore","Failed to update sequence numbers: "+O)}for(const O of A){const z=O.targetId;if(!O.fromCache){const J=R.qn.get(z),Be=J.withLastLimboFreeSnapshotVersion(J.snapshotVersion);R.qn=R.qn.insert(z,Be)}}}),function(I,A){return _.apply(this,arguments)})(r.localStore,c))}),UE.apply(this,arguments)}function CT(n,e){return bv.apply(this,arguments)}function bv(){return bv=(0,pe.Z)(function*(n,e){const t=He(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield X_(t.localStore,e);t.currentUser=e,(a=t).jo.forEach(f=>{f.forEach(_=>{_.reject(new xe(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.jo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ac(t,r.Gn)}var a}),bv.apply(this,arguments)}function Tv(n,e){const t=He(n),r=t.Uo.get(e);if(r&&r.$o)return sn().add(r.key);{let a=sn();const c=t.Mo.get(e);if(!c)return a;for(const f of c){const _=t.Oo.get(f);a=a.unionWith(_.view.Po)}return a}}function ob(n,e){return VE.apply(this,arguments)}function VE(){return VE=(0,pe.Z)(function*(n,e){const t=He(n),r=yield hm(t.localStore,e.query,!0),a=e.view.ko(r);return t.isPrimaryClient&&Pm(t,e.targetId,a.Co),a}),VE.apply(this,arguments)}function ab(n){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,pe.Z)(function*(n){const e=He(n);return lE(e.localStore).then(t=>ac(e,t))}),Sp.apply(this,arguments)}function ub(n,e,t,r){return Di.apply(this,arguments)}function Di(){return Di=(0,pe.Z)(function*(n,e,t,r){const a=He(n),c=yield function(f,_){const I=He(f),A=He(I.An);return I.persistence.runTransaction("Lookup mutation documents","readonly",R=>A.Zt(R,_).next(O=>O?I.Wn.vn(R,O):Ce.resolve(null)))}(a.localStore,e);var _;null!==c?("pending"===t?yield lr(a.remoteStore):"acknowledged"===t||"rejected"===t?(Om(a,e,r||null),Rm(a,e),_=e,He(He(a.localStore).An).ee(_)):it(),yield ac(a,c)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),Di.apply(this,arguments)}function xp(){return xp=(0,pe.Z)(function*(n,e){const t=He(n);if(Sv(t),xv(t),!0===e&&!0!==t.Wo){const r=t.sharedClientState.getAllActiveQueryTargets(),a=yield BE(t,r.toArray());t.Wo=!0,yield Cm(t.remoteStore,!0);for(const c of a)_h(t.remoteStore,c)}else if(!1===e&&!1!==t.Wo){const r=[];let a=Promise.resolve();t.Mo.forEach((c,f)=>{t.sharedClientState.isLocalQueryTarget(f)?r.push(f):a=a.then(()=>(kl(t,f),Sl(t.localStore,f,!0))),Dp(t.remoteStore,f)}),yield a,yield BE(t,r),function(c){const f=He(c);f.Uo.forEach((_,I)=>{Dp(f.remoteStore,I)}),f.qo.hs(),f.Uo=new Map,f.Bo=new vr(nt.comparator)}(t),t.Wo=!1,yield Cm(t.remoteStore,!1)}}),xp.apply(this,arguments)}function BE(n,e,t){return Cv.apply(this,arguments)}function Cv(){return Cv=(0,pe.Z)(function*(n,e,t){const r=He(n),a=[],c=[];for(const f of e){let _;const I=r.Mo.get(f);if(I&&0!==I.length){_=yield gp(r.localStore,Kn(I[0]));for(const A of I){const R=r.Oo.get(A),O=yield ob(r,R);O.snapshot&&c.push(O.snapshot)}}else{const A=yield cE(r.localStore,f);_=yield gp(r.localStore,A),yield xm(r,Lm(A),f,!1)}a.push(_)}return r.Fo.Pr(c),a}),Cv.apply(this,arguments)}function Lm(n){return _w(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function jE(n){const e=He(n);return He(He(e.localStore).persistence).Tn()}function $E(n,e,t,r){return Av.apply(this,arguments)}function Av(){return Av=(0,pe.Z)(function*(n,e,t,r){const a=He(n);if(a.Wo)Pe("SyncEngine","Ignoring unexpected query state notification.");else if(a.Mo.has(e))switch(t){case"current":case"not-current":{const c=yield lE(a.localStore),f=ap.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield ac(a,c,f);break}case"rejected":yield Sl(a.localStore,e,!0),kl(a,e,r);break;default:it()}}),Av.apply(this,arguments)}function HE(n,e,t){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,pe.Z)(function*(n,e,t){const r=Sv(n);if(r.Wo){for(const a of e){if(r.Mo.has(a)){Pe("SyncEngine","Adding an already active target "+a);continue}const c=yield cE(r.localStore,a),f=yield gp(r.localStore,c);yield xm(r,Lm(c),f.targetId,!1),_h(r.remoteStore,f)}for(const a of t)r.Mo.has(a)&&(yield Sl(r.localStore,a,!1).then(()=>{Dp(r.remoteStore,a),kl(r,a)}).catch(fo))}}),Fm.apply(this,arguments)}function Sv(n){const e=He(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mm.bind(null,e),e.Fo.Pr=bE.bind(null,e.eventManager),e.Fo.zo=TE.bind(null,e.eventManager),e}function xv(n){const e=He(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Iv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FE.bind(null,e),e}class Hs{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,pe.Z)(function*(){t.k=wp(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return Al(this.persistence,new aE,e.initialUser,this.k)}Yo(e){return new VD(iv.ks,this.k)}Jo(e){return new gm}terminate(){var e=this;return(0,pe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class qE extends Hs{constructor(e,t,r){super(),this.ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,pe.Z)(function*(){yield t().call(r,e),yield function(n){return tv.apply(this,arguments)}(r.localStore),yield r.ta.initialize(r,e),yield xv(r.ta.syncEngine),yield lr(r.ta.remoteStore),yield r.persistence.sn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Zo(e){return Al(this.persistence,new aE,e.initialUser,this.k)}Xo(e){return new MD(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=Q_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ii.withCacheSize(this.cacheSizeBytes):Ii.DEFAULT;return new lm(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,vp(),ym(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new gm}}class lb extends qE{constructor(e,t){super(e,t,!1),this.ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,pe.Z)(function*(){yield t().call(r,e);const a=r.ta.syncEngine;r.sharedClientState instanceof ov&&(r.sharedClientState.syncEngine={mi:ub.bind(null,a),gi:$E.bind(null,a),yi:HE.bind(null,a),Tn:jE.bind(null,a),_i:ab.bind(null,a)},yield r.sharedClientState.start()),yield r.persistence.sn(function(){var c=(0,pe.Z)(function*(f){yield function(n,e){return xp.apply(this,arguments)}(r.ta.syncEngine,f),r.gcScheduler&&(f&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):f||r.gcScheduler.stop())});return function(f){return c.apply(this,arguments)}}())})()}Jo(e){const t=vp();if(!ov.bt(t))throw new xe(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Q_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ov(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Rv{initialize(e,t){var r=this;return(0,pe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=a=>rb(r.syncEngine,a,1),r.remoteStore.remoteSyncer.handleCredentialChange=CT.bind(null,r.syncEngine),yield Cm(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new gv}createDatastore(e){const t=wp(e.databaseInfo.databaseId),r=new mm(e.databaseInfo);return new HD(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,a=e.asyncQueue,c=_=>rb(this.syncEngine,_,0),f=yE.bt()?new yE:new _p,new DT(t,r,a,c,f);var t,r,a,c,f}createSyncEngine(e,t){return function(r,a,c,f,_,I,A){const R=new eb(r,a,c,f,_,I);return A&&(R.Wo=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,pe.Z)(function*(t){const r=He(t);Pe("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield Rl(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Ov(n,e=10240){let t=0;return{read:()=>(0,pe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,pe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Um{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class db{constructor(e,t){this.sa=e,this.k=t,this.metadata=new yr,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then(r=>{r&&r._o()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.sa.cancel()}getMetadata(){var e=this;return(0,pe.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,pe.Z)(function*(){return yield e.getMetadata(),e.ra()})()}ra(){var e=this;return(0,pe.Z)(function*(){const t=yield e.oa();if(null===t)return null;const r=e.ia.decode(t),a=Number(r);isNaN(a)&&e.aa(`length string (${r}) is not valid number`);const c=yield e.ca(a);return new CE(JSON.parse(c),t.length+a)})()}ua(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oa(){var e=this;return(0,pe.Z)(function*(){for(;e.ua()<0&&!(yield e.ha()););if(0===e.buffer.length)return null;const t=e.ua();t<0&&e.aa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ca(e){var t=this;return(0,pe.Z)(function*(){for(;t.buffer.length<e;)(yield t.ha())&&t.aa("Reached the end of bundle when more is expected.");const r=t.ia.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}aa(e){throw this.sa.cancel(),new Error(`Invalid bundle format: ${e}`)}ha(){var e=this;return(0,pe.Z)(function*(){const t=yield e.sa.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class ZE{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,pe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xe(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(a=(0,pe.Z)(function*(c,f){const _=He(c),I=ah(_.k)+"/documents",A={documents:f.map(J=>oh(_.k,J))},R=yield _.ji("BatchGetDocuments",I,A),O=new Map;R.forEach(J=>{const ve=function(n,e){return"found"in e?function(t,r){ft(!!r.found);const a=Bo(t,r.found.name),c=Qn(r.found.updateTime),f=new Fr({mapValue:{fields:r.found.fields}});return Dn.newFoundDocument(a,c,f)}(n,e):"missing"in e?function(t,r){ft(!!r.missing),ft(!!r.readTime);const a=Bo(t,r.missing),c=Qn(r.readTime);return Dn.newNoDocument(a,c)}(n,e):it()}(_.k,J);O.set(ve.key.toString(),ve)});const z=[];return f.forEach(J=>{const ve=O.get(J.toString());ft(!!ve),z.push(ve)}),z}),function(c,f){return a.apply(this,arguments)})(t.datastore,e);var a;return r.forEach(a=>t.recordVersion(a)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new op(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,pe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,a)=>{const c=nt.fromPath(a);e.mutations.push(new S_(c,e.precondition(c)))}),yield(r=(0,pe.Z)(function*(a,c){const f=He(a),_=ah(f.k)+"/documents",I={writes:c.map(A=>Qu(f.k,A))};yield f.Bi("Commit",_,I)}),function(a,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw it();t=bt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new xe(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Yn.updateTime(t):Yn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(bt.min()))throw new xe(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yn.updateTime(t)}return Yn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class hb{constructor(e,t,r,a){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=a,this.la=5,this.ur=new _m(this.asyncQueue,"transaction_retry")}run(){this.la-=1,this.fa()}fa(){var e=this;this.ur.Zi((0,pe.Z)(function*(){const t=new ZE(e.datastore),r=e.da(t);r&&r.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.wa(c)}))}).catch(a=>{e.wa(a)})}))}da(e){try{const t=this.updateFunction(e);return!Gu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wa(e){this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget(()=>(this.fa(),Promise.resolve()))):this.deferred.reject(e)}_a(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Rw(t)}return!1}}class AT{constructor(e,t,r,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Gr.UNAUTHENTICATED,this.clientId=sw.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var f=(0,pe.Z)(function*(_){Pe("FirestoreClient","Received user=",_.uid),yield c.authCredentialListener(_),c.user=_});return function(_){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,pe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const a=Eh(r,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Pv(n,e){return Vm.apply(this,arguments)}function Vm(){return Vm=(0,pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,pe.Z)(function*(c){r.isEqual(c)||(yield X_(e.localStore,c),r=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Vm.apply(this,arguments)}function GE(n,e){return Nv.apply(this,arguments)}function Nv(){return Nv=(0,pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Bm(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(a=>{return(c=(0,pe.Z)(function*(f,_){const I=He(f);I.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const A=$o(I);I.Gr.add(3),yield Rl(I),A&&I.Jr.set("Unknown"),yield I.remoteSyncer.handleCredentialChange(_),I.Gr.delete(3),yield Ml(I)}),function(f,_){return c.apply(this,arguments)})(e.remoteStore,a);var c}),n.onlineComponents=e}),Nv.apply(this,arguments)}function Bm(n){return Ll.apply(this,arguments)}function Ll(){return Ll=(0,pe.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield Pv(n,new Hs)),n.offlineComponents}),Ll.apply(this,arguments)}function Ih(n){return jm.apply(this,arguments)}function jm(){return jm=(0,pe.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield GE(n,new Rv)),n.onlineComponents}),jm.apply(this,arguments)}function zE(n){return Bm(n).then(e=>e.persistence)}function $m(n){return Bm(n).then(e=>e.localStore)}function kv(n){return Ih(n).then(e=>e.remoteStore)}function Lv(n){return Ih(n).then(e=>e.syncEngine)}function Dh(n){return WE.apply(this,arguments)}function WE(){return WE=(0,pe.Z)(function*(n){const e=yield Ih(n),t=e.eventManager;return t.onListen=tb.bind(null,e.syncEngine),t.onUnlisten=bT.bind(null,e.syncEngine),t}),WE.apply(this,arguments)}function YE(n,e,t={}){const r=new yr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(a,c,f,_,I){const A=new Um({next:O=>{c.enqueueAndForget(()=>mv(a,R));const z=O.docs.has(f);!z&&O.fromCache?I.reject(new xe(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&O.fromCache&&_&&"server"===_.source?I.reject(new xe(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):I.resolve(O)},error:O=>I.reject(O)}),R=new Sm(pl(f.path),A,{includeMetadataChanges:!0,wo:!0});return Cp(a,R)}(yield Dh(n),n.asyncQueue,e,t,r)})),r.promise}function gb(n,e,t={}){const r=new yr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(a,c,f,_,I){const A=new Um({next:O=>{c.enqueueAndForget(()=>mv(a,R)),O.fromCache&&"server"===_.source?I.reject(new xe(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):I.resolve(O)},error:O=>I.reject(O)}),R=new Sm(f,A,{includeMetadataChanges:!0,wo:!0});return Cp(a,R)}(yield Dh(n),n.asyncQueue,e,t,r)})),r.promise}class mb{constructor(e,t,r,a,c,f,_,I){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=_,this.useFetchStreams=I}}class Wa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Wa&&e.projectId===this.projectId&&e.database===this.database}}const QE=new Map;function Fv(n,e,t){if(!t)throw new xe(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Uv(n,e,t,r){if(!0===e&&!0===r)throw new xe(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function uc(n){if(!nt.isDocumentKey(n))throw new xe(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Vv(n){if(nt.isDocumentKey(n))throw new xe(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bh(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":it()}function Ft(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bh(n);throw new xe(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function JE(n,e){if(e<=0)throw new xe(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Hm{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xe(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xe(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Uv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fl{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hm({}),this._settingsFrozen=!1,e instanceof Wa?this._databaseId=e:(this._app=e,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new xe(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wa(a.options.projectId)}(e))}get app(){if(!this._app)throw new xe(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xe(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new KI;switch(t.type){case"gapi":const r=t.client;return ft(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new QI(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new xe(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=QE.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),QE.delete(e),t.terminate())}(this),Promise.resolve()}}class vn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class bi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bi(this.firestore,e,this._query)}}class Ka extends bi{constructor(e,t,r){super(e,t,pl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new nt(e))}withConverter(e){return new Ka(this.firestore,e,this._path)}}function yb(n,e,...t){if(n=(0,Pt.m9)(n),Fv("collection","path",e),n instanceof Fl){const r=zt.fromString(e,...t);return Vv(r),new Ka(n,null,r)}{if(!(n instanceof vn||n instanceof Ka))throw new xe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(zt.fromString(e,...t));return Vv(r),new Ka(n.firestore,null,r)}}function Bv(n,e,...t){if(n=(0,Pt.m9)(n),1===arguments.length&&(e=sw.A()),Fv("doc","path",e),n instanceof Fl){const r=zt.fromString(e,...t);return uc(r),new vn(n,null,new nt(r))}{if(!(n instanceof vn||n instanceof Ka))throw new xe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(zt.fromString(e,...t));return uc(r),new vn(n.firestore,n instanceof Ka?n.converter:null,new nt(r))}}function _b(n,e){return n=(0,Pt.m9)(n),e=(0,Pt.m9)(e),(n instanceof vn||n instanceof Ka)&&(e instanceof vn||e instanceof Ka)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function vb(n,e){return n=(0,Pt.m9)(n),e=(0,Pt.m9)(e),n instanceof bi&&e instanceof bi&&n.firestore===e.firestore&&Ei(n._query,e._query)&&n.converter===e.converter}class eI{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new _m(this,"async_queue_retry"),this.Ra=()=>{const t=ym();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=ym();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const t=ym();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise(()=>{});const t=new yr;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ga.push(e),this.va()))}va(){var e=this;return(0,pe.Z)(function*(){if(0!==e.ga.length){try{yield e.ga[0](),e.ga.shift(),e.ur.reset()}catch(t){if(!Il(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.ga.length>0&&e.ur.Zi(()=>e.va())}})()}ba(e){const t=this.ma.then(()=>(this.Ea=!0,e().catch(r=>{throw this.Ta=r,this.Ea=!1,mr("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(r)),r}).then(r=>(this.Ea=!1,r))));return this.ma=t,t}enqueueAfterDelay(e,t,r){this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);const a=Am.createAndSchedule(this,e,t,r,c=>this.Va(c));return this.pa.push(a),a}Pa(){this.Ta&&it()}verifyOperationInProgress(){}Sa(){var e=this;return(0,pe.Z)(function*(){let t;do{t=e.ma,yield t}while(t!==e.ma)})()}Da(e){for(const t of this.pa)if(t.timerId===e)return!0;return!1}Ca(e){return this.Sa().then(()=>{this.pa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.pa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sa()})}Na(e){this.Aa.push(e)}Va(e){const t=this.pa.indexOf(e);this.pa.splice(t,1)}}function jv(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(n)}class wb{constructor(){this._progressObserver={},this._taskCompletionResolver=new yr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Fn extends Fl{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new eI,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||tI(this),this._firestoreClient.terminate()}}function dr(n){return n._firestoreClient||tI(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function tI(n){var e;const t=n._freezeSettings(),r=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new mb(n._databaseId,c,n._persistenceKey,(_=t).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_.useFetchStreams));var c,_;n._firestoreClient=new AT(n._authCredentials,n._appCheckCredentials,n._queue,r)}function Mp(n,e,t){const r=new yr;return n.asyncQueue.enqueue((0,pe.Z)(function*(){try{yield Pv(n,t),yield GE(n,e),r.resolve()}catch(a){if(!("FirebaseError"===(c=a).name?c.code===ce.FAILED_PRECONDITION||c.code===ce.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var c})).then(()=>r.promise)}function xb(n){if(n._initialized||n._terminated)throw new xe(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ya{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xe(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ho(ar.fromBase64String(e))}catch(t){throw new xe(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ho(ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ul{constructor(e){this._methodName=e}}class Zm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Lt(this._lat,e._lat)||Lt(this._long,e._long)}}const Mb=/^__.*__$/;class Rb{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ku(e,this.data,this.fieldMask,t,this.fieldTransforms):new sp(e,this.data,t,this.fieldTransforms)}}class iI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ku(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ob(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class $v{constructor(e,t,r,a,c,f){this.settings=e,this.databaseId=t,this.k=r,this.ignoreUndefinedProperties=a,void 0===c&&this.ka(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new $v(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.$a({path:r,Oa:!1});return a.Ma(e),a}La(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.$a({path:r,Oa:!1});return a.ka(),a}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return N(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(Ob(this.xa)&&Mb.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class LT{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=r||wp(e)}ja(e,t,r,a=!1){return new $v({xa:e,methodName:t,Ka:r,path:Xr.emptyPath(),Oa:!1,qa:a},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Th(n){const e=n._freezeSettings(),t=wp(n._databaseId);return new LT(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Hv(n,e,t,r,a,c={}){const f=n.ja(c.merge||c.mergeFields?2:0,e,t,a);w("Data must be an object, but it was:",f,r);const _=p(r,f);let I,A;if(c.merge)I=new Lo(f.fieldMask),A=f.fieldTransforms;else if(c.mergeFields){const R=[];for(const O of c.mergeFields){const z=E(e,O,t);if(!f.contains(z))throw new xe(ce.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);j(R,z)||R.push(z)}I=new Lo(R),A=f.fieldTransforms.filter(O=>I.covers(O.field))}else I=null,A=f.fieldTransforms;return new Rb(new Fr(_),I,A)}class Rp extends Ul{_toFieldTransform(e){if(2!==e.xa)throw e.Ua(1===e.xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rp}}function Pb(n,e,t){return new $v({xa:3,Ka:e.settings.Ka,methodName:n._methodName,Oa:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class sI extends Ul{_toFieldTransform(e){return new sh(e.path,new gl)}isEqual(e){return e instanceof sI}}class FT extends Ul{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=Pb(this,e,!0),r=this.Qa.map(c=>l(c,t)),a=new Uo(r);return new sh(e.path,a)}isEqual(e){return this===e}}class UT extends Ul{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=Pb(this,e,!0),r=this.Qa.map(c=>l(c,t)),a=new Wu(r);return new sh(e.path,a)}isEqual(e){return this===e}}class i extends Ul{constructor(e,t){super(e),this.Wa=t}_toFieldTransform(e){const t=new ml(e.k,ih(e.k,this.Wa));return new sh(e.path,t)}isEqual(e){return this===e}}function s(n,e,t,r){const a=n.ja(1,e,t);w("Data must be an object, but it was:",a,r);const c=[],f=Fr.empty();Hu(r,(I,A)=>{const R=x(e,I,t);A=(0,Pt.m9)(A);const O=a.La(R);if(A instanceof Rp)c.push(R);else{const z=l(A,O);null!=z&&(c.push(R),f.set(R,z))}});const _=new Lo(c);return new iI(f,_,a.fieldTransforms)}function o(n,e,t,r,a,c){const f=n.ja(1,e,t),_=[E(e,r,t)],I=[a];if(c.length%2!=0)throw new xe(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let z=0;z<c.length;z+=2)_.push(E(e,c[z])),I.push(c[z+1]);const A=[],R=Fr.empty();for(let z=_.length-1;z>=0;--z)if(!j(A,_[z])){const J=_[z];let ve=I[z];ve=(0,Pt.m9)(ve);const Be=f.La(J);if(ve instanceof Rp)A.push(J);else{const Xe=l(ve,Be);null!=Xe&&(A.push(J),R.set(J,Xe))}}const O=new Lo(A);return new iI(R,O,f.fieldTransforms)}function u(n,e,t,r=!1){return l(t,n.ja(r?4:3,e))}function l(n,e){if(y(n=(0,Pt.m9)(n)))return w("Unsupported field value:",e,n),p(n,e);if(n instanceof Ul)return function(t,r){if(!Ob(r.xa))throw r.Ua(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ua(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Oa&&4!==e.xa)throw e.Ua("Nested arrays are not supported");return function(t,r){const a=[];let c=0;for(const f of t){let _=l(f,r.Ba(c));null==_&&(_={nullValue:"NULL_VALUE"}),a.push(_),c++}return{arrayValue:{values:a}}}(n,e)}return function(t,r){if(null===(t=(0,Pt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ih(r.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=_r.fromDate(t);return{timestampValue:Yu(r.k,a)}}if(t instanceof _r){const a=new _r(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Yu(r.k,a)}}if(t instanceof Zm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ho)return{bytesValue:Uw(r.k,t._byteString)};if(t instanceof vn){const a=r.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw r.Ua(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:xn(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Ua(`Unsupported field value: ${bh(t)}`)}(n,e)}function p(n,e){const t={};return Bg(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hu(n,(r,a)=>{const c=l(a,e.Fa(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function y(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof _r||n instanceof Zm||n instanceof Ho||n instanceof vn||n instanceof Ul)}function w(n,e,t){if(!y(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=bh(t);throw e.Ua("an object"===r?n+" a custom object":n+" "+r)}var r}function E(n,e,t){if((e=(0,Pt.m9)(e))instanceof Ya)return e._internalPath;if("string"==typeof e)return x(n,e);throw N("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const C=new RegExp("[~\\*/\\[\\]]");function x(n,e,t){if(e.search(C)>=0)throw N(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ya(...e.split("."))._internalPath}catch(r){throw N(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function N(n,e,t,r,a){const c=r&&!r.isEmpty(),f=void 0!==a;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let I="";return(c||f)&&(I+=" (found",c&&(I+=` in field ${r}`),f&&(I+=` in document ${a}`),I+=")"),new xe(ce.INVALID_ARGUMENT,_+n+I)}function j(n,e){return n.some(t=>t.isEqual(e))}class W{constructor(e,t,r,a,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new he(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Re("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class he extends W{data(){return super.data()}}function Re(n,e){return"string"==typeof e?x(n,e):e instanceof Ya?e._internalPath:e._delegate._internalPath}class Ne{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qe extends W{constructor(e,t,r,a,c,f){super(e,t,r,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _e(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Re("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class _e extends qe{data(e={}){return super.data(e)}}class tt{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ne(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new _e(this._firestore,this._userDataWriter,r.key,r,new Ne(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(f=>({type:"added",doc:new _e(r._firestore,r._userDataWriter,f.doc.key,f.doc,new Ne(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const _=new _e(r._firestore,r._userDataWriter,f.doc.key,f.doc,new Ne(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);let I=-1,A=-1;return 0!==f.type&&(I=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),1!==f.type&&(c=c.add(f.doc),A=c.indexOf(f.doc.key)),{type:Nt(f.type),doc:_,oldIndex:I,newIndex:A}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Nt(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}function Jt(n,e){return n instanceof qe&&e instanceof qe?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof tt&&e instanceof tt&&n._firestore===e._firestore&&vb(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Zi(n){if(ep(n)&&0===n.explicitOrderBy.length)throw new xe(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class po{}function qo(n,...e){for(const t of e)n=t._apply(n);return n}class qv extends po{constructor(e,t,r){super(),this.Ga=e,this.za=t,this.Ha=r,this.type="where"}_apply(e){const t=Th(e.firestore),r=function(a,c,f,_,I,A,R){let O;if(I.isKeyField()){if("array-contains"===A||"array-contains-any"===A)throw new xe(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on FieldPath.documentId().`);if("in"===A||"not-in"===A){$T(R,A);const J=[];for(const ve of R)J.push(jT(_,a,ve));O={arrayValue:{values:J}}}else O=jT(_,a,R)}else"in"!==A&&"not-in"!==A&&"array-contains-any"!==A||$T(R,A),O=u(f,"where",R,"in"===A||"not-in"===A);const z=ji.create(I,A,O);return function(J,ve){if(ve.V()){const Xe=Fs(J);if(null!==Xe&&!Xe.isEqual(ve.field))throw new xe(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Xe.toString()}' and '${ve.field.toString()}'`);const Ut=Zg(J);null!==Ut&&HT(0,ve.field,Ut)}const Be=function(Xe,Ut){for(const on of Xe.filters)if(Ut.indexOf(on.op)>=0)return on.op;return null}(J,function(Xe){switch(Xe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ve.op));if(null!==Be)throw new xe(ce.INVALID_ARGUMENT,Be===ve.op?`Invalid query. You cannot use more than one '${ve.op.toString()}' filter.`:`Invalid query. You cannot use '${ve.op.toString()}' filters with '${Be.toString()}' filters.`)}(a,z),z}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new bi(e.firestore,e.converter,function(a,c){const f=a.filters.concat([c]);return new Fo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),f,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,r))}}class Gv extends po{constructor(e,t){super(),this.Ga=e,this.Ja=t,this.type="orderBy"}_apply(e){const t=function(r,a,c){if(null!==r.startAt)throw new xe(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new xe(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new fl(a,c);return function(_,I){if(null===Zg(_)){const A=Fs(_);null!==A&&HT(0,A,I.field)}}(r,f),f}(e._query,this.Ga,this.Ja);return new bi(e.firestore,e.converter,function(r,a){const c=r.explicitOrderBy.concat([a]);return new Fo(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Gm extends po{constructor(e,t,r){super(),this.type=e,this.Ya=t,this.Xa=r}_apply(e){return new bi(e.firestore,e.converter,Us(e._query,this.Ya,this.Xa))}}class zm extends po{constructor(e,t,r){super(),this.type=e,this.Za=t,this.tc=r}_apply(e){const t=BT(e,this.type,this.Za,this.tc);return new bi(e.firestore,e.converter,(a=t,new Fo((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,a,r.endAt)));var r,a}}class VT extends po{constructor(e,t,r){super(),this.type=e,this.Za=t,this.tc=r}_apply(e){const t=BT(e,this.type,this.Za,this.tc);return new bi(e.firestore,e.converter,(a=t,new Fo((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,a)));var r,a}}function BT(n,e,t,r){if(t[0]=(0,Pt.m9)(t[0]),t[0]instanceof W)return function(a,c,f,_,I){if(!_)throw new xe(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const A=[];for(const R of rh(a))if(R.field.isKeyField())A.push(Wf(c,_.key));else{const O=_.data.field(R.field);if($g(O))throw new xe(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+R.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const z=R.field.canonicalString();throw new xe(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${z}' (used as the orderBy) does not exist.`)}A.push(O)}return new Jf(A,I)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=Th(n.firestore);return function(c,f,_,I,A,R){const O=c.explicitOrderBy;if(A.length>O.length)throw new xe(ce.INVALID_ARGUMENT,`Too many arguments provided to ${I}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const z=[];for(let J=0;J<A.length;J++){const ve=A[J];if(O[J].field.isKeyField()){if("string"!=typeof ve)throw new xe(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${I}(), but got a ${typeof ve}`);if(!I_(c)&&-1!==ve.indexOf("/"))throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${I}() must be a plain document ID, but '${ve}' contains a slash.`);const Be=c.path.child(zt.fromString(ve));if(!nt.isDocumentKey(Be))throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${I}() must result in a valid document path, but '${Be}' is not because it contains an odd number of segments.`);const Xe=new nt(Be);z.push(Wf(f,Xe))}else{const Be=u(_,I,ve);z.push(Be)}}return new Jf(z,R)}(n._query,n.firestore._databaseId,a,e,t,r)}}function jT(n,e,t){if("string"==typeof(t=(0,Pt.m9)(t))){if(""===t)throw new xe(ce.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!I_(e)&&-1!==t.indexOf("/"))throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(zt.fromString(t));if(!nt.isDocumentKey(r))throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wf(n,new nt(r))}if(t instanceof vn)return Wf(n,t._key);throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${bh(t)}.`)}function $T(n,e){if(!Array.isArray(n)||0===n.length)throw new xe(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new xe(ce.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function HT(n,e,t){if(!t.isEqual(e))throw new xe(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Nb{convertValue(e,t="none"){switch(Za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw it()}}convertObject(e,t){const r={};return Hu(e.fields,(a,c)=>{r[a]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new Zm(jn(e.latitude),jn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=eD(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Gf(e));default:return null}}convertTimestamp(e){const t=qu(e);return new _r(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=zt.fromString(e);ft(zw(r));const a=new Wa(r.get(1),r.get(3)),c=new nt(r.popFirst(5));return a.isEqual(t)||mr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function oI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class WC extends Nb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ho(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,t)}}class qT{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Th(e)}set(e,t,r){this._verifyNotCommitted();const a=Ch(e,this._firestore),c=oI(a.converter,t,r),f=Hv(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,r);return this._mutations.push(f.toMutation(a._key,Yn.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const c=Ch(e,this._firestore);let f;return f="string"==typeof(t=(0,Pt.m9)(t))||t instanceof Ya?o(this._dataReader,"WriteBatch.update",c._key,t,r,a):s(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(f.toMutation(c._key,Yn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ch(e,this._firestore);return this._mutations=this._mutations.concat(new op(t._key,Yn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ch(n,e){if((n=(0,Pt.m9)(n)).firestore!==e)throw new xe(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Op extends Nb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ho(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,t)}}function ZT(n,e,t){n=Ft(n,vn);const r=Ft(n.firestore,Fn),a=oI(n.converter,e,t);return Wm(r,[Hv(Th(r),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,Yn.none())])}function GT(n,e,t,...r){n=Ft(n,vn);const a=Ft(n.firestore,Fn),c=Th(a);let f;return f="string"==typeof(e=(0,Pt.m9)(e))||e instanceof Ya?o(c,"updateDoc",n._key,e,t,r):s(c,"updateDoc",n._key,e),Wm(a,[f.toMutation(n._key,Yn.exists(!0))])}function zT(n,...e){var t,r,a;n=(0,Pt.m9)(n);let c={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||jv(e[f])||(c=e[f],f++);const _={includeMetadataChanges:c.includeMetadataChanges};if(jv(e[f])){const O=e[f];e[f]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[f+1]=null===(r=O.error)||void 0===r?void 0:r.bind(O),e[f+2]=null===(a=O.complete)||void 0===a?void 0:a.bind(O)}let I,A,R;if(n instanceof vn)A=Ft(n.firestore,Fn),R=pl(n._key.path),I={next:O=>{e[f]&&e[f](kb(A,n,O))},error:e[f+1],complete:e[f+2]};else{const O=Ft(n,bi);A=Ft(O.firestore,Fn),R=O._query;const z=new Op(A);I={next:J=>{e[f]&&e[f](new tt(A,z,O,J))},error:e[f+1],complete:e[f+2]},Zi(n._query)}return function(O,z,J,ve){const Be=new Um(ve),Xe=new Sm(z,Be,J);return O.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return Cp(yield Dh(O),Xe)})),()=>{Be.na(),O.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return mv(yield Dh(O),Xe)}))}}(dr(A),R,_,I)}function Wm(n,e){return function(t,r){const a=new yr;return t.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(n,e,t){return NE.apply(this,arguments)}(yield Lv(t),r,a)})),a.promise}(dr(n),e)}function kb(n,e,t){const r=t.docs.get(e._key),a=new Op(n);return new qe(n,a,e._key,r,new Ne(t.hasPendingWrites,t.fromCache),e.converter)}class iA extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Th(e)}get(e){const t=Ch(e,this._firestore),r=new WC(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return it();const c=a[0];if(c.isFoundDocument())return new W(this._firestore,r,c.key,c,t.converter);if(c.isNoDocument())return new W(this._firestore,r,t._key,null,t.converter);throw it()})}set(e,t,r){const a=Ch(e,this._firestore),c=oI(a.converter,t,r),f=Hv(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,r);return this._transaction.set(a._key,f),this}update(e,t,r,...a){const c=Ch(e,this._firestore);let f;return f="string"==typeof(t=(0,Pt.m9)(t))||t instanceof Ya?o(this._dataReader,"Transaction.update",c._key,t,r,a):s(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,f),this}delete(e){const t=Ch(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ch(e,this._firestore),r=new Op(this._firestore);return super.get(e).then(a=>new qe(this._firestore,r,t._key,a._document,new Ne(!1,!1),t.converter))}}function Lb(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function WT(){if("undefined"==typeof Uint8Array)throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function KT(){if("undefined"==typeof atob)throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){hl=Yc.SDK_VERSION,(0,Yc._registerComponent)(new wf.wA("firestore",(t,{options:r})=>{const a=t.getProvider("app").getImmediate(),c=new Fn(a,new YI(t.getProvider("auth-internal")),new Vg(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC")),(0,Yc.registerVersion)(rw,"3.4.1",n),(0,Yc.registerVersion)(rw,"3.4.1","esm2017")}();class Yv{constructor(e){this._delegate=e}static fromBase64String(e){return KT(),new Yv(Ho.fromBase64String(e))}static fromUint8Array(e){return WT(),new Yv(Ho.fromUint8Array(e))}toBase64(){return KT(),this._delegate.toBase64()}toUint8Array(){return WT(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Fb(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class pA{enableIndexedDbPersistence(e,t){return function(n,e){xb(n=Ft(n,Fn));const t=dr(n),r=n._freezeSettings(),a=new Rv;return Mp(t,a,new qE(a,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){xb(n=Ft(n,Fn));const e=dr(n),t=n._freezeSettings(),r=new Rv;return Mp(e,r,new lb(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new xe(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new yr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{yield(t=(0,pe.Z)(function*(r){if(!js.bt())return Promise.resolve();const a=r+"main";yield js.delete(a)}),function(r){return t.apply(this,arguments)})(Q_(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class YT{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Wa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&qf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var a;const c=(n=Ft(n,Fl))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&qf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let f,_;if("string"==typeof r.mockUserToken)f=r.mockUserToken,_=Gr.MOCK_USER;else{f=(0,Pt.Sg)(r.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new xe(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Gr(I)}n._authCredentials=new Qd(new WI(f,_))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield zE(n),t=yield kv(n);return e.setNetworkEnabled(!0),function(r){const a=He(r);return a.Gr.delete(0),Ml(a)}(t)}))}(dr(n=Ft(n,Fn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield zE(n),t=yield kv(n);return e.setNetworkEnabled(!1),(r=(0,pe.Z)(function*(a){const c=He(a);c.Gr.add(0),yield Rl(c),c.Jr.set("Offline")}),function(a){return r.apply(this,arguments)})(t);var r}))}(dr(n=Ft(n,Fn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Uv("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new yr;return e.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(n,e){return Ap.apply(this,arguments)}(yield Lv(e),t)})),t.promise}(dr(n=Ft(n,Fn)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new Um(e);return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return r=yield Dh(n),a=t,He(r).io.add(a),void a.next();var r,a})),()=>{t.na(),n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return r=yield Dh(n),a=t,void He(r).io.delete(a);var r,a}))}}(dr(n=Ft(n,Fn)),jv(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Km(this,yb(this._delegate,e))}catch(t){throw fs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Zo(this,Bv(this._delegate,e))}catch(t){throw fs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ps(this,function(n,e){if(n=Ft(n,Fl),Fv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new bi(n,null,(t=e,new Fo(zt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw fs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new yr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){const r=yield(a=n,Ih(a).then(c=>c.datastore));var a;new hb(n.asyncQueue,r,e,t).run()})),t.promise}(dr(n=Ft(n,Fn)),t=>e(new iA(n,t)))}(this._delegate,t=>e(new QT(this,t)))}batch(){return dr(this._delegate),new JT(new qT(this._delegate,e=>Wm(this._delegate,e)))}loadBundle(e){return function(n,e){const t=dr(n=Ft(n,Fn)),r=new wb;return function(n,e,t,r){const a=function(c,f){let _;return _="string"==typeof c?(new TextEncoder).encode(c):c,I=function(I,A){if(I instanceof Uint8Array)return Ov(I,A);if(I instanceof ArrayBuffer)return Ov(new Uint8Array(I),A);if(I instanceof ReadableStream)return I.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(_),new db(I,f);var I}(t,wp(e));n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){!function(n,e,t){const r=He(n);var a;(a=(0,pe.Z)(function*(c,f,_){try{const I=yield f.getMetadata();if(yield function(z,J){const ve=He(z),Be=Qn(J.createTime);return ve.persistence.runTransaction("hasNewerBundle","readonly",Xe=>ve.Ye.getBundleMetadata(Xe,J.id)).then(Xe=>!!Xe&&Xe.createTime.compareTo(Be)>=0)}(c.localStore,I))return yield f.close(),void _._completeWith((z=I,{taskState:"Success",documentsLoaded:z.totalDocuments,bytesLoaded:z.totalBytes,totalDocuments:z.totalDocuments,totalBytes:z.totalBytes}));_._updateProgress(vv(I));const A=new XD(I,c.localStore,f.k);let R=yield f.Ho();for(;R;){const z=yield A.yo(R);z&&_._updateProgress(z),R=yield f.Ho()}const O=yield A.complete();yield ac(c,O.In,void 0),yield function(z,J){const ve=He(z);return ve.persistence.runTransaction("Save bundle","readwrite",Be=>ve.Ye.saveBundleMetadata(Be,J))}(c.localStore,I),_._completeWith(O.progress)}catch(I){qf("SyncEngine",`Loading bundle failed with ${I}`),_._failWith(I)}var z}),function(c,f,_){return a.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield Lv(n),a,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,pe.Z)(function*(){return function(t,r){const a=He(t);return a.persistence.runTransaction("Get named query","readonly",c=>a.Ye.getNamedQuery(c,r))}(yield $m(n),e)}))}(dr(n=Ft(n,Fn)),e).then(t=>t?new bi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ps(this,t):null)}}class aI extends Nb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yv(new Ho(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Zo.forKey(t,this.firestore,null)}}class QT{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new aI(e)}get(e){const t=Np(e);return this._delegate.get(t).then(r=>new Qv(this._firestore,new qe(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const a=Np(e);return r?(Lb("Transaction.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const c=Np(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...a),this}delete(e){const t=Np(e);return this._delegate.delete(t),this}}class JT{constructor(e){this._delegate=e}set(e,t,r){const a=Np(e);return r?(Lb("WriteBatch.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const c=Np(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...a),this}delete(e){const t=Np(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Pp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new _e(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Jv(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Pp.INSTANCES;let a=r.get(e);a||(a=new WeakMap,r.set(e,a));let c=a.get(t);return c||(c=new Pp(e,new aI(e),t),a.set(t,c)),c}}Pp.INSTANCES=new WeakMap;class Zo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new aI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Zo(t,new vn(t._delegate,r,new nt(e)))}static forKey(e,t,r){return new Zo(t,new vn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Km(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Km(this.firestore,yb(this._delegate,e))}catch(t){throw fs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Pt.m9)(e))instanceof vn&&_b(this._delegate,e)}set(e,t){t=Lb("DocumentReference.set",t);try{return t?ZT(this._delegate,e,t):ZT(this._delegate,e)}catch(r){throw fs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?GT(this._delegate,e):GT(this._delegate,e,t,...r)}catch(a){throw fs(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return Wm(Ft(n.firestore,Fn),[new op(n._key,Yn.none())])}(this._delegate)}onSnapshot(...e){const t=XT(e),r=eC(e,a=>new Qv(this.firestore,new qe(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return zT(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Ft(n,vn);const e=Ft(n.firestore,Fn),t=dr(e),r=new Op(e);return function(n,e){const t=new yr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(r=(0,pe.Z)(function*(a,c,f){try{const _=yield function(I,A){const R=He(I);return R.persistence.runTransaction("read document","readonly",O=>R.Wn.Rn(O,A))}(a,c);_.isFoundDocument()?f.resolve(_):_.isNoDocument()?f.resolve(null):f.reject(new xe(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(_){const I=Eh(_,`Failed to get document '${c} from cache`);f.reject(I)}}),function(a,c,f){return r.apply(this,arguments)})(yield $m(n),e,t);var r})),t.promise}(t,n._key).then(a=>new qe(e,r,n._key,a,new Ne(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Ft(n,vn);const e=Ft(n.firestore,Fn);return YE(dr(e),n._key,{source:"server"}).then(t=>kb(e,n,t))}(this._delegate):function(n){n=Ft(n,vn);const e=Ft(n.firestore,Fn);return YE(dr(e),n._key).then(t=>kb(e,n,t))}(this._delegate),t.then(r=>new Qv(this.firestore,new qe(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Zo(this.firestore,this._delegate.withConverter(e?Pp.getInstance(this.firestore,e):null))}}function fs(n,e,t){return n.message=n.message.replace(e,t),n}function XT(n){for(const e of n)if("object"==typeof e&&!Fb(e))return e;return{}}function eC(n,e){var t,r;let a;return a=Fb(n[0])?n[0]:Fb(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{a.next&&a.next(e(c))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(r=a.complete)||void 0===r?void 0:r.bind(a)}}class Qv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Zo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Jt(this._delegate,e._delegate)}}class Jv extends Qv{data(e){const t=this._delegate.data(e);return function(n,e){n||it()}(void 0!==t),t}}class ps{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new aI(e)}where(e,t,r){try{return new ps(this.firestore,qo(this._delegate,function(n,e,t){const r=e,a=Re("where",n);return new qv(a,r,t)}(e,t,r)))}catch(a){throw fs(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ps(this.firestore,qo(this._delegate,function(n,e="asc"){const t=e,r=Re("orderBy",n);return new Gv(r,t)}(e,t)))}catch(r){throw fs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ps(this.firestore,qo(this._delegate,function(n){return JE("limit",n),new Gm("limit",n,"F")}(e)))}catch(t){throw fs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ps(this.firestore,qo(this._delegate,function(n){return JE("limitToLast",n),new Gm("limitToLast",n,"L")}(e)))}catch(t){throw fs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ps(this.firestore,qo(this._delegate,function(...n){return new zm("startAt",n,!0)}(...e)))}catch(t){throw fs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ps(this.firestore,qo(this._delegate,function(...n){return new zm("startAfter",n,!1)}(...e)))}catch(t){throw fs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ps(this.firestore,qo(this._delegate,function(...n){return new VT("endBefore",n,!0)}(...e)))}catch(t){throw fs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ps(this.firestore,qo(this._delegate,function(...n){return new VT("endAt",n,!1)}(...e)))}catch(t){throw fs(t,"endAt()","Query.endAt()")}}isEqual(e){return vb(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Ft(n,bi);const e=Ft(n.firestore,Fn),t=dr(e),r=new Op(e);return function(n,e){const t=new yr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(r=(0,pe.Z)(function*(a,c,f){try{const _=yield hm(a,c,!0),I=new Ev(c,_.zn),A=I.bo(_.documents),R=I.applyChanges(A,!1);f.resolve(R.snapshot)}catch(_){const I=Eh(_,`Failed to execute query '${c} against cache`);f.reject(I)}}),function(a,c,f){return r.apply(this,arguments)})(yield $m(n),e,t);var r})),t.promise}(t,n._query).then(a=>new tt(e,r,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Ft(n,bi);const e=Ft(n.firestore,Fn),t=dr(e),r=new Op(e);return gb(t,n._query,{source:"server"}).then(a=>new tt(e,r,n,a))}(this._delegate):function(n){n=Ft(n,bi);const e=Ft(n.firestore,Fn),t=dr(e),r=new Op(e);return Zi(n._query),gb(t,n._query).then(a=>new tt(e,r,n,a))}(this._delegate),t.then(r=>new Ub(this.firestore,new tt(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=XT(e),r=eC(e,a=>new Ub(this.firestore,new tt(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return zT(this._delegate,t,r)}withConverter(e){return new ps(this.firestore,this._delegate.withConverter(e?Pp.getInstance(this.firestore,e):null))}}class mA{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Jv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ub{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ps(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Jv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new mA(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Jv(this._firestore,r))})}isEqual(e){return Jt(this._delegate,e._delegate)}}class Km extends ps{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Zo(this.firestore,e):null}doc(e){try{return new Zo(this.firestore,void 0===e?Bv(this._delegate):Bv(this._delegate,e))}catch(t){throw fs(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=Ft(n.firestore,Fn),r=Bv(n),a=oI(n.converter,e);return Wm(t,[Hv(Th(n.firestore),"addDoc",r._key,a,null!==n.converter,{}).toMutation(r._key,Yn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Zo(this.firestore,t))}isEqual(e){return _b(this._delegate,e._delegate)}withConverter(e){return new Km(this.firestore,this._delegate.withConverter(e?Pp.getInstance(this.firestore,e):null))}}function Np(n){return Ft(n,vn)}class Vb{constructor(...e){this._delegate=new Ya(...e)}static documentId(){return new Vb(Xr.keyField().canonicalString())}isEqual(e){return(e=(0,Pt.m9)(e))instanceof Ya&&this._delegate._internalPath.isEqual(e._internalPath)}}class kp{constructor(e){this._delegate=e}static serverTimestamp(){const e=new sI("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new kp(e)}static delete(){const e=new Rp("deleteField");return e._methodName="FieldValue.delete",new kp(e)}static arrayUnion(...e){const t=function(...n){return new FT("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new kp(t)}static arrayRemove(...e){const t=function(...n){return new UT("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new kp(t)}static increment(e){const t=function(n){return new i("increment",n)}(e);return t._methodName="FieldValue.increment",new kp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const yA={Firestore:YT,GeoPoint:Zm,Timestamp:_r,Blob:Yv,Transaction:QT,WriteBatch:JT,DocumentReference:Zo,DocumentSnapshot:Qv,Query:ps,QueryDocumentSnapshot:Jv,QuerySnapshot:Ub,CollectionReference:Km,FieldPath:Vb,FieldValue:kp,setLogLevel:function(n){!function(n){$u.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new wf.wA("firestore-compat",t=>((e,t)=>new YT(e,t,new pA))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},yA)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.10")}(aT.Z);var wA=k(6451),uI=k(5363),EA=k(6063);class IA extends Si.x{constructor(e=1/0,t=1/0,r=EA.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:a,_timestampProvider:c,_windowTime:f}=this;t||(r.push(e),!a&&r.push(c.now()+f)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:a}=this,c=a.slice();for(let f=0;f<c.length&&!e.closed;f+=r?1:2)e.next(c[f]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:a}=this,c=(a?1:2)*e;if(e<1/0&&c<r.length&&r.splice(0,r.length-c),!a){const f=t.now();let _=0;for(let I=1;I<r.length&&r[I]<=f;I+=2)_=I;_&&r.splice(0,_+1)}}}var DA=k(3099);function tC(n,e,t){var r,a;let c,f=!1;return n&&"object"==typeof n?(c=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(a=n.windowTime)&&void 0!==a?a:1/0,f=!!n.refCount,t=n.scheduler):c=null!=n?n:1/0,(0,DA.B)({connector:()=>new IA(c,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:f})}function nC(n,e){return(0,Fh.m)(e)?Nn(()=>n,e):Nn(()=>n)}var Bb=k(9468);k(5867);const iC=new Map,SA={activated:!1,tokenObservers:[]},xA={initialized:!1,enabled:!1};function ei(n){return iC.get(n)||SA}function Qa(n,e){iC.set(n,e)}function lI(){return xA}class NA{constructor(e,t,r,a,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,pe.Z)(function*(){t.stop();try{t.pending=new Pt.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Pt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const gs=new Pt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function oC(n){if(!ei(n).activated)throw gs.create("use-before-activation",{appName:n.name})}function qb(n,e){return Zb.apply(this,arguments)}function Zb(){return Zb=(0,pe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});a&&(r["X-Firebase-Client"]=a.getPlatformInfoString());const c={method:"POST",body:JSON.stringify(e),headers:r};let f,_;try{f=yield fetch(n,c)}catch(O){throw gs.create("fetch-network-error",{originalErrorMessage:O.message})}if(200!==f.status)throw gs.create("fetch-status-error",{httpStatus:f.status});try{_=yield f.json()}catch(O){throw gs.create("fetch-parse-error",{originalErrorMessage:O.message})}const I=_.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw gs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const A=1e3*Number(I[1]),R=Date.now();return{token:_.attestationToken,expireTimeMillis:R+A,issuedAtTimeMillis:R}}),Zb.apply(this,arguments)}function BA(n,e){const{projectId:t,appId:r,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const Xv="firebase-app-check-store";let fI=null;function uC(){return fI||(fI=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var a;e(gs.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Xv,{keyPath:"compositeKey"})}}catch(t){e(gs.create("storage-open",{originalErrorMessage:t.message}))}}),fI)}function Gb(){return Gb=(0,pe.Z)(function*(n,e){const r=(yield uC()).transaction(Xv,"readwrite"),c=r.objectStore(Xv).put({compositeKey:n,value:e});return new Promise((f,_)=>{c.onsuccess=I=>{f()},r.onerror=I=>{var A;_(gs.create("storage-set",{originalErrorMessage:null===(A=I.target.error)||void 0===A?void 0:A.message}))}})}),Gb.apply(this,arguments)}const e0=new Pu.Yd("@firebase/app-check");function hC(n,e){return(0,Pt.hl)()?function(n,e){return function(n,e){return Gb.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{e0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function fC(){return lI().enabled}function pC(){return Yb.apply(this,arguments)}function Yb(){return Yb=(0,pe.Z)(function*(){const n=lI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Yb.apply(this,arguments)}const YA={error:"UNKNOWN_ERROR"};function QA(n){return Pt.US.encodeString(JSON.stringify(n),!1)}function pI(n){return Qb.apply(this,arguments)}function Qb(){return Qb=(0,pe.Z)(function*(n,e=!1){const t=n.app;oC(t);const r=ei(t);let c,a=r.token;if(!a){const I=yield r.cachedTokenPromise;I&&gI(I)&&(a=I)}if(!e&&a&&gI(a))return{token:a.token};let _,f=!1;if(fC()){r.exchangeTokenPromise||(r.exchangeTokenPromise=qb(BA(t,yield pC()),n.platformLoggerProvider).then(A=>(r.exchangeTokenPromise=void 0,A)),f=!0);const I=yield r.exchangeTokenPromise;return yield hC(t,I),Qa(t,Object.assign(Object.assign({},r),{token:I})),{token:I.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(I=>(r.exchangeTokenPromise=void 0,I)),f=!0),a=yield r.exchangeTokenPromise}catch(I){"appCheck/throttled"===I.code?e0.warn(I.message):e0.error(I),c=I}return a?(_={token:a.token},Qa(t,Object.assign(Object.assign({},r),{token:a})),yield hC(t,a)):_=XA(c),f&&mC(t,_),_}),Qb.apply(this,arguments)}function Xb(n,e){const t=ei(n),r=t.tokenObservers.filter(a=>a.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Qa(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function gC(n){const{app:e}=n,t=ei(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new NA((0,pe.Z)(function*(){let r;if(r=ei(e).token?yield pI(n,!0):yield pI(n),r.error)throw r.error}),()=>!0,()=>{const t=ei(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Qa(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function mC(n,e){const t=ei(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(a){}}function gI(n){return n.expireTimeMillis-Date.now()>0}function XA(n){return{token:QA(YA),error:n}}class eS{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=ei(this.app);for(const t of e)Xb(this.app,t.next);return Promise.resolve()}}const bC="app-check-internal";(0,Yc._registerComponent)(new wf.wA("app-check",n=>function(n,e){return new eS(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(bC).initialize()})),(0,Yc._registerComponent)(new wf.wA(bC,n=>function(n){return{getToken:e=>pI(n,e),addTokenListener:e=>function(n,e,t,r){const{app:a}=n,c=ei(a),f={next:t,error:r,type:e};if(Qa(a,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,f]})),c.token&&gI(c.token)){const _=c.token;Promise.resolve().then(()=>{t({token:_.token}),gC(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>gC(n))}(n,"INTERNAL",e),removeTokenListener:e=>Xb(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Yc.registerVersion)("@firebase/app-check","0.5.2");class rT{constructor(){return(0,Rr.vb)("app-check")}}"undefined"!=typeof window&&window;var vS=k(127);const CC=new g.OlP("angularfire2.auth.use-emulator"),AC=new g.OlP("angularfire2.auth.settings"),SC=new g.OlP("angularfire2.auth.tenant-id"),xC=new g.OlP("angularfire2.auth.langugage-code"),MC=new g.OlP("angularfire2.auth.use-device-language"),RC=new g.OlP("angularfire.auth.persistence"),OC=(n,e,t,r,a,c,f,_)=>(0,us.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const I=e.runOutsideAngular(()=>n.auth());if(t&&I.useEmulator(...t),r&&(I.tenantId=r),I.languageCode=a,c&&I.useDeviceLanguage(),f)for(const[A,R]of Object.entries(f))I.settings[A]=R;return _&&I.setPersistence(_),I},[t,r,a,c,f,_]);let PC=(()=>{class n{constructor(t,r,a,c,f,_,I,A,R,O,z,J){const ve=new Si.x,Be=et(void 0).pipe((0,uI.Q)(f.outsideAngular),Nn(()=>c.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,9259)))),(0,Et.U)(()=>(0,us.on)(t,c,r)),(0,Et.U)(Xe=>OC(Xe,c,_,A,R,O,I,z)),tC({bufferSize:1,refCount:!1}));if(fr(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=et(null);else{Be.pipe(Da()).subscribe();const Ut=Be.pipe(Nn(Mt=>Mt.getRedirectResult().then(Un=>Un,()=>null)),Rr.iC,tC({bufferSize:1,refCount:!1})),on=Be.pipe(Nn(Mt=>new hi.y(Un=>({unsubscribe:c.runOutsideAngular(()=>Mt.onAuthStateChanged(Ja=>Un.next(Ja),Ja=>Un.error(Ja),()=>Un.complete()))})))),Mn=Be.pipe(Nn(Mt=>new hi.y(Un=>({unsubscribe:c.runOutsideAngular(()=>Mt.onIdTokenChanged(Ja=>Un.next(Ja),Ja=>Un.error(Ja),()=>Un.complete()))}))));this.authState=Ut.pipe(nC(on),(0,Bb.R)(f.outsideAngular),(0,uI.Q)(f.insideAngular)),this.user=Ut.pipe(nC(Mn),(0,Bb.R)(f.outsideAngular),(0,uI.Q)(f.insideAngular)),this.idToken=this.user.pipe(Nn(Mt=>Mt?(0,hn.D)(Mt.getIdToken()):et(null))),this.idTokenResult=this.user.pipe(Nn(Mt=>Mt?(0,hn.D)(Mt.getIdTokenResult()):et(null))),this.credential=(0,wA.T)(Ut,ve,this.authState.pipe(Hr(Mt=>!Mt))).pipe((0,Et.U)(Mt=>(null==Mt?void 0:Mt.user)?Mt:null),(0,Bb.R)(f.outsideAngular),(0,uI.Q)(f.insideAngular))}return(0,us.pX)(this,Be,c,{spy:{apply:(Xe,Ut,on)=>{(Xe.startsWith("signIn")||Xe.startsWith("createUser"))&&on.then(Mn=>ve.next(Mn))}}})}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(us.Dh),g.LFG(us.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Rr.HU),g.LFG(CC,8),g.LFG(AC,8),g.LFG(SC,8),g.LFG(xC,8),g.LFG(MC,8),g.LFG(RC,8),g.LFG(rT,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function NC(n,e){return function(n,e=wI.z){return new hi.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function sT(n,e){return NC(n,e).pipe((0,Et.U)(t=>({payload:t,type:"query"})))}function yI(n,e){return sT(n,e).pipe(pi(void 0),Ty(),(0,Et.U)(([t,r])=>{const a=r.payload.docChanges(),c=a.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((f,_)=>{const I=a.find(R=>R.doc.ref.isEqual(f.ref)),A=null==t?void 0:t.payload.docs.find(R=>R.ref.isEqual(f.ref));I&&JSON.stringify(I.doc.metadata)===JSON.stringify(f.metadata)||!I&&A&&JSON.stringify(A.metadata)===JSON.stringify(f.metadata)||c.push({type:"modified",payload:{oldIndex:_,newIndex:_,type:"modified",doc:f}})}),c}))}function kC(n,e,t){return yI(n,t).pipe(xi((r,a)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return oT(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return oT(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return oT(n,e.oldIndex,1)}return n}(n,r))}),n}(r,a.map(c=>c.payload),e),[]),function(n,e=es.y){return n=null!=n?n:u0,(0,Cr.e)((t,r)=>{let a,c=!0;t.subscribe(new Pn.Q(r,f=>{const _=e(f);(c||!n(a,_))&&(c=!1,a=_,r.next(f))}))})}(),(0,Et.U)(r=>r.map(a=>({type:a.type,payload:a}))))}function oT(n,e,t,...r){const a=n.slice();return a.splice(e,t,...r),a}function LC(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class FC{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=yI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Et.U)(r=>r.filter(a=>e.indexOf(a.type)>-1)))),t.pipe(pi(void 0),Ty(),Hr(([r,a])=>a.length>0||!r),(0,Et.U)(([r,a])=>a),Rr.iC)}auditTrail(e){return this.stateChanges(e).pipe(xi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=LC(e);return kC(this.query,t,this.afs.schedulers.outsideAngular).pipe(Rr.iC)}valueChanges(e={}){return sT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Rr.iC)}get(e){return(0,hn.D)(this.query.get(e)).pipe(Rr.iC)}add(e){return this.ref.add(e)}doc(e){return new UC(this.ref.doc(e),this.afs)}}class UC{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:a,query:c}=jC(r,t);return new FC(a,c,this.afs)}snapshotChanges(){return function(n,e){return NC(n,e).pipe(pi(void 0),Ty(),(0,Et.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Rr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Et.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,hn.D)(this.ref.get(e)).pipe(Rr.iC)}}class TS{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?yI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Hr(t=>t.length>0),Rr.iC):yI(this.query,this.afs.schedulers.outsideAngular).pipe(Rr.iC)}auditTrail(e){return this.stateChanges(e).pipe(xi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=LC(e);return kC(this.query,t,this.afs.schedulers.outsideAngular).pipe(Rr.iC)}valueChanges(e={}){return sT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(r=>r.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),Rr.iC)}get(e){return(0,hn.D)(this.query.get(e)).pipe(Rr.iC)}}const VC=new g.OlP("angularfire2.enableFirestorePersistence"),BC=new g.OlP("angularfire2.firestore.persistenceSettings"),CS=new g.OlP("angularfire2.firestore.settings"),AS=new g.OlP("angularfire2.firestore.use-emulator");function jC(n,e=(t=>t)){return{query:e(n),ref:n}}let $C=(()=>{class n{constructor(t,r,a,c,f,_,I,A,R,O,z,J,ve,Be,Xe,Ut,on){this.schedulers=I;const Mn=(0,us.on)(t,_,r),Mt=R;O&&OC(Mn,_,z,ve,Be,Xe,J,Ut),[this.firestore,this.persistenceEnabled$]=(0,us.cc)(`${Mn.name}.firestore`,"AngularFirestore",Mn.name,()=>{const Un=_.runOutsideAngular(()=>Mn.firestore());if(c&&Un.settings(c),Mt&&Un.useEmulator(...Mt),a&&!fr(f)){const Ja=()=>{try{return(0,hn.D)(Un.enablePersistence(A||void 0).then(()=>!0,()=>!1))}catch(_I){return"undefined"!=typeof console&&console.warn(_I),et(!1)}};return[Un,_.runOutsideAngular(Ja)]}return[Un,et(!1)]},[c,Mt,a])}collection(t,r){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:f}=jC(a,r),_=this.schedulers.ngZone.run(()=>c);return new FC(_,f,this)}collectionGroup(t,r){const a=r||(f=>f),c=this.firestore.collectionGroup(t);return new TS(a(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>r);return new UC(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(us.Dh),g.LFG(us.xv,8),g.LFG(VC,8),g.LFG(CS,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Rr.HU),g.LFG(BC,8),g.LFG(AS,8),g.LFG(PC,8),g.LFG(CC,8),g.LFG(AC,8),g.LFG(SC,8),g.LFG(xC,8),g.LFG(MC,8),g.LFG(RC,8),g.LFG(rT,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),SS=(()=>{class n{constructor(){vS.Z.registerVersion("angularfire",Rr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:VC,useValue:!0},{provide:BC,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[$C]}),n})();function xS(n,e){1&n&&(g.TgZ(0,"pre"),g._uU(1,"ng generate component xyz"),g.qZA())}function MS(n,e){1&n&&(g.TgZ(0,"pre"),g._uU(1,"ng add @angular/material"),g.qZA())}function RS(n,e){1&n&&(g.TgZ(0,"pre"),g._uU(1,"ng add @angular/pwa"),g.qZA())}function OS(n,e){1&n&&(g.TgZ(0,"pre"),g._uU(1,"ng add _____"),g.qZA())}function PS(n,e){1&n&&(g.TgZ(0,"pre"),g._uU(1,"ng test"),g.qZA())}function NS(n,e){1&n&&(g.TgZ(0,"pre"),g._uU(1,"ng build"),g.qZA())}let kS=(()=>{class n{constructor(t){this.firestore=t,this.title="beturin-reservation",this.rooms=[]}ngOnInit(){this.firestore.collection("reservations").snapshotChanges().subscribe(t=>{this.rooms=t.map(r=>Object.assign({id:r.payload.doc.id},r.payload.doc.data())),console.log(JSON.stringify(this.rooms))})}}return n.\u0275fac=function(t){return new(t||n)(g.Y36($C))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-root"]],decls:152,vars:7,consts:[["role","banner",1,"toolbar"],["width","40","alt","Angular Logo","src","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg=="],[1,"spacer"],["aria-label","Angular on twitter","target","_blank","rel","noopener","href","https://twitter.com/angular","title","Twitter"],["id","twitter-logo","height","24","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 400 400"],["width","400","height","400","fill","none"],["d","M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23","fill","#fff"],["aria-label","Angular on YouTube","target","_blank","rel","noopener","href","https://youtube.com/angular","title","YouTube"],["id","youtube-logo","height","24","width","24","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","#fff"],["d","M0 0h24v24H0V0z","fill","none"],["d","M21.58 7.19c-.23-.86-.91-1.54-1.77-1.77C18.25 5 12 5 12 5s-6.25 0-7.81.42c-.86.23-1.54.91-1.77 1.77C2 8.75 2 12 2 12s0 3.25.42 4.81c.23.86.91 1.54 1.77 1.77C5.75 19 12 19 12 19s6.25 0 7.81-.42c.86-.23 1.54-.91 1.77-1.77C22 15.25 22 12 22 12s0-3.25-.42-4.81zM10 15V9l5.2 3-5.2 3z"],["role","main",1,"content"],[1,"card","highlight-card","card-small"],["id","rocket","xmlns","http://www.w3.org/2000/svg","width","101.678","height","101.678","viewBox","0 0 101.678 101.678"],["id","Group_83","data-name","Group 83","transform","translate(-141 -696)"],["id","Ellipse_8","data-name","Ellipse 8","cx","50.839","cy","50.839","r","50.839","transform","translate(141 696)","fill","#dd0031"],["id","Group_47","data-name","Group 47","transform","translate(165.185 720.185)"],["id","Path_33","data-name","Path 33","d","M3.4,42.615a3.084,3.084,0,0,0,3.553,3.553,21.419,21.419,0,0,0,12.215-6.107L9.511,30.4A21.419,21.419,0,0,0,3.4,42.615Z","transform","translate(0.371 3.363)","fill","#fff"],["id","Path_34","data-name","Path 34","d","M53.3,3.221A3.09,3.09,0,0,0,50.081,0,48.227,48.227,0,0,0,18.322,13.437c-6-1.666-14.991-1.221-18.322,7.218A33.892,33.892,0,0,1,9.439,25.1l-.333.666a3.013,3.013,0,0,0,.555,3.553L23.985,43.641a2.9,2.9,0,0,0,3.553.555l.666-.333A33.892,33.892,0,0,1,32.647,53.3c8.55-3.664,8.884-12.326,7.218-18.322A48.227,48.227,0,0,0,53.3,3.221ZM34.424,9.772a6.439,6.439,0,1,1,9.106,9.106,6.368,6.368,0,0,1-9.106,0A6.467,6.467,0,0,1,34.424,9.772Z","transform","translate(0 0.005)","fill","#fff"],["id","rocket-smoke","xmlns","http://www.w3.org/2000/svg","width","516.119","height","1083.632","viewBox","0 0 516.119 1083.632"],["id","Path_40","data-name","Path 40","d","M644.6,141S143.02,215.537,147.049,870.207s342.774,201.755,342.774,201.755S404.659,847.213,388.815,762.2c-27.116-145.51-11.551-384.124,271.9-609.1C671.15,139.365,644.6,141,644.6,141Z","transform","translate(-147.025 -140.939)","fill","#f5f5f5"],[1,"card-container"],["target","_blank","rel","noopener","href","https://angular.io/tutorial",1,"card"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"material-icons"],["d","M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["target","_blank","rel","noopener","href","https://angular.io/cli",1,"card"],["d","M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"],["target","_blank","rel","noopener","href","https://material.angular.io",1,"card"],["xmlns","http://www.w3.org/2000/svg","width","21.813","height","23.453","viewBox","0 0 21.813 23.453",2,"margin-right","8px"],["d","M4099.584,972.736h0l-10.882,3.9,1.637,14.4,9.245,5.153,9.245-5.153,1.686-14.4Z","transform","translate(-4088.702 -972.736)","fill","#808080"],["d","M4181.516,972.736v23.453l9.245-5.153,1.686-14.4Z","transform","translate(-4170.633 -972.736)","fill","#808080"],["d","M4137.529,1076.127l-7.7-3.723,4.417-2.721,7.753,3.723Z","transform","translate(-4125.003 -1058.315)","fill","#ffe0b2"],["d","M4137.529,1051.705l-7.7-3.723,4.417-2.721,7.753,3.723Z","transform","translate(-4125.003 -1036.757)","fill","#fff3e0"],["d","M4137.529,1027.283l-7.7-3.723,4.417-2.721,7.753,3.723Z","transform","translate(-4125.003 -1015.199)","fill","#fff"],["target","_blank","rel","noopener","href","https://blog.angular.io/",1,"card"],["d","M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67zM11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8z"],["target","_blank","rel","noopener","href","https://angular.io/devtools/",1,"card"],["xmlns","http://www.w3.org/2000/svg","enable-background","new 0 0 24 24","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",1,"material-icons"],["fill","none","height","24","width","24"],["d","M14.73,13.31C15.52,12.24,16,10.93,16,9.5C16,5.91,13.09,3,9.5,3S3,5.91,3,9.5C3,13.09,5.91,16,9.5,16 c1.43,0,2.74-0.48,3.81-1.27L19.59,21L21,19.59L14.73,13.31z M9.5,14C7.01,14,5,11.99,5,9.5S7.01,5,9.5,5S14,7.01,14,9.5 S11.99,14,9.5,14z"],["points","10.29,8.44 9.5,6 8.71,8.44 6.25,8.44 8.26,10.03 7.49,12.5 9.5,10.97 11.51,12.5 10.74,10.03 12.75,8.44"],["type","hidden"],["selection",""],["tabindex","0",1,"card","card-small",3,"click"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[1,"terminal",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],["title","Find a Local Meetup","href","https://www.meetup.com/find/?keywords=angular","target","_blank","rel","noopener",1,"circle-link"],["xmlns","http://www.w3.org/2000/svg","width","24.607","height","23.447","viewBox","0 0 24.607 23.447"],["id","logo--mSwarm","d","M21.221,14.95A4.393,4.393,0,0,1,17.6,19.281a4.452,4.452,0,0,1-.8.069c-.09,0-.125.035-.154.117a2.939,2.939,0,0,1-2.506,2.091,2.868,2.868,0,0,1-2.248-.624.168.168,0,0,0-.245-.005,3.926,3.926,0,0,1-2.589.741,4.015,4.015,0,0,1-3.7-3.347,2.7,2.7,0,0,1-.043-.38c0-.106-.042-.146-.143-.166a3.524,3.524,0,0,1-1.516-.69A3.623,3.623,0,0,1,2.23,14.557a3.66,3.66,0,0,1,1.077-3.085.138.138,0,0,0,.026-.2,3.348,3.348,0,0,1-.451-1.821,3.46,3.46,0,0,1,2.749-3.28.44.44,0,0,0,.355-.281,5.072,5.072,0,0,1,3.863-3,5.028,5.028,0,0,1,3.555.666.31.31,0,0,0,.271.03A4.5,4.5,0,0,1,18.3,4.7a4.4,4.4,0,0,1,1.334,2.751,3.658,3.658,0,0,1,.022.706.131.131,0,0,0,.1.157,2.432,2.432,0,0,1,1.574,1.645,2.464,2.464,0,0,1-.7,2.616c-.065.064-.051.1-.014.166A4.321,4.321,0,0,1,21.221,14.95ZM13.4,14.607a2.09,2.09,0,0,0,1.409,1.982,4.7,4.7,0,0,0,1.275.221,1.807,1.807,0,0,0,.9-.151.542.542,0,0,0,.321-.545.558.558,0,0,0-.359-.534,1.2,1.2,0,0,0-.254-.078c-.262-.047-.526-.086-.787-.138a.674.674,0,0,1-.617-.75,3.394,3.394,0,0,1,.218-1.109c.217-.658.509-1.286.79-1.918a15.609,15.609,0,0,0,.745-1.86,1.95,1.95,0,0,0,.06-1.073,1.286,1.286,0,0,0-1.051-1.033,1.977,1.977,0,0,0-1.521.2.339.339,0,0,1-.446-.042c-.1-.092-.2-.189-.307-.284a1.214,1.214,0,0,0-1.643-.061,7.563,7.563,0,0,1-.614.512A.588.588,0,0,1,10.883,8c-.215-.115-.437-.215-.659-.316a2.153,2.153,0,0,0-.695-.248A2.091,2.091,0,0,0,7.541,8.562a9.915,9.915,0,0,0-.405.986c-.559,1.545-1.015,3.123-1.487,4.7a1.528,1.528,0,0,0,.634,1.777,1.755,1.755,0,0,0,1.5.211,1.35,1.35,0,0,0,.824-.858c.543-1.281,1.032-2.584,1.55-3.875.142-.355.28-.712.432-1.064a.548.548,0,0,1,.851-.24.622.622,0,0,1,.185.539,2.161,2.161,0,0,1-.181.621c-.337.852-.68,1.7-1.018,2.552a2.564,2.564,0,0,0-.173.528.624.624,0,0,0,.333.71,1.073,1.073,0,0,0,.814.034,1.22,1.22,0,0,0,.657-.655q.758-1.488,1.511-2.978.35-.687.709-1.37a1.073,1.073,0,0,1,.357-.434.43.43,0,0,1,.463-.016.373.373,0,0,1,.153.387.7.7,0,0,1-.057.236c-.065.157-.127.316-.2.469-.42.883-.846,1.763-1.262,2.648A2.463,2.463,0,0,0,13.4,14.607Zm5.888,6.508a1.09,1.09,0,0,0-2.179.006,1.09,1.09,0,0,0,2.179-.006ZM1.028,12.139a1.038,1.038,0,1,0,.01-2.075,1.038,1.038,0,0,0-.01,2.075ZM13.782.528a1.027,1.027,0,1,0-.011,2.055A1.027,1.027,0,0,0,13.782.528ZM22.21,6.95a.882.882,0,0,0-1.763.011A.882.882,0,0,0,22.21,6.95ZM4.153,4.439a.785.785,0,1,0,.787-.78A.766.766,0,0,0,4.153,4.439Zm8.221,18.22a.676.676,0,1,0-.677.666A.671.671,0,0,0,12.374,22.658ZM22.872,12.2a.674.674,0,0,0-.665.665.656.656,0,0,0,.655.643.634.634,0,0,0,.655-.644A.654.654,0,0,0,22.872,12.2ZM7.171-.123A.546.546,0,0,0,6.613.43a.553.553,0,1,0,1.106,0A.539.539,0,0,0,7.171-.123ZM24.119,9.234a.507.507,0,0,0-.493.488.494.494,0,0,0,.494.494.48.48,0,0,0,.487-.483A.491.491,0,0,0,24.119,9.234Zm-19.454,9.7a.5.5,0,0,0-.488-.488.491.491,0,0,0-.487.5.483.483,0,0,0,.491.479A.49.49,0,0,0,4.665,18.936Z","transform","translate(0 0.123)","fill","#f64060"],["title","Join the Conversation on Discord","href","https://discord.gg/angular","target","_blank","rel","noopener",1,"circle-link"],["xmlns","http://www.w3.org/2000/svg","width","26","height","26","viewBox","0 0 245 240"],["d","M104.4 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1.1-6.1-4.5-11.1-10.2-11.1zM140.9 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1s-4.5-11.1-10.2-11.1z"],["d","M189.5 20h-134C44.2 20 35 29.2 35 40.6v135.2c0 11.4 9.2 20.6 20.5 20.6h113.4l-5.3-18.5 12.8 11.9 12.1 11.2 21.5 19V40.6c0-11.4-9.2-20.6-20.5-20.6zm-38.6 130.6s-3.6-4.3-6.6-8.1c13.1-3.7 18.1-11.9 18.1-11.9-4.1 2.7-8 4.6-11.5 5.9-5 2.1-9.8 3.5-14.5 4.3-9.6 1.8-18.4 1.3-25.9-.1-5.7-1.1-10.6-2.7-14.7-4.3-2.3-.9-4.8-2-7.3-3.4-.3-.2-.6-.3-.9-.5-.2-.1-.3-.2-.4-.3-1.8-1-2.8-1.7-2.8-1.7s4.8 8 17.5 11.8c-3 3.8-6.7 8.3-6.7 8.3-22.1-.7-30.5-15.2-30.5-15.2 0-32.2 14.4-58.3 14.4-58.3 14.4-10.8 28.1-10.5 28.1-10.5l1 1.2c-18 5.2-26.3 13.1-26.3 13.1s2.2-1.2 5.9-2.9c10.7-4.7 19.2-6 22.7-6.3.6-.1 1.1-.2 1.7-.2 6.1-.8 13-1 20.2-.2 9.5 1.1 19.7 3.9 30.1 9.6 0 0-7.9-7.5-24.9-12.7l1.4-1.6s13.7-.3 28.1 10.5c0 0 14.4 26.1 14.4 58.3 0 0-8.5 14.5-30.6 15.2z"],["href","https://github.com/angular/angular","target","_blank","rel","noopener"],[1,"github-star-badge"],["d","M0 0h24v24H0z","fill","none"],["d","M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z","fill","#1976d2"],["id","clouds","xmlns","http://www.w3.org/2000/svg","width","2611.084","height","485.677","viewBox","0 0 2611.084 485.677"],["id","Path_39","data-name","Path 39","d","M2379.709,863.793c10-93-77-171-168-149-52-114-225-105-264,15-75,3-140,59-152,133-30,2.83-66.725,9.829-93.5,26.25-26.771-16.421-63.5-23.42-93.5-26.25-12-74-77-130-152-133-39-120-212-129-264-15-54.084-13.075-106.753,9.173-138.488,48.9-31.734-39.726-84.4-61.974-138.487-48.9-52-114-225-105-264,15a162.027,162.027,0,0,0-103.147,43.044c-30.633-45.365-87.1-72.091-145.206-58.044-52-114-225-105-264,15-75,3-140,59-152,133-53,5-127,23-130,83-2,42,35,72,70,86,49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33,61.112,8.015,113.854-5.72,150.492-29.764a165.62,165.62,0,0,0,110.861-3.236c47,94,178,113,251,33,31.385,4.116,60.563,2.495,86.487-3.311,25.924,5.806,55.1,7.427,86.488,3.311,73,80,204,61,251-33a165.625,165.625,0,0,0,120,0c51,13,108,15,157-5a147.188,147.188,0,0,0,33.5-18.694,147.217,147.217,0,0,0,33.5,18.694c49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33C2446.709,1093.793,2554.709,922.793,2379.709,863.793Z","transform","translate(142.69 -634.312)","fill","#eee"]],template:function(t,r){if(1&t){const a=g.EpF();g.TgZ(0,"div",0),g._UZ(1,"img",1),g.TgZ(2,"span"),g._uU(3,"Welcome"),g.qZA(),g._UZ(4,"div",2),g.TgZ(5,"a",3),g.O4$(),g.TgZ(6,"svg",4),g._UZ(7,"rect",5),g._UZ(8,"path",6),g.qZA(),g.qZA(),g.kcU(),g.TgZ(9,"a",7),g.O4$(),g.TgZ(10,"svg",8),g._UZ(11,"path",9),g._UZ(12,"path",10),g.qZA(),g.qZA(),g.qZA(),g.kcU(),g.TgZ(13,"div",11),g.TgZ(14,"div",12),g.O4$(),g.TgZ(15,"svg",13),g.TgZ(16,"title"),g._uU(17,"Rocket Ship"),g.qZA(),g.TgZ(18,"g",14),g._UZ(19,"circle",15),g.TgZ(20,"g",16),g._UZ(21,"path",17),g._UZ(22,"path",18),g.qZA(),g.qZA(),g.qZA(),g.kcU(),g.TgZ(23,"span"),g._uU(24),g.qZA(),g.O4$(),g.TgZ(25,"svg",19),g.TgZ(26,"title"),g._uU(27,"Rocket Ship Smoke"),g.qZA(),g._UZ(28,"path",20),g.qZA(),g.qZA(),g.kcU(),g.TgZ(29,"h2"),g._uU(30,"Resources"),g.qZA(),g.TgZ(31,"p"),g._uU(32,"Here are some links to help you get started:"),g.qZA(),g.TgZ(33,"div",21),g.TgZ(34,"a",22),g.O4$(),g.TgZ(35,"svg",23),g._UZ(36,"path",24),g.qZA(),g.kcU(),g.TgZ(37,"span"),g._uU(38,"Learn Angular"),g.qZA(),g.O4$(),g.TgZ(39,"svg",23),g._UZ(40,"path",25),g.qZA(),g.qZA(),g.kcU(),g.TgZ(41,"a",26),g.O4$(),g.TgZ(42,"svg",23),g._UZ(43,"path",27),g.qZA(),g.kcU(),g.TgZ(44,"span"),g._uU(45,"CLI Documentation"),g.qZA(),g.O4$(),g.TgZ(46,"svg",23),g._UZ(47,"path",25),g.qZA(),g.qZA(),g.kcU(),g.TgZ(48,"a",28),g.O4$(),g.TgZ(49,"svg",29),g._UZ(50,"path",30),g._UZ(51,"path",31),g._UZ(52,"path",32),g._UZ(53,"path",33),g._UZ(54,"path",34),g.qZA(),g.kcU(),g.TgZ(55,"span"),g._uU(56,"Angular Material"),g.qZA(),g.O4$(),g.TgZ(57,"svg",23),g._UZ(58,"path",25),g.qZA(),g.qZA(),g.kcU(),g.TgZ(59,"a",35),g.O4$(),g.TgZ(60,"svg",23),g._UZ(61,"path",36),g.qZA(),g.kcU(),g.TgZ(62,"span"),g._uU(63,"Angular Blog"),g.qZA(),g.O4$(),g.TgZ(64,"svg",23),g._UZ(65,"path",25),g.qZA(),g.qZA(),g.kcU(),g.TgZ(66,"a",37),g.O4$(),g.TgZ(67,"svg",38),g.TgZ(68,"g"),g._UZ(69,"rect",39),g.qZA(),g.TgZ(70,"g"),g.TgZ(71,"g"),g._UZ(72,"path",40),g._UZ(73,"polygon",41),g.qZA(),g.qZA(),g.qZA(),g.kcU(),g.TgZ(74,"span"),g._uU(75,"Angular DevTools"),g.qZA(),g.O4$(),g.TgZ(76,"svg",23),g._UZ(77,"path",25),g.qZA(),g.qZA(),g.qZA(),g.kcU(),g.TgZ(78,"h2"),g._uU(79,"Next Steps"),g.qZA(),g.TgZ(80,"p"),g._uU(81,"What do you want to do next with your app?"),g.qZA(),g._UZ(82,"input",42,43),g.TgZ(84,"div",21),g.TgZ(85,"button",44),g.NdJ("click",function(){return g.CHM(a),g.MAs(83).value="component"}),g.O4$(),g.TgZ(86,"svg",23),g._UZ(87,"path",45),g.qZA(),g.kcU(),g.TgZ(88,"span"),g._uU(89,"New Component"),g.qZA(),g.qZA(),g.TgZ(90,"button",44),g.NdJ("click",function(){return g.CHM(a),g.MAs(83).value="material"}),g.O4$(),g.TgZ(91,"svg",23),g._UZ(92,"path",45),g.qZA(),g.kcU(),g.TgZ(93,"span"),g._uU(94,"Angular Material"),g.qZA(),g.qZA(),g.TgZ(95,"button",44),g.NdJ("click",function(){return g.CHM(a),g.MAs(83).value="pwa"}),g.O4$(),g.TgZ(96,"svg",23),g._UZ(97,"path",45),g.qZA(),g.kcU(),g.TgZ(98,"span"),g._uU(99,"Add PWA Support"),g.qZA(),g.qZA(),g.TgZ(100,"button",44),g.NdJ("click",function(){return g.CHM(a),g.MAs(83).value="dependency"}),g.O4$(),g.TgZ(101,"svg",23),g._UZ(102,"path",45),g.qZA(),g.kcU(),g.TgZ(103,"span"),g._uU(104,"Add Dependency"),g.qZA(),g.qZA(),g.TgZ(105,"button",44),g.NdJ("click",function(){return g.CHM(a),g.MAs(83).value="test"}),g.O4$(),g.TgZ(106,"svg",23),g._UZ(107,"path",45),g.qZA(),g.kcU(),g.TgZ(108,"span"),g._uU(109,"Run and Watch Tests"),g.qZA(),g.qZA(),g.TgZ(110,"button",44),g.NdJ("click",function(){return g.CHM(a),g.MAs(83).value="build"}),g.O4$(),g.TgZ(111,"svg",23),g._UZ(112,"path",45),g.qZA(),g.kcU(),g.TgZ(113,"span"),g._uU(114,"Build for Production"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(115,"div",46),g.YNc(116,xS,2,0,"pre",47),g.YNc(117,MS,2,0,"pre",48),g.YNc(118,RS,2,0,"pre",48),g.YNc(119,OS,2,0,"pre",48),g.YNc(120,PS,2,0,"pre",48),g.YNc(121,NS,2,0,"pre",48),g.qZA(),g.TgZ(122,"div",21),g.TgZ(123,"a",49),g.O4$(),g.TgZ(124,"svg",50),g.TgZ(125,"title"),g._uU(126,"Meetup Logo"),g.qZA(),g._UZ(127,"path",51),g.qZA(),g.qZA(),g.kcU(),g.TgZ(128,"a",52),g.O4$(),g.TgZ(129,"svg",53),g.TgZ(130,"title"),g._uU(131,"Discord Logo"),g.qZA(),g._UZ(132,"path",54),g._UZ(133,"path",55),g.qZA(),g.qZA(),g.qZA(),g.kcU(),g.TgZ(134,"footer"),g._uU(135," Love Angular?\xa0 "),g.TgZ(136,"a",56),g._uU(137," Give our repo a star. "),g.TgZ(138,"div",57),g.O4$(),g.TgZ(139,"svg",23),g._UZ(140,"path",58),g._UZ(141,"path",59),g.qZA(),g._uU(142," Star "),g.qZA(),g.qZA(),g.kcU(),g.TgZ(143,"a",56),g.O4$(),g.TgZ(144,"svg",23),g._UZ(145,"path",60),g._UZ(146,"path",58),g.qZA(),g.qZA(),g.qZA(),g.TgZ(147,"svg",61),g.TgZ(148,"title"),g._uU(149,"Gray Clouds Background"),g.qZA(),g._UZ(150,"path",62),g.qZA(),g.qZA(),g.kcU(),g._UZ(151,"router-outlet")}if(2&t){const a=g.MAs(83);g.xp6(24),g.hij("",r.title," app is running!"),g.xp6(91),g.Q6J("ngSwitch",a.value),g.xp6(2),g.Q6J("ngSwitchCase","material"),g.xp6(1),g.Q6J("ngSwitchCase","pwa"),g.xp6(1),g.Q6J("ngSwitchCase","dependency"),g.xp6(1),g.Q6J("ngSwitchCase","test"),g.xp6(1),g.Q6J("ngSwitchCase","build")}},directives:[hc,ai,oi,pd],styles:["",'[_nghost-%COMP%] {\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n    font-size: 14px;\n    color: #333;\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%] {\n    margin: 8px 0;\n  }\n\n  p[_ngcontent-%COMP%] {\n    margin: 0;\n  }\n\n  .spacer[_ngcontent-%COMP%] {\n    flex: 1;\n  }\n\n  .toolbar[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 60px;\n    display: flex;\n    align-items: center;\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 8px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover {\n    opacity: 0.8;\n  }\n\n  .content[_ngcontent-%COMP%] {\n    display: flex;\n    margin: 82px auto 32px;\n    padding: 0 16px;\n    max-width: 960px;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  svg.material-icons[_ngcontent-%COMP%] {\n    height: 24px;\n    width: auto;\n  }\n\n  svg.material-icons[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 8px;\n  }\n\n  .card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n    fill: #888;\n  }\n\n  .card-container[_ngcontent-%COMP%] {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin-top: 16px;\n  }\n\n  .card[_ngcontent-%COMP%] {\n    all: unset;\n    border-radius: 4px;\n    border: 1px solid #eee;\n    background-color: #fafafa;\n    height: 40px;\n    width: 200px;\n    margin: 0 8px 16px;\n    padding: 16px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    transition: all 0.2s ease-in-out;\n    line-height: 24px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 0;\n  }\n\n  .card.card-small[_ngcontent-%COMP%] {\n    height: 16px;\n    width: 168px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card) {\n    cursor: pointer;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover {\n    transform: translateY(-3px);\n    box-shadow: 0 4px 17px rgba(0, 0, 0, 0.35);\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n    fill: rgb(105, 103, 103);\n  }\n\n  .card.highlight-card[_ngcontent-%COMP%] {\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n    border: none;\n    width: auto;\n    min-width: 30%;\n    position: relative;\n  }\n\n  .card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n    margin-left: 60px;\n  }\n\n  svg#rocket[_ngcontent-%COMP%] {\n    width: 80px;\n    position: absolute;\n    left: -10px;\n    top: -24px;\n  }\n\n  svg#rocket-smoke[_ngcontent-%COMP%] {\n    height: calc(100vh - 95px);\n    position: absolute;\n    top: 10px;\n    right: 180px;\n    z-index: -10;\n  }\n\n  a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover {\n    color: #1976d2;\n    text-decoration: none;\n  }\n\n  a[_ngcontent-%COMP%]:hover {\n    color: #125699;\n  }\n\n  .terminal[_ngcontent-%COMP%] {\n    position: relative;\n    width: 80%;\n    max-width: 600px;\n    border-radius: 6px;\n    padding-top: 45px;\n    margin-top: 8px;\n    overflow: hidden;\n    background-color: rgb(15, 15, 16);\n  }\n\n  .terminal[_ngcontent-%COMP%]::before {\n    content: "\\2022 \\2022 \\2022";\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 4px;\n    background: rgb(58, 58, 58);\n    color: #c2c3c4;\n    width: 100%;\n    font-size: 2rem;\n    line-height: 0;\n    padding: 14px 0;\n    text-indent: 4px;\n  }\n\n  .terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%] {\n    font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;\n    color: white;\n    padding: 0 1rem 1rem;\n    margin: 0;\n  }\n\n  .circle-link[_ngcontent-%COMP%] {\n    height: 40px;\n    width: 40px;\n    border-radius: 40px;\n    margin: 8px;\n    background-color: white;\n    border: 1px solid #eeeeee;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n    transition: 1s ease-out;\n  }\n\n  .circle-link[_ngcontent-%COMP%]:hover {\n    transform: translateY(-0.25rem);\n    box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n  }\n\n  footer[_ngcontent-%COMP%] {\n    margin-top: 8px;\n    display: flex;\n    align-items: center;\n    line-height: 20px;\n  }\n\n  footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n    display: flex;\n    align-items: center;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%] {\n    color: #24292e;\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    padding: 3px 10px;\n    border: 1px solid rgba(27,31,35,.2);\n    border-radius: 3px;\n    background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);\n    margin-left: 4px;\n    font-weight: 600;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%]:hover {\n    background-image: linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);\n    border-color: rgba(27,31,35,.35);\n    background-position: -.5em;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%] {\n    height: 16px;\n    width: 16px;\n    margin-right: 4px;\n  }\n\n  svg#clouds[_ngcontent-%COMP%] {\n    position: fixed;\n    bottom: -160px;\n    left: -230px;\n    z-index: -10;\n    width: 1920px;\n  }\n\n  \n  @media screen and (max-width: 767px) {\n    .card-container[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%] {\n      width: 100%;\n    }\n\n    .card[_ngcontent-%COMP%]:not(.highlight-card) {\n      height: 16px;\n      margin: 8px 0;\n    }\n\n    .card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n      margin-left: 72px;\n    }\n\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      right: 120px;\n      transform: rotate(-5deg);\n    }\n  }\n\n  @media screen and (max-width: 575px) {\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      display: none;\n      visibility: hidden;\n    }\n  }']}),n})();const HC_firebaseConfig={apiKey:"AIzaSyBOzmqjAa-X4zPpwhZdOnJYLkhqrRnXjtg",authDomain:"reservation-beturin.firebaseapp.com",projectId:"beturin-bed-and-breakfast",storageBucket:"reservation-beturin.appspot.com",messagingSenderId:"298670437380",appId:"1:298670437380:web:10c6905890a1fe8fee7151",measurementId:"G-NZPFWYTVSJ"};let LS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n,bootstrap:[kS]}),n.\u0275inj=g.cJS({providers:[],imports:[[da,us.hO.initializeApp(HC_firebaseConfig),SS,vf]]}),n})();(0,g.G48)(),Io().bootstrapModule(LS).catch(n=>console.error(n))},5867:(rt,De,k)=>{"use strict";k.d(De,{Mq:()=>g.getApp,C6:()=>g.getApps});var g=k(9681);(0,g.registerVersion)("firebase","9.6.1","app")},127:(rt,De,k)=>{"use strict";k.d(De,{Z:()=>g.Z});var g=k(3942);g.Z.registerVersion("firebase","9.6.1","app-compat")},9259:(rt,De,k)=>{"use strict";k.r(De);var g=k(5861),K=k(3942),P=k(2090),oe=k(9681);function ne(m,d){var h={};for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&d.indexOf(v)<0&&(h[v]=m[v]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var T=0;for(v=Object.getOwnPropertySymbols(m);T<v.length;T++)d.indexOf(v[T])<0&&Object.prototype.propertyIsEnumerable.call(m,v[T])&&(h[v[T]]=m[v[T]])}return h}var Oe=k(1877),le=k(4859);const Ir=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Vr=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},en=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),wn=new Oe.Yd("@firebase/auth");function ti(m,...d){wn.logLevel<=Oe.in.ERROR&&wn.error(`Auth (${oe.SDK_VERSION}): ${m}`,...d)}function Rt(m,...d){throw Ti(m,...d)}function gn(m,...d){return Ti(m,...d)}function go(m,d,h){const v=Object.assign(Object.assign({},Vr()),{[d]:h});return new P.LL("auth","Firebase",v).create(d,{appName:m.name})}function ni(m,d,h){if(!(d instanceof h))throw h.name!==d.constructor.name&&Rt(m,"argument-error"),go(m,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ti(m,...d){if("string"!=typeof m){const h=d[0],v=[...d.slice(1)];return v[0]&&(v[0].appName=m.name),m._errorFactory.create(h,...v)}return en.create(m,...d)}function Te(m,d,...h){if(!m)throw Ti(d,...h)}function $n(m){const d="INTERNAL ASSERTION FAILED: "+m;throw ti(d),new Error(d)}function Rn(m,d){m||$n(d)}const ct=new Map;function kt(m){Rn(m instanceof Function,"Expected a class definition");let d=ct.get(m);return d?(Rn(d instanceof m,"Instance stored in cache mismatched with class"),d):(d=new m,ct.set(m,d),d)}function ot(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function lt(){return"http:"===Tt()||"https:"===Tt()}function Tt(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class jt{constructor(d,h){this.shortDelay=d,this.longDelay=h,Rn(h>d,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(lt()||(0,P.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ge(m,d){Rn(m.emulator,"Emulator should always be set here");const{url:h}=m.emulator;return d?`${h}${d.startsWith("/")?d.slice(1):d}`:h}class st{static initialize(d,h,v){this.fetchImpl=d,h&&(this.headersImpl=h),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void $n("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void $n("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void $n("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cc={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ms=new jt(3e4,6e4);function Ht(m,d){return m.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:m.tenantId}):d}function pt(m,d,h,v){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,g.Z)(function*(m,d,h,v,T={}){return lc(m,T,(0,g.Z)(function*(){let S={},U={};v&&("GET"===d?U=v:S={body:JSON.stringify(v)});const Q=(0,P.xO)(Object.assign({key:m.config.apiKey},U)).slice(1),Me=yield m._getAdditionalHeaders();return Me["Content-Type"]="application/json",m.languageCode&&(Me["X-Firebase-Locale"]=m.languageCode),st.fetch()(me(m,m.config.apiHost,h,Q),Object.assign({method:d,headers:Me,referrerPolicy:"no-referrer"},S))}))})).apply(this,arguments)}function lc(m,d,h){return $.apply(this,arguments)}function $(){return($=(0,g.Z)(function*(m,d,h){m._canInitEmulator=!1;const v=Object.assign(Object.assign({},cc),d);try{const T=new ee(m),S=yield Promise.race([h(),T.promise]);T.clearNetworkTimeout();const U=yield S.json();if("needConfirmation"in U)throw ze(m,"account-exists-with-different-credential",U);if(S.ok&&!("errorMessage"in U))return U;{const Q=S.ok?U.errorMessage:U.error.message,[Me,Se]=Q.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Me)throw ze(m,"credential-already-in-use",U);if("EMAIL_EXISTS"===Me)throw ze(m,"email-already-in-use",U);const Ye=v[Me]||Me.toLowerCase().replace(/[_\s]+/g,"-");if(Se)throw go(m,Ye,Se);Rt(m,Ye)}}catch(T){if(T instanceof P.ZR)throw T;Rt(m,"network-request-failed")}})).apply(this,arguments)}function F(m,d,h,v){return H.apply(this,arguments)}function H(){return(H=(0,g.Z)(function*(m,d,h,v,T={}){const S=yield pt(m,d,h,v,T);return"mfaPendingCredential"in S&&Rt(m,"multi-factor-auth-required",{_serverResponse:S}),S})).apply(this,arguments)}function me(m,d,h,v){const T=`${d}${h}?${v}`;return m.config.emulator?Ge(m.config,T):`${m.config.apiScheme}://${T}`}class ee{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((h,v)=>{this.timer=setTimeout(()=>v(gn(this.auth,"timeout")),ms.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ze(m,d,h){const v={appName:m.name};h.email&&(v.email=h.email),h.phoneNumber&&(v.phoneNumber=h.phoneNumber);const T=gn(m,d,v);return T.customData._tokenResponse=h,T}function qt(){return(qt=(0,g.Z)(function*(m,d){return pt(m,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Jn(m,d){return mn.apply(this,arguments)}function mn(){return(mn=(0,g.Z)(function*(m,d){return pt(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function $r(m,d){return xt.apply(this,arguments)}function xt(){return(xt=(0,g.Z)(function*(m,d){return pt(m,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Xn(m){if(m)try{const d=new Date(Number(m));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function Wo(){return(Wo=(0,g.Z)(function*(m,d=!1){const h=(0,P.m9)(m),v=yield h.getIdToken(d),T=Zs(v);Te(T&&T.exp&&T.auth_time&&T.iat,h.auth,"internal-error");const S="object"==typeof T.firebase?T.firebase:void 0,U=null==S?void 0:S.sign_in_provider;return{claims:T,token:v,authTime:Xn(Xa(T.auth_time)),issuedAtTime:Xn(Xa(T.iat)),expirationTime:Xn(Xa(T.exp)),signInProvider:U||null,signInSecondFactor:(null==S?void 0:S.sign_in_second_factor)||null}})).apply(this,arguments)}function Xa(m){return 1e3*Number(m)}function Zs(m){const[d,h,v]=m.split(".");if(void 0===d||void 0===h||void 0===v)return ti("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,P.tV)(h);return T?JSON.parse(T):(ti("Failed to decode base64 JWT payload"),null)}catch(T){return ti("Caught error parsing JWT payload as JSON",T),null}}function tn(m,d){return ii.apply(this,arguments)}function ii(){return(ii=(0,g.Z)(function*(m,d,h=!1){if(h)return d;try{return yield d}catch(v){throw v instanceof P.ZR&&Wr(v)&&m.auth.currentUser===m&&(yield m.auth.signOut()),v}})).apply(this,arguments)}function Wr({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class er{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var h;if(d){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const T=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(d=!1){var h=this;if(!this.isRunning)return;const v=this.getInterval(d);this.timerId=setTimeout((0,g.Z)(function*(){yield h.iteration()}),v)}iteration(){var d=this;return(0,g.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h.code&&d.schedule(!0))}d.schedule()})()}}class eu{constructor(d,h){this.createdAt=d,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xn(this.lastLoginAt),this.creationTime=Xn(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Gi(m){return ys.apply(this,arguments)}function ys(){return(ys=(0,g.Z)(function*(m){var d;const h=m.auth,v=yield m.getIdToken(),T=yield tn(m,$r(h,{idToken:v}));Te(null==T?void 0:T.users.length,h,"internal-error");const S=T.users[0];m._notifyReloadListener(S);const U=(null===(d=S.providerUserInfo)||void 0===d?void 0:d.length)?Vl(S.providerUserInfo):[],Q=bn(m.providerData,U),Ye=!!m.isAnonymous&&!(m.email&&S.passwordHash||(null==Q?void 0:Q.length)),Je={uid:S.localId,displayName:S.displayName||null,photoURL:S.photoUrl||null,email:S.email||null,emailVerified:S.emailVerified||!1,phoneNumber:S.phoneNumber||null,tenantId:S.tenantId||null,providerData:Q,metadata:new eu(S.createdAt,S.lastLoginAt),isAnonymous:Ye};Object.assign(m,Je)})).apply(this,arguments)}function zi(){return(zi=(0,g.Z)(function*(m){const d=(0,P.m9)(m);yield Gi(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function bn(m,d){return[...m.filter(v=>!d.some(T=>T.providerId===v.providerId)),...d]}function Vl(m){return m.map(d=>{var{providerId:h}=d,v=ne(d,["providerId"]);return{providerId:h,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function Ue(){return(Ue=(0,g.Z)(function*(m,d){const h=yield lc(m,{},(0,g.Z)(function*(){const v=(0,P.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:T,apiKey:S}=m.config,U=me(m,T,"/v1/token",`key=${S}`),Q=yield m._getAdditionalHeaders();return Q["Content-Type"]="application/x-www-form-urlencoded",st.fetch()(U,{method:"POST",headers:Q,body:v})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}class gt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){Te(d.idToken,"internal-error"),Te(void 0!==d.idToken,"internal-error"),Te(void 0!==d.refreshToken,"internal-error");const h="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function(m){const d=Zs(m);return Te(d,"internal-error"),Te(void 0!==d.exp,"internal-error"),Te(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,h)}getToken(d,h=!1){var v=this;return(0,g.Z)(function*(){return Te(!v.accessToken||v.refreshToken,d,"user-token-expired"),h||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(d,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,h){var v=this;return(0,g.Z)(function*(){const{accessToken:T,refreshToken:S,expiresIn:U}=yield function(m,d){return Ue.apply(this,arguments)}(d,h);v.updateTokensAndExpiration(T,S,Number(U))})()}updateTokensAndExpiration(d,h,v){this.refreshToken=h||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(d,h){const{refreshToken:v,accessToken:T,expirationTime:S}=h,U=new gt;return v&&(Te("string"==typeof v,"internal-error",{appName:d}),U.refreshToken=v),T&&(Te("string"==typeof T,"internal-error",{appName:d}),U.accessToken=T),S&&(Te("number"==typeof S,"internal-error",{appName:d}),U.expirationTime=S),U}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new gt,this.toJSON())}_performRefresh(){return $n("not implemented")}}function Bt(m,d){Te("string"==typeof m||void 0===m,"internal-error",{appName:d})}class En{constructor(d){var{uid:h,auth:v,stsTokenManager:T}=d,S=ne(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new er(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=v,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=S.displayName||null,this.email=S.email||null,this.emailVerified=S.emailVerified||!1,this.phoneNumber=S.phoneNumber||null,this.photoURL=S.photoURL||null,this.isAnonymous=S.isAnonymous||!1,this.tenantId=S.tenantId||null,this.metadata=new eu(S.createdAt||void 0,S.lastLoginAt||void 0)}getIdToken(d){var h=this;return(0,g.Z)(function*(){const v=yield tn(h,h.stsTokenManager.getToken(h.auth,d));return Te(v,h.auth,"internal-error"),h.accessToken!==v&&(h.accessToken=v,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),v})()}getIdTokenResult(d){return function(m){return Wo.apply(this,arguments)}(this,d)}reload(){return function(m){return zi.apply(this,arguments)}(this)}_assign(d){this!==d&&(Te(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(h=>Object.assign({},h)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new En(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,h=!1){var v=this;return(0,g.Z)(function*(){let T=!1;d.idToken&&d.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(d),T=!0),h&&(yield Gi(v)),yield v.auth._persistUserIfCurrent(v),T&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var d=this;return(0,g.Z)(function*(){const h=yield d.getIdToken();return yield tn(d,function(m,d){return qt.apply(this,arguments)}(d.auth,{idToken:h})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,h){var v,T,S,U,Q,Me,Se,Ye;const Je=null!==(v=h.displayName)&&void 0!==v?v:void 0,Ot=null!==(T=h.email)&&void 0!==T?T:void 0,pn=null!==(S=h.phoneNumber)&&void 0!==S?S:void 0,Ps=null!==(U=h.photoURL)&&void 0!==U?U:void 0,Ns=null!==(Q=h.tenantId)&&void 0!==Q?Q:void 0,Ad=null!==(Me=h._redirectEventId)&&void 0!==Me?Me:void 0,Sd=null!==(Se=h.createdAt)&&void 0!==Se?Se:void 0,cg=null!==(Ye=h.lastLoginAt)&&void 0!==Ye?Ye:void 0,{uid:Ru,emailVerified:lg,isAnonymous:xd,providerData:Md,stsTokenManager:yf}=h;Te(Ru&&yf,d,"internal-error");const _f=gt.fromJSON(this.name,yf);Te("string"==typeof Ru,d,"internal-error"),Bt(Je,d.name),Bt(Ot,d.name),Te("boolean"==typeof lg,d,"internal-error"),Te("boolean"==typeof xd,d,"internal-error"),Bt(pn,d.name),Bt(Ps,d.name),Bt(Ns,d.name),Bt(Ad,d.name),Bt(Sd,d.name),Bt(cg,d.name);const Ou=new En({uid:Ru,auth:d,email:Ot,emailVerified:lg,displayName:Je,isAnonymous:xd,photoURL:Ps,phoneNumber:pn,tenantId:Ns,stsTokenManager:_f,createdAt:Sd,lastLoginAt:cg});return Md&&Array.isArray(Md)&&(Ou.providerData=Md.map(Rd=>Object.assign({},Rd))),Ad&&(Ou._redirectEventId=Ad),Ou}static _fromIdTokenResponse(d,h,v=!1){return(0,g.Z)(function*(){const T=new gt;T.updateFromServerResponse(h);const S=new En({uid:h.localId,auth:d,stsTokenManager:T,isAnonymous:v});return yield Gi(S),S})()}}const cn=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(h,v){var T=this;return(0,g.Z)(function*(){T.storage[h]=v})()}_get(h){var v=this;return(0,g.Z)(function*(){const T=v.storage[h];return void 0===T?null:T})()}_remove(h){var v=this;return(0,g.Z)(function*(){delete v.storage[h]})()}_addListener(h,v){}_removeListener(h,v){}}return m.type="NONE",m})();function Hn(m,d,h){return`firebase:${m}:${d}:${h}`}class Kt{constructor(d,h,v){this.persistence=d,this.auth=h,this.userKey=v;const{config:T,name:S}=this.auth;this.fullUserKey=Hn(this.userKey,T.apiKey,S),this.fullPersistenceKey=Hn("persistence",T.apiKey,S),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,g.Z)(function*(){const h=yield d.persistence._get(d.fullUserKey);return h?En._fromJSON(d.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var h=this;return(0,g.Z)(function*(){if(h.persistence===d)return;const v=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=d,v?h.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,h,v="authUser"){return(0,g.Z)(function*(){if(!h.length)return new Kt(kt(cn),d,v);const T=(yield Promise.all(h.map(function(){var Se=(0,g.Z)(function*(Ye){if(yield Ye._isAvailable())return Ye});return function(Ye){return Se.apply(this,arguments)}}()))).filter(Se=>Se);let S=T[0]||kt(cn);const U=Hn(v,d.config.apiKey,d.name);let Q=null;for(const Se of h)try{const Ye=yield Se._get(U);if(Ye){const Je=En._fromJSON(d,Ye);Se!==S&&(Q=Je),S=Se;break}}catch(Ye){}const Me=T.filter(Se=>Se._shouldAllowMigration);return S._shouldAllowMigration&&Me.length?(S=Me[0],Q&&(yield S._set(U,Q.toJSON())),yield Promise.all(h.map(function(){var Se=(0,g.Z)(function*(Ye){if(Ye!==S)try{yield Ye._remove(U)}catch(Je){}});return function(Ye){return Se.apply(this,arguments)}}())),new Kt(S,d,v)):new Kt(S,d,v)})()}}function On(m){const d=m.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(_s(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(mo(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Wi(d))return"Blackberry";if(hr(d))return"Webos";if(mt(d))return"Safari";if((d.includes("chrome/")||Ko(d))&&!d.includes("edge/"))return"Chrome";if(zs(d))return"Android";{const v=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function mo(m=(0,P.z$)()){return/firefox\//i.test(m)}function mt(m=(0,P.z$)()){const d=m.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Ko(m=(0,P.z$)()){return/crios\//i.test(m)}function _s(m=(0,P.z$)()){return/iemobile/i.test(m)}function zs(m=(0,P.z$)()){return/android/i.test(m)}function Wi(m=(0,P.z$)()){return/blackberry/i.test(m)}function hr(m=(0,P.z$)()){return/webos/i.test(m)}function Ki(m=(0,P.z$)()){return/iphone|ipad|ipod/i.test(m)}function yo(m=(0,P.z$)()){return Ki(m)||zs(m)||hr(m)||Wi(m)||/windows phone/i.test(m)||_s(m)}function oi(m,d=[]){let h;switch(m){case"Browser":h=On((0,P.z$)());break;case"Worker":h=`${On((0,P.z$)())}-${m}`;break;default:h=m}const v=d.length?d.join(","):"FirebaseCore-web";return`${h}/JsCore/${oe.SDK_VERSION}/${v}`}class ai{constructor(d,h){this.app=d,this.config=h,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yi(this),this.idTokenSubscription=new Yi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=en,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=h.sdkClientVersion}_initializeWithPersistence(d,h){var v=this;return h&&(this._popupRedirectResolver=kt(h)),this._initializationPromise=this.queue((0,g.Z)(function*(){var T,S;if(!v._deleted&&(v.persistenceManager=yield Kt.create(v,d),!v._deleted)){if(null===(T=v._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch(U){}yield v.initializeCurrentUser(h),v.lastNotifiedUid=(null===(S=v.currentUser)||void 0===S?void 0:S.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,g.Z)(function*(){if(d._deleted)return;const h=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||h){if(d.currentUser&&h&&d.currentUser.uid===h.uid)return d._currentUser._assign(h),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(h)}})()}initializeCurrentUser(d){var h=this;return(0,g.Z)(function*(){var v;let T=yield h.assertedPersistence.getCurrentUser();if(d&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const S=null===(v=h.redirectUser)||void 0===v?void 0:v._redirectEventId,U=null==T?void 0:T._redirectEventId,Q=yield h.tryRedirectSignIn(d);(!S||S===U)&&(null==Q?void 0:Q.user)&&(T=Q.user)}return T?T._redirectEventId?(Te(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===T._redirectEventId?h.directlySetCurrentUser(T):h.reloadAndSetCurrentUserOrClear(T)):h.reloadAndSetCurrentUserOrClear(T):h.directlySetCurrentUser(null)})()}tryRedirectSignIn(d){var h=this;return(0,g.Z)(function*(){let v=null;try{v=yield h._popupRedirectResolver._completeRedirectFn(h,d,!0)}catch(T){yield h._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(d){var h=this;return(0,g.Z)(function*(){try{yield Gi(d)}catch(v){if("auth/network-request-failed"!==v.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var d=this;return(0,g.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var h=this;return(0,g.Z)(function*(){const v=d?(0,P.m9)(d):null;return v&&Te(v.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(v&&v._clone(h))})()}_updateCurrentUser(d){var h=this;return(0,g.Z)(function*(){if(!h._deleted)return d&&Te(h.tenantId===d.tenantId,h,"tenant-id-mismatch"),h.queue((0,g.Z)(function*(){yield h.directlySetCurrentUser(d),h.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,g.Z)(function*(){return(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null)})()}setPersistence(d){var h=this;return this.queue((0,g.Z)(function*(){yield h.assertedPersistence.setPersistence(kt(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new P.LL("auth","Firebase",d())}onAuthStateChanged(d,h,v){return this.registerStateListener(this.authStateSubscription,d,h,v)}onIdTokenChanged(d,h,v){return this.registerStateListener(this.idTokenSubscription,d,h,v)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,h){var v=this;return(0,g.Z)(function*(){const T=yield v.getOrInitRedirectPersistenceManager(h);return null===d?T.removeCurrentUser():T.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var h=this;return(0,g.Z)(function*(){if(!h.redirectPersistenceManager){const v=d&&kt(d)||h._popupRedirectResolver;Te(v,h,"argument-error"),h.redirectPersistenceManager=yield Kt.create(h,[kt(v._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(d){var h=this;return(0,g.Z)(function*(){var v,T;return h._isInitialized&&(yield h.queue((0,g.Z)(function*(){}))),(null===(v=h._currentUser)||void 0===v?void 0:v._redirectEventId)===d?h._currentUser:(null===(T=h.redirectUser)||void 0===T?void 0:T._redirectEventId)===d?h.redirectUser:null})()}_persistUserIfCurrent(d){var h=this;return(0,g.Z)(function*(){if(d===h.currentUser)return h.queue((0,g.Z)(function*(){return h.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(h=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,h,v,T){if(this._deleted)return()=>{};const S="function"==typeof h?h:h.next.bind(h),U=this._isInitialized?Promise.resolve():this._initializationPromise;return Te(U,this,"internal-error"),U.then(()=>S(this.currentUser)),"function"==typeof h?d.addObserver(h,v,T):d.addObserver(h)}directlySetCurrentUser(d){var h=this;return(0,g.Z)(function*(){h.currentUser&&h.currentUser!==d&&(h._currentUser._stopProactiveRefresh(),d&&h.isProactiveRefreshEnabled&&d._startProactiveRefresh()),h.currentUser=d,d?yield h.assertedPersistence.setCurrentUser(d):yield h.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=oi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,g.Z)(function*(){const h={"X-Client-Version":d.clientVersion};return d.app.options.appId&&(h["X-Firebase-gmpid"]=d.app.options.appId),h})()}}function Bn(m){return(0,P.m9)(m)}class Yi{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,P.ne)(h=>this.observer=h)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Yr(m){const d=m.indexOf(":");return d<0?"":m.substr(0,d+1)}function Lp(m){if(!m)return null;const d=Number(m);return isNaN(d)?null:d}class _o{constructor(d,h){this.providerId=d,this.signInMethod=h}toJSON(){return $n("not implemented")}_getIdTokenResponse(d){return $n("not implemented")}_linkToIdToken(d,h){return $n("not implemented")}_getReauthenticationResolver(d){return $n("not implemented")}}function Sh(m,d){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,g.Z)(function*(m,d){return pt(m,"POST","/v1/accounts:resetPassword",Ht(m,d))})).apply(this,arguments)}function xh(m,d){return jl.apply(this,arguments)}function jl(){return(jl=(0,g.Z)(function*(m,d){return pt(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Fp(m,d){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,g.Z)(function*(m,d){return pt(m,"POST","/v1/accounts:update",Ht(m,d))})).apply(this,arguments)}function $l(){return($l=(0,g.Z)(function*(m,d){return F(m,"POST","/v1/accounts:signInWithPassword",Ht(m,d))})).apply(this,arguments)}function pc(m,d){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,g.Z)(function*(m,d){return pt(m,"POST","/v1/accounts:sendOobCode",Ht(m,d))})).apply(this,arguments)}function Up(m,d){return ql.apply(this,arguments)}function ql(){return(ql=(0,g.Z)(function*(m,d){return pc(m,d)})).apply(this,arguments)}function Vp(m,d){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,g.Z)(function*(m,d){return pc(m,d)})).apply(this,arguments)}function nu(m,d){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,g.Z)(function*(m,d){return pc(m,d)})).apply(this,arguments)}function gc(m,d){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,g.Z)(function*(m,d){return pc(m,d)})).apply(this,arguments)}function Ci(){return(Ci=(0,g.Z)(function*(m,d){return F(m,"POST","/v1/accounts:signInWithEmailLink",Ht(m,d))})).apply(this,arguments)}function ws(){return(ws=(0,g.Z)(function*(m,d){return F(m,"POST","/v1/accounts:signInWithEmailLink",Ht(m,d))})).apply(this,arguments)}class wo extends _o{constructor(d,h,v,T=null){super("password",v),this._email=d,this._password=h,this._tenantId=T}static _fromEmailAndPassword(d,h){return new wo(d,h,"password")}static _fromEmailAndCode(d,h,v=null){return new wo(d,h,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d;if((null==h?void 0:h.email)&&(null==h?void 0:h.password)){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(d){var h=this;return(0,g.Z)(function*(){switch(h.signInMethod){case"password":return function(m,d){return $l.apply(this,arguments)}(d,{returnSecureToken:!0,email:h._email,password:h._password});case"emailLink":return function(m,d){return Ci.apply(this,arguments)}(d,{email:h._email,oobCode:h._password});default:Rt(d,"internal-error")}})()}_linkToIdToken(d,h){var v=this;return(0,g.Z)(function*(){switch(v.signInMethod){case"password":return xh(d,{idToken:h,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(m,d){return ws.apply(this,arguments)}(d,{idToken:h,email:v._email,oobCode:v._password});default:Rt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Es(m,d){return yc.apply(this,arguments)}function yc(){return(yc=(0,g.Z)(function*(m,d){return F(m,"POST","/v1/accounts:signInWithIdp",Ht(m,d))})).apply(this,arguments)}class tr extends _o{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const h=new tr(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(h.idToken=d.idToken),d.accessToken&&(h.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(h.nonce=d.nonce),d.pendingToken&&(h.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(h.accessToken=d.oauthToken,h.secret=d.oauthTokenSecret):Rt("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:v,signInMethod:T}=h,S=ne(h,["providerId","signInMethod"]);if(!v||!T)return null;const U=new tr(v,T);return U.idToken=S.idToken||void 0,U.accessToken=S.accessToken||void 0,U.secret=S.secret,U.nonce=S.nonce,U.pendingToken=S.pendingToken||null,U}_getIdTokenResponse(d){return Es(d,this.buildRequest())}_linkToIdToken(d,h){const v=this.buildRequest();return v.idToken=h,Es(d,v)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,Es(d,h)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),d.postBody=(0,P.xO)(h)}return d}}function Qi(m,d){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,g.Z)(function*(m,d){return pt(m,"POST","/v1/accounts:sendVerificationCode",Ht(m,d))})).apply(this,arguments)}function fr(){return(fr=(0,g.Z)(function*(m,d){return F(m,"POST","/v1/accounts:signInWithPhoneNumber",Ht(m,d))})).apply(this,arguments)}function _c(){return(_c=(0,g.Z)(function*(m,d){const h=yield F(m,"POST","/v1/accounts:signInWithPhoneNumber",Ht(m,d));if(h.temporaryProof)throw ze(m,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const ru={USER_NOT_FOUND:"user-not-found"};function Xo(){return(Xo=(0,g.Z)(function*(m,d){return F(m,"POST","/v1/accounts:signInWithPhoneNumber",Ht(m,Object.assign(Object.assign({},d),{operation:"REAUTH"})),ru)})).apply(this,arguments)}class Ws extends _o{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,h){return new Ws({verificationId:d,verificationCode:h})}static _fromTokenResponse(d,h){return new Ws({phoneNumber:d,temporaryProof:h})}_getIdTokenResponse(d){return function(m,d){return fr.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,h){return function(m,d){return _c.apply(this,arguments)}(d,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function(m,d){return Xo.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:h,verificationId:v,verificationCode:T}=this.params;return d&&h?{temporaryProof:d,phoneNumber:h}:{sessionInfo:v,code:T}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:h,verificationCode:v,phoneNumber:T,temporaryProof:S}=d;return v||h||T||S?new Ws({verificationId:h,verificationCode:v,phoneNumber:T,temporaryProof:S}):null}}class Ks{constructor(d){var h,v,T,S,U,Q;const Me=(0,P.zd)((0,P.pd)(d)),Se=null!==(h=Me.apiKey)&&void 0!==h?h:null,Ye=null!==(v=Me.oobCode)&&void 0!==v?v:null,Je=function(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Me.mode)&&void 0!==T?T:null);Te(Se&&Ye&&Je,"argument-error"),this.apiKey=Se,this.operation=Je,this.code=Ye,this.continueUrl=null!==(S=Me.continueUrl)&&void 0!==S?S:null,this.languageCode=null!==(U=Me.languageCode)&&void 0!==U?U:null,this.tenantId=null!==(Q=Me.tenantId)&&void 0!==Q?Q:null}static parseLink(d){const h=function(m){const d=(0,P.zd)((0,P.pd)(m)).link,h=d?(0,P.zd)((0,P.pd)(d)).deep_link_id:null,v=(0,P.zd)((0,P.pd)(m)).deep_link_id;return(v?(0,P.zd)((0,P.pd)(v)).link:null)||v||h||d||m}(d);try{return new Ks(h)}catch(v){return null}}}let Ys=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(h,v){return wo._fromEmailAndPassword(h,v)}static credentialWithLink(h,v){const T=Ks.parseLink(v);return Te(T,"argument-error"),wo._fromEmailAndCode(h,T.code,T.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class br{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class ci extends br{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Cn extends ci{static credentialFromJSON(d){const h="string"==typeof d?JSON.parse(d):d;return Te("providerId"in h&&"signInMethod"in h,"argument-error"),tr._fromParams(h)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return Te(d.idToken||d.accessToken,"argument-error"),tr._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Cn.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Cn.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:h,oauthAccessToken:v,oauthTokenSecret:T,pendingToken:S,nonce:U,providerId:Q}=d;if(!v&&!T&&!h&&!S||!Q)return null;try{return new Cn(Q)._credential({idToken:h,accessToken:v,nonce:U,pendingToken:S})}catch(Me){return null}}}let iu=(()=>{class m extends ci{constructor(){super("facebook.com")}static credential(h){return tr._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return m.credential(h.oauthAccessToken)}catch(v){return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),Qs=(()=>{class m extends ci{constructor(){super("google.com"),this.addScope("profile")}static credential(h,v){return tr._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:v})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:v,oauthAccessToken:T}=h;if(!v&&!T)return null;try{return m.credential(v,T)}catch(S){return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),Js=(()=>{class m extends ci{constructor(){super("github.com")}static credential(h){return tr._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return m.credential(h.oauthAccessToken)}catch(v){return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class Ji extends _o{constructor(d,h){super(d,d),this.pendingToken=h}_getIdTokenResponse(d){return Es(d,this.buildRequest())}_linkToIdToken(d,h){const v=this.buildRequest();return v.idToken=h,Es(d,v)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,Es(d,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:v,signInMethod:T,pendingToken:S}=h;return v&&T&&S&&v===T?new Ji(v,S):null}static _create(d,h){return new Ji(d,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Xs extends br{constructor(d){Te(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return Xs.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return Xs.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const h=Ji.fromJSON(d);return Te(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:h,providerId:v}=d;if(!h||!v)return null;try{return Ji._create(v,h)}catch(T){return null}}}let Tr=(()=>{class m extends ci{constructor(){super("twitter.com")}static credential(h,v){return tr._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:v})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:v,oauthTokenSecret:T}=h;if(!v||!T)return null;try{return m.credential(v,T)}catch(S){return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function ta(m,d){return Is.apply(this,arguments)}function Is(){return(Is=(0,g.Z)(function*(m,d){return F(m,"POST","/v1/accounts:signUp",Ht(m,d))})).apply(this,arguments)}class Ke{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,h,v,T=!1){return(0,g.Z)(function*(){const S=yield En._fromIdTokenResponse(d,v,T),U=su(v);return new Ke({user:S,providerId:U,_tokenResponse:v,operationType:h})})()}static _forOperation(d,h,v){return(0,g.Z)(function*(){yield d._updateTokensIfNecessary(v,!0);const T=su(v);return new Ke({user:d,providerId:T,_tokenResponse:v,operationType:h})})()}}function su(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function Eo(){return(Eo=(0,g.Z)(function*(m){var d;const h=Bn(m);if(yield h._initializationPromise,null===(d=h.currentUser)||void 0===d?void 0:d.isAnonymous)return new Ke({user:h.currentUser,providerId:null,operationType:"signIn"});const v=yield ta(h,{returnSecureToken:!0}),T=yield Ke._fromIdTokenResponse(h,"signIn",v,!0);return yield h._updateCurrentUser(T.user),T})).apply(this,arguments)}class ra extends P.ZR{constructor(d,h,v,T){var S;super(h.code,h.message),this.operationType=v,this.user=T,Object.setPrototypeOf(this,ra.prototype),this.customData={appName:d.name,tenantId:null!==(S=d.tenantId)&&void 0!==S?S:void 0,_serverResponse:h.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(d,h,v,T){return new ra(d,h,v,T)}}function ou(m,d,h,v){return("reauthenticate"===d?h._getReauthenticationResolver(m):h._getIdTokenResponse(m)).catch(S=>{throw"auth/multi-factor-auth-required"===S.code?ra._fromErrorAndOperation(m,S,d,v):S})}function au(m){return new Set(m.map(({providerId:d})=>d).filter(d=>!!d))}function Ie(){return(Ie=(0,g.Z)(function*(m,d){const h=(0,P.m9)(m);yield ln(!0,h,d);const{providerUserInfo:v}=yield Jn(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[d]}),T=au(v||[]);return h.providerData=h.providerData.filter(S=>T.has(S.providerId)),T.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h})).apply(this,arguments)}function Ct(m,d){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,g.Z)(function*(m,d,h=!1){const v=yield tn(m,d._linkToIdToken(m.auth,yield m.getIdToken()),h);return Ke._forOperation(m,"link",v)})).apply(this,arguments)}function ln(m,d,h){return ia.apply(this,arguments)}function ia(){return(ia=(0,g.Z)(function*(m,d,h){yield Gi(d);const T=!1===m?"provider-already-linked":"no-such-provider";Te(au(d.providerData).has(h)===m,d.auth,T)})).apply(this,arguments)}function Ds(m,d){return nr.apply(this,arguments)}function nr(){return(nr=(0,g.Z)(function*(m,d,h=!1){const{auth:v}=m,T="reauthenticate";try{const S=yield tn(m,ou(v,T,d,m),h);Te(S.idToken,v,"internal-error");const U=Zs(S.idToken);Te(U,v,"internal-error");const{sub:Q}=U;return Te(m.uid===Q,v,"user-mismatch"),Ke._forOperation(m,T,S)}catch(S){throw"auth/user-not-found"===(null==S?void 0:S.code)&&Rt(v,"user-mismatch"),S}})).apply(this,arguments)}function uu(m,d){return eo.apply(this,arguments)}function eo(){return(eo=(0,g.Z)(function*(m,d,h=!1){const v="signIn",T=yield ou(m,v,d),S=yield Ke._fromIdTokenResponse(m,v,T);return h||(yield m._updateCurrentUser(S.user)),S})).apply(this,arguments)}function wc(m,d){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,g.Z)(function*(m,d){return uu(Bn(m),d)})).apply(this,arguments)}function sa(m,d){return to.apply(this,arguments)}function to(){return(to=(0,g.Z)(function*(m,d){const h=(0,P.m9)(m);return yield ln(!1,h,d.providerId),Ct(h,d)})).apply(this,arguments)}function qn(m,d){return li.apply(this,arguments)}function li(){return(li=(0,g.Z)(function*(m,d){return Ds((0,P.m9)(m),d)})).apply(this,arguments)}function oa(m,d){return bs.apply(this,arguments)}function bs(){return(bs=(0,g.Z)(function*(m,d){return F(m,"POST","/v1/accounts:signInWithCustomToken",Ht(m,d))})).apply(this,arguments)}function aa(){return(aa=(0,g.Z)(function*(m,d){const h=Bn(m),v=yield oa(h,{token:d,returnSecureToken:!0}),T=yield Ke._fromIdTokenResponse(h,"signIn",v);return yield h._updateCurrentUser(T.user),T})).apply(this,arguments)}class ua{constructor(d,h){this.factorId=d,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(d,h){return"phoneInfo"in h?ca._fromServerResponse(d,h):Rt(d,"internal-error")}}class ca extends ua{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,h){return new ca(h)}}function cu(m,d,h){var v;Te((null===(v=h.url)||void 0===v?void 0:v.length)>0,m,"invalid-continue-uri"),Te(void 0===h.dynamicLinkDomain||h.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),d.continueUrl=h.url,d.dynamicLinkDomain=h.dynamicLinkDomain,d.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(Te(h.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),d.iOSBundleId=h.iOS.bundleId),h.android&&(Te(h.android.packageName.length>0,m,"missing-android-pkg-name"),d.androidInstallApp=h.android.installApp,d.androidMinimumVersionCode=h.android.minimumVersion,d.androidPackageName=h.android.packageName)}function Io(){return(Io=(0,g.Z)(function*(m,d,h){const v=(0,P.m9)(m),T={requestType:"PASSWORD_RESET",email:d};h&&cu(v,T,h),yield Vp(v,T)})).apply(this,arguments)}function da(){return(da=(0,g.Z)(function*(m,d,h){yield Sh((0,P.m9)(m),{oobCode:d,newPassword:h})})).apply(this,arguments)}function du(){return(du=(0,g.Z)(function*(m,d){yield Fp((0,P.m9)(m),{oobCode:d})})).apply(this,arguments)}function hu(m,d){return ha.apply(this,arguments)}function ha(){return(ha=(0,g.Z)(function*(m,d){const h=(0,P.m9)(m),v=yield Sh(h,{oobCode:d}),T=v.requestType;switch(Te(T,h,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(v.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(v.mfaInfo,h,"internal-error");default:Te(v.email,h,"internal-error")}let S=null;return v.mfaInfo&&(S=ua._fromServerResponse(Bn(h),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:S},operation:T}})).apply(this,arguments)}function fa(){return(fa=(0,g.Z)(function*(m,d){const{data:h}=yield hu((0,P.m9)(m),d);return h.email})).apply(this,arguments)}function pa(){return(pa=(0,g.Z)(function*(m,d,h){const v=Bn(m),T=yield ta(v,{returnSecureToken:!0,email:d,password:h}),S=yield Ke._fromIdTokenResponse(v,"signIn",T);return yield v._updateCurrentUser(S.user),S})).apply(this,arguments)}function nn(){return(nn=(0,g.Z)(function*(m,d,h){const v=(0,P.m9)(m),T={requestType:"EMAIL_SIGNIN",email:d};Te(h.handleCodeInApp,v,"argument-error"),h&&cu(v,T,h),yield nu(v,T)})).apply(this,arguments)}function Do(){return(Do=(0,g.Z)(function*(m,d,h){const v=(0,P.m9)(m),T=Ys.credentialWithLink(d,h||ot());return Te(T._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),wc(v,T)})).apply(this,arguments)}function Oh(m,d){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,g.Z)(function*(m,d){return pt(m,"POST","/v1/accounts:createAuthUri",Ht(m,d))})).apply(this,arguments)}function Ph(){return(Ph=(0,g.Z)(function*(m,d){const v={identifier:d,continueUri:lt()?ot():"http://localhost"},{signinMethods:T}=yield Oh((0,P.m9)(m),v);return T||[]})).apply(this,arguments)}function Cs(){return(Cs=(0,g.Z)(function*(m,d){const h=(0,P.m9)(m),T={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};d&&cu(h.auth,T,d);const{email:S}=yield Up(h.auth,T);S!==m.email&&(yield m.reload())})).apply(this,arguments)}function ga(){return(ga=(0,g.Z)(function*(m,d,h){const v=(0,P.m9)(m),S={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:d};h&&cu(v.auth,S,h);const{email:U}=yield gc(v.auth,S);U!==m.email&&(yield m.reload())})).apply(this,arguments)}function ed(m,d){return bc.apply(this,arguments)}function bc(){return(bc=(0,g.Z)(function*(m,d){return pt(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function an(){return(an=(0,g.Z)(function*(m,{displayName:d,photoURL:h}){if(void 0===d&&void 0===h)return;const v=(0,P.m9)(m),S={idToken:yield v.getIdToken(),displayName:d,photoUrl:h,returnSecureToken:!0},U=yield tn(v,ed(v.auth,S));v.displayName=U.displayName||null,v.photoURL=U.photoUrl||null;const Q=v.providerData.find(({providerId:Me})=>"password"===Me);Q&&(Q.displayName=v.displayName,Q.photoURL=v.photoURL),yield v._updateTokensIfNecessary(U)})).apply(this,arguments)}function Nh(m,d,h){return bo.apply(this,arguments)}function bo(){return(bo=(0,g.Z)(function*(m,d,h){const{auth:v}=m,S={idToken:yield m.getIdToken(),returnSecureToken:!0};d&&(S.email=d),h&&(S.password=h);const U=yield tn(m,xh(v,S));yield m._updateTokensIfNecessary(U,!0)})).apply(this,arguments)}class ya{constructor(d,h,v={}){this.isNewUser=d,this.providerId=h,this.profile=v}}class Tc extends ya{constructor(d,h,v,T){super(d,h,v),this.username=T}}class qp extends ya{constructor(d,h){super(d,"facebook.com",h)}}class Ym extends Tc{constructor(d,h){super(d,"github.com",h,"string"==typeof(null==h?void 0:h.login)?null==h?void 0:h.login:null)}}class hn extends ya{constructor(d,h){super(d,"google.com",h)}}class To extends Tc{constructor(d,h,v){super(d,"twitter.com",h,v)}}function et(m){const{user:d,_tokenResponse:h}=m;return d.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function(m){var d,h;if(!m)return null;const{providerId:v}=m,T=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},S=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!v&&(null==m?void 0:m.idToken)){const U=null===(h=null===(d=Zs(m.idToken))||void 0===d?void 0:d.firebase)||void 0===h?void 0:h.sign_in_provider;if(U)return new ya(S,"anonymous"!==U&&"custom"!==U?U:null)}if(!v)return null;switch(v){case"facebook.com":return new qp(S,T);case"github.com":return new Ym(S,T);case"google.com":return new hn(S,T);case"twitter.com":return new To(S,T,m.screenName||null);case"custom":case"anonymous":return new ya(S,null);default:return new ya(S,v,T)}}(h)}class As{constructor(d,h){this.type=d,this.credential=h}static _fromIdtoken(d){return new As("enroll",d)}static _fromMfaPendingCredential(d){return new As("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var h,v;if(null==d?void 0:d.multiFactorSession){if(null===(h=d.multiFactorSession)||void 0===h?void 0:h.pendingCredential)return As._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(v=d.multiFactorSession)||void 0===v?void 0:v.idToken)return As._fromIdtoken(d.multiFactorSession.idToken)}return null}}class es{constructor(d,h,v){this.session=d,this.hints=h,this.signInResolver=v}static _fromError(d,h){const v=Bn(d),T=h.customData._serverResponse,S=(T.mfaInfo||[]).map(Q=>ua._fromServerResponse(v,Q));Te(T.mfaPendingCredential,v,"internal-error");const U=As._fromMfaPendingCredential(T.mfaPendingCredential);return new es(U,S,function(){var Q=(0,g.Z)(function*(Me){const Se=yield Me._process(v,U);delete T.mfaInfo,delete T.mfaPendingCredential;const Ye=Object.assign(Object.assign({},T),{idToken:Se.idToken,refreshToken:Se.refreshToken});switch(h.operationType){case"signIn":const Je=yield Ke._fromIdTokenResponse(v,h.operationType,Ye);return yield v._updateCurrentUser(Je.user),Je;case"reauthenticate":return Te(h.user,v,"internal-error"),Ke._forOperation(h.user,h.operationType,Ye);default:Rt(v,"internal-error")}});return function(Me){return Q.apply(this,arguments)}}())}resolveSignIn(d){var h=this;return(0,g.Z)(function*(){return h.signInResolver(d)})()}}function kh(m,d){return pt(m,"POST","/v2/accounts/mfaEnrollment:start",Ht(m,d))}class wa{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(v=>ua._fromServerResponse(d.auth,v)))})}static _fromUser(d){return new wa(d)}getSession(){var d=this;return(0,g.Z)(function*(){return As._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,h){var v=this;return(0,g.Z)(function*(){const T=d,S=yield v.getSession(),U=yield tn(v.user,T._process(v.user.auth,S,h));return yield v.user._updateTokensIfNecessary(U),v.user.reload()})()}unenroll(d){var h=this;return(0,g.Z)(function*(){const v="string"==typeof d?d:d.uid,T=yield h.user.getIdToken(),S=yield tn(h.user,function(m,d){return pt(m,"POST","/v2/accounts/mfaEnrollment:withdraw",Ht(m,d))}(h.user.auth,{idToken:T,mfaEnrollmentId:v}));h.enrolledFactors=h.enrolledFactors.filter(({uid:U})=>U!==v),yield h.user._updateTokensIfNecessary(S);try{yield h.user.reload()}catch(U){if("auth/user-token-expired"!==U.code)throw U}})()}}const Pn=new WeakMap,ts="__sak";class nd{constructor(d,h){this.storageRetriever=d,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(ts,"1"),this.storage.removeItem(ts),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,h){return this.storage.setItem(d,JSON.stringify(h)),Promise.resolve()}_get(d){const h=this.storage.getItem(d);return Promise.resolve(h?JSON.parse(h):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ea=(()=>{class m extends nd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,v)=>this.onStorageEvent(h,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const m=(0,P.z$)();return mt(m)||Ki(m)}()&&function(){try{return!(!window||window===window.top)}catch(m){return!1}}(),this.fallbackToPolling=yo(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const v of Object.keys(this.listeners)){const T=this.storage.getItem(v),S=this.localCache[v];T!==S&&h(v,S,T)}}onStorageEvent(h,v=!1){if(!h.key)return void this.forAllChangedKeys((Q,Me,Se)=>{this.notifyListeners(Q,Se)});const T=h.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Q=this.storage.getItem(T);if(h.newValue!==Q)null!==h.newValue?this.storage.setItem(T,h.newValue):this.storage.removeItem(T);else if(this.localCache[T]===h.newValue&&!v)return}const S=()=>{const Q=this.storage.getItem(T);!v&&this.localCache[T]===Q||this.notifyListeners(T,Q)},U=this.storage.getItem(T);(0,P.w1)()&&10===document.documentMode&&U!==h.newValue&&h.newValue!==h.oldValue?setTimeout(S,10):S()}notifyListeners(h,v){this.localCache[h]=v;const T=this.listeners[h];if(T)for(const S of Array.from(T))S(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,v,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:v,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(v)}_removeListener(h,v){this.listeners[h]&&(this.listeners[h].delete(v),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,v){var T=()=>super._set,S=this;return(0,g.Z)(function*(){yield T().call(S,h,v),S.localCache[h]=JSON.stringify(v)})()}_get(h){var v=()=>super._get,T=this;return(0,g.Z)(function*(){const S=yield v().call(T,h);return T.localCache[h]=JSON.stringify(S),S})()}_remove(h){var v=()=>super._remove,T=this;return(0,g.Z)(function*(){yield v().call(T,h),delete T.localCache[h]})()}}return m.type="LOCAL",m})(),Zn=(()=>{class m extends nd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,v){}_removeListener(h,v){}}return m.type="SESSION",m})();let Ia=(()=>{class m{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const v=this.receivers.find(S=>S.isListeningto(h));if(v)return v;const T=new m(h);return this.receivers.push(T),T}isListeningto(h){return this.eventTarget===h}handleEvent(h){var v=this;return(0,g.Z)(function*(){const T=h,{eventId:S,eventType:U,data:Q}=T.data,Me=v.handlersMap[U];if(!(null==Me?void 0:Me.size))return;T.ports[0].postMessage({status:"ack",eventId:S,eventType:U});const Se=Array.from(Me).map(function(){var Je=(0,g.Z)(function*(Ot){return Ot(T.origin,Q)});return function(Ot){return Je.apply(this,arguments)}}()),Ye=yield function(m){return Promise.all(m.map(function(){var d=(0,g.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(v){return{fulfilled:!1,reason:v}}});return function(h){return d.apply(this,arguments)}}()))}(Se);T.ports[0].postMessage({status:"done",eventId:S,eventType:U,response:Ye})})()}_subscribe(h,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(v)}_unsubscribe(h,v){this.handlersMap[h]&&v&&this.handlersMap[h].delete(v),(!v||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function ro(m="",d=10){let h="";for(let v=0;v<d;v++)h+=Math.floor(10*Math.random());return m+h}class Cr{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,h,v=50){var T=this;return(0,g.Z)(function*(){const S="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!S)throw new Error("connection_unavailable");let U,Q;return new Promise((Me,Se)=>{const Ye=ro("",20);S.port1.start();const Je=setTimeout(()=>{Se(new Error("unsupported_event"))},v);Q={messageChannel:S,onMessage(Ot){const pn=Ot;if(pn.data.eventId===Ye)switch(pn.data.status){case"ack":clearTimeout(Je),U=setTimeout(()=>{Se(new Error("timeout"))},3e3);break;case"done":clearTimeout(U),Me(pn.data.response);break;default:clearTimeout(Je),clearTimeout(U),Se(new Error("invalid_response"))}}},T.handlers.add(Q),S.port1.addEventListener("message",Q.onMessage),T.target.postMessage({eventType:d,eventId:Ye,data:h},[S.port2])}).finally(()=>{Q&&T.removeMessageHandler(Q)})})()}}function un(){return window}function Nn(){return void 0!==un().WorkerGlobalScope&&"function"==typeof un().importScripts}function pi(){return(pi=(0,g.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(m){return null}})).apply(this,arguments)}const Hr="firebaseLocalStorageDb",rn="firebaseLocalStorage",Fh="fbase_key";class ns{constructor(d){this.request=d}toPromise(){return new Promise((d,h)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function Qt(m,d){return m.transaction([rn],d?"readwrite":"readonly").objectStore(rn)}function Uh(){const m=indexedDB.open(Hr,1);return new Promise((d,h)=>{m.addEventListener("error",()=>{h(m.error)}),m.addEventListener("upgradeneeded",()=>{const v=m.result;try{v.createObjectStore(rn,{keyPath:Fh})}catch(T){h(T)}}),m.addEventListener("success",(0,g.Z)(function*(){const v=m.result;v.objectStoreNames.contains(rn)?d(v):(v.close(),yield function(){const m=indexedDB.deleteDatabase(Hr);return new ns(m).toPromise()}(),d(yield Uh()))}))})}function Vh(m,d,h){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,g.Z)(function*(m,d,h){const v=Qt(m,!0).put({[Fh]:d,value:h});return new ns(v).toPromise()})).apply(this,arguments)}function Ar(){return(Ar=(0,g.Z)(function*(m,d){const h=Qt(m,!1).get(d),v=yield new ns(h).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function rd(m,d){const h=Qt(m,!0).delete(d);return new ns(h).toPromise()}const Ms=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,g.Z)(function*(){return h.db||(h.db=yield Uh()),h.db})()}_withRetries(h){var v=this;return(0,g.Z)(function*(){let T=0;for(;;)try{const S=yield v._openDb();return yield h(S)}catch(S){if(T++>3)throw S;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,g.Z)(function*(){return Nn()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,g.Z)(function*(){h.receiver=Ia._getInstance(Nn()?self:null),h.receiver._subscribe("keyChanged",function(){var v=(0,g.Z)(function*(T,S){return{keyProcessed:(yield h._poll()).includes(S.key)}});return function(T,S){return v.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var v=(0,g.Z)(function*(T,S){return["keyChanged"]});return function(T,S){return v.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,g.Z)(function*(){var v,T;if(h.activeServiceWorker=yield function(){return pi.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new Cr(h.activeServiceWorker);const S=yield h.sender._send("ping",{},800);!S||(null===(v=S[0])||void 0===v?void 0:v.fulfilled)&&(null===(T=S[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var v=this;return(0,g.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function(){var m;return(null===(m=null==navigator?void 0:navigator.serviceWorker)||void 0===m?void 0:m.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:h},v.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const h=yield Uh();return yield Vh(h,ts,"1"),yield rd(h,ts),!0}catch(h){}return!1})()}_withPendingWrite(h){var v=this;return(0,g.Z)(function*(){v.pendingWrites++;try{yield h()}finally{v.pendingWrites--}})()}_set(h,v){var T=this;return(0,g.Z)(function*(){return T._withPendingWrite((0,g.Z)(function*(){return yield T._withRetries(S=>Vh(S,h,v)),T.localCache[h]=v,T.notifyServiceWorker(h)}))})()}_get(h){var v=this;return(0,g.Z)(function*(){const T=yield v._withRetries(S=>function(m,d){return Ar.apply(this,arguments)}(S,h));return v.localCache[h]=T,T})()}_remove(h){var v=this;return(0,g.Z)(function*(){return v._withPendingWrite((0,g.Z)(function*(){return yield v._withRetries(T=>rd(T,h)),delete v.localCache[h],v.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,g.Z)(function*(){const v=yield h._withRetries(U=>{const Q=Qt(U,!1).getAll();return new ns(Q).toPromise()});if(!v)return[];if(0!==h.pendingWrites)return[];const T=[],S=new Set;for(const{fbase_key:U,value:Q}of v)S.add(U),JSON.stringify(h.localCache[U])!==JSON.stringify(Q)&&(h.notifyListeners(U,Q),T.push(U));for(const U of Object.keys(h.localCache))h.localCache[U]&&!S.has(U)&&(h.notifyListeners(U,null),T.push(U));return T})()}notifyListeners(h,v){this.localCache[h]=v;const T=this.listeners[h];if(T)for(const S of Array.from(T))S(v)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(v)}_removeListener(h,v){this.listeners[h]&&(this.listeners[h].delete(v),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function ba(m,d){return pt(m,"POST","/v2/accounts/mfaSignIn:start",Ht(m,d))}function qr(){return(qr=(0,g.Z)(function*(m){return(yield pt(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xc(m){return new Promise((d,h)=>{const v=document.createElement("script");v.setAttribute("src",m),v.onload=d,v.onerror=T=>{const S=gn("internal-error");S.customData=T,h(S)},v.type="text/javascript",v.charset="UTF-8",function(){var m,d;return null!==(d=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==d?d:document}().appendChild(v)})}function xo(m){return`__${m}${Math.floor(1e6*Math.random())}`}const Ta=1e12;class Mc{constructor(d){this.auth=d,this.counter=Ta,this._widgets=new Map}render(d,h){const v=this.counter;return this._widgets.set(v,new $h(d,this.auth.name,h||{})),this.counter++,v}reset(d){var h;const v=d||Ta;null===(h=this._widgets.get(v))||void 0===h||h.delete(),this._widgets.delete(v)}getResponse(d){var h;return(null===(h=this._widgets.get(d||Ta))||void 0===h?void 0:h.getResponse())||""}execute(d){var h=this;return(0,g.Z)(function*(){var v;return null===(v=h._widgets.get(d||Ta))||void 0===v||v.execute(),""})()}}class $h{constructor(d,h,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof d?document.getElementById(d):d;Te(T,"argument-error",{appName:h}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(m){const d=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<50;v++)d.push(h.charAt(Math.floor(Math.random()*h.length)));return d.join("")}();const{callback:d,"expired-callback":h}=this.params;if(d)try{d(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const yt=xo("rcb"),pr=new jt(3e4,6e4);class Ro{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!un().grecaptcha}load(d,h=""){return Te((m=h).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m),d,"argument-error"),this.shouldResolveImmediately(h)?Promise.resolve(un().grecaptcha):new Promise((v,T)=>{const S=un().setTimeout(()=>{T(gn(d,"network-request-failed"))},pr.get());un()[yt]=()=>{un().clearTimeout(S),delete un()[yt];const Q=un().grecaptcha;if(!Q)return void T(gn(d,"internal-error"));const Me=Q.render;Q.render=(Se,Ye)=>{const Je=Me(Se,Ye);return this.counter++,Je},this.hostLanguage=h,v(Q)},xc(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:yt,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(S),T(gn(d,"internal-error"))})});var m}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){return!!un().grecaptcha&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qh{load(d){return(0,g.Z)(function*(){return new Mc(d)})()}clearedOneInstance(){}}const od="recaptcha",Zh={theme:"light",type:"image"};class gr{constructor(d,h=Object.assign({},Zh),v){this.parameters=h,this.type=od,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Bn(v),this.isInvisible="invisible"===this.parameters.size,Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof d?document.getElementById(d):d;Te(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qh:new Ro,this.validateStartingState()}verify(){var d=this;return(0,g.Z)(function*(){d.assertNotDestroyed();const h=yield d.render(),v=d.getAssertedRecaptcha();return v.getResponse(h)||new Promise(S=>{const U=Q=>{!Q||(d.tokenChangeListeners.delete(U),S(Q))};d.tokenChangeListeners.add(U),d.isInvisible&&v.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){Te(!this.parameters.sitekey,this.auth,"argument-error"),Te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return h=>{if(this.tokenChangeListeners.forEach(v=>v(h)),"function"==typeof d)d(h);else if("string"==typeof d){const v=un()[d];"function"==typeof v&&v(h)}}}assertNotDestroyed(){Te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,g.Z)(function*(){if(yield d.init(),!d.widgetId){let h=d.container;if(!d.isInvisible){const v=document.createElement("div");h.appendChild(v),h=v}d.widgetId=d.getAssertedRecaptcha().render(h,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,g.Z)(function*(){Te(lt()&&!Nn(),d.auth,"internal-error"),yield function(){let m=null;return new Promise(d=>{"complete"!==document.readyState?(m=()=>d(),window.addEventListener("load",m)):d()}).catch(d=>{throw m&&window.removeEventListener("load",m),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const h=yield function(m){return qr.apply(this,arguments)}(d.auth);Te(h,d.auth,"internal-error"),d.parameters.sitekey=h})()}getAssertedRecaptcha(){return Te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _u{constructor(d,h){this.verificationId=d,this.onConfirmation=h}confirm(d){const h=Ws._fromVerification(this.verificationId,d);return this.onConfirmation(h)}}function Pi(){return(Pi=(0,g.Z)(function*(m,d,h){const v=Bn(m),T=yield rs(v,d,(0,P.m9)(h));return new _u(T,S=>wc(v,S))})).apply(this,arguments)}function Gn(){return(Gn=(0,g.Z)(function*(m,d,h){const v=(0,P.m9)(m);yield ln(!1,v,"phone");const T=yield rs(v.auth,d,(0,P.m9)(h));return new _u(T,S=>sa(v,S))})).apply(this,arguments)}function wu(){return(wu=(0,g.Z)(function*(m,d,h){const v=(0,P.m9)(m),T=yield rs(v.auth,d,(0,P.m9)(h));return new _u(T,S=>qn(v,S))})).apply(this,arguments)}function rs(m,d,h){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,g.Z)(function*(m,d,h){var v;const T=yield h.verify();try{let S;if(Te("string"==typeof T,m,"argument-error"),Te(h.type===od,m,"argument-error"),S="string"==typeof d?{phoneNumber:d}:d,"session"in S){const U=S.session;if("phoneNumber"in S)return Te("enroll"===U.type,m,"internal-error"),(yield kh(m,{idToken:U.credential,phoneEnrollmentInfo:{phoneNumber:S.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{Te("signin"===U.type,m,"internal-error");const Q=(null===(v=S.multiFactorHint)||void 0===v?void 0:v.uid)||S.multiFactorUid;return Te(Q,m,"missing-multi-factor-info"),(yield ba(m,{mfaPendingCredential:U.credential,mfaEnrollmentId:Q,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:U}=yield Qi(m,{phoneNumber:S.phoneNumber,recaptchaToken:T});return U}}finally{h._reset()}})).apply(this,arguments)}function Nc(){return(Nc=(0,g.Z)(function*(m,d){yield Ct((0,P.m9)(m),d)})).apply(this,arguments)}let D=(()=>{class m{constructor(h){this.providerId=m.PROVIDER_ID,this.auth=Bn(h)}verifyPhoneNumber(h,v){return rs(this.auth,h,(0,P.m9)(v))}static credential(h,v){return Ws._fromVerification(h,v)}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:v,temporaryProof:T}=h;return v&&T?Ws._fromTokenResponse(v,T):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function b(m,d){return d?kt(d):(Te(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class M extends _o{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Es(d,this._buildIdpRequest())}_linkToIdToken(d,h){return Es(d,this._buildIdpRequest(h))}_getReauthenticationResolver(d){return Es(d,this._buildIdpRequest())}_buildIdpRequest(d){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(h.idToken=d),h}}function L(m){return uu(m.auth,new M(m),m.bypassAuthState)}function Z(m){const{auth:d,user:h}=m;return Te(h,d,"internal-error"),Ds(h,new M(m),m.bypassAuthState)}function q(m){return be.apply(this,arguments)}function be(){return(be=(0,g.Z)(function*(m){const{auth:d,user:h}=m;return Te(h,d,"internal-error"),Ct(h,new M(m),m.bypassAuthState)})).apply(this,arguments)}class We{constructor(d,h,v,T,S=!1){this.auth=d,this.resolver=v,this.user=T,this.bypassAuthState=S,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var d=this;return new Promise(function(){var h=(0,g.Z)(function*(v,T){d.pendingPromise={resolve:v,reject:T};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(S){d.reject(S)}});return function(v,T){return h.apply(this,arguments)}}())}onAuthEvent(d){var h=this;return(0,g.Z)(function*(){const{urlResponse:v,sessionId:T,postBody:S,tenantId:U,error:Q,type:Me}=d;if(Q)return void h.reject(Q);const Se={auth:h.auth,requestUri:v,sessionId:T,tenantId:U||void 0,postBody:S||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(Me)(Se))}catch(Ye){h.reject(Ye)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return L;case"linkViaPopup":case"linkViaRedirect":return q;case"reauthViaPopup":case"reauthViaRedirect":return Z;default:Rt(this.auth,"internal-error")}}resolve(d){Rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ve=new jt(2e3,1e4);function Gt(){return(Gt=(0,g.Z)(function*(m,d,h){const v=Bn(m);ni(m,d,br);const T=b(v,h);return new so(v,"signInViaPopup",d,T).executeNotNull()})).apply(this,arguments)}function Mr(){return(Mr=(0,g.Z)(function*(m,d,h){const v=(0,P.m9)(m);ni(v.auth,d,br);const T=b(v.auth,h);return new so(v.auth,"reauthViaPopup",d,T,v).executeNotNull()})).apply(this,arguments)}function rr(){return(rr=(0,g.Z)(function*(m,d,h){const v=(0,P.m9)(m);ni(v.auth,d,br);const T=b(v.auth,h);return new so(v.auth,"linkViaPopup",d,T,v).executeNotNull()})).apply(this,arguments)}let so=(()=>{class m extends We{constructor(h,v,T,S,U){super(h,v,S,U),this.provider=T,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var h=this;return(0,g.Z)(function*(){const v=yield h.execute();return Te(v,h.auth,"internal-error"),v})()}onExecution(){var h=this;return(0,g.Z)(function*(){Rn(1===h.filter.length,"Popup operations only handle one event");const v=ro();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],v),h.authWindow.associatedEvent=v,h.resolver._originValidation(h.auth).catch(T=>{h.reject(T)}),h.resolver._isIframeWebStorageSupported(h.auth,T=>{T||h.reject(gn(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const h=()=>{var v,T;this.pollId=(null===(T=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(gn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(h,Ve.get())};h()}}return m.currentPopupAction=null,m})();const Ni=new Map;class is extends We{constructor(d,h,v=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,v),this.eventId=null}execute(){var d=()=>super.execute,h=this;return(0,g.Z)(function*(){let v=Ni.get(h.auth._key());if(!v){try{const S=(yield function(m,d){return Ca.apply(this,arguments)}(h.resolver,h.auth))?yield d().call(h):null;v=()=>Promise.resolve(S)}catch(T){v=()=>Promise.reject(T)}Ni.set(h.auth._key(),v)}return h.bypassAuthState||Ni.set(h.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(d){var h=()=>super.onAuthEvent,v=this;return(0,g.Z)(function*(){if("signInViaRedirect"===d.type)return h().call(v,d);if("unknown"!==d.type){if(d.eventId){const T=yield v.auth._redirectUserForId(d.eventId);if(T)return v.user=T,h().call(v,d);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function Ca(){return(Ca=(0,g.Z)(function*(m,d){const h=ao(d),v=Aa(m);if(!(yield v._isAvailable()))return!1;const T="true"===(yield v._get(h));return yield v._remove(h),T})).apply(this,arguments)}function kc(m,d){return zh.apply(this,arguments)}function zh(){return(zh=(0,g.Z)(function*(m,d){return Aa(m)._set(ao(d),"true")})).apply(this,arguments)}function Aa(m){return kt(m._redirectPersistence)}function ao(m){return Hn("pendingRedirect",m.config.apiKey,m.name)}function ad(){return(ad=(0,g.Z)(function*(m,d,h){const v=Bn(m);ni(m,d,br);const T=b(v,h);return yield kc(T,v),T._openRedirect(v,d,"signInViaRedirect")})).apply(this,arguments)}function ud(){return(ud=(0,g.Z)(function*(m,d,h){const v=(0,P.m9)(m);ni(v.auth,d,br);const T=b(v.auth,h);yield kc(T,v.auth);const S=yield Iu(v);return T._openRedirect(v.auth,d,"reauthViaRedirect",S)})).apply(this,arguments)}function Qr(){return(Qr=(0,g.Z)(function*(m,d,h){const v=(0,P.m9)(m);ni(v.auth,d,br);const T=b(v.auth,h);yield ln(!1,v,d.providerId),yield kc(T,v.auth);const S=yield Iu(v);return T._openRedirect(v.auth,d,"linkViaRedirect",S)})).apply(this,arguments)}function uo(){return(uo=(0,g.Z)(function*(m,d){return yield Bn(m)._initializationPromise,Lc(m,d,!1)})).apply(this,arguments)}function Lc(m,d){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,g.Z)(function*(m,d,h=!1){const v=Bn(m),T=b(v,d),U=yield new is(v,T,h).execute();return U&&!h&&(delete U.user._redirectEventId,yield v._persistUserIfCurrent(U.user),yield v._setRedirectUser(null,d)),U})).apply(this,arguments)}function Iu(m){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,g.Z)(function*(m){const d=ro(`${m.uid}:::`);return m._redirectEventId=d,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),d})).apply(this,arguments)}class Du{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let h=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(d,v)&&(h=!0,this.sendToConsumer(d,v),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fc(m);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=d,h=!0)),h}sendToConsumer(d,h){var v;if(d.error&&!Fc(d)){const T=(null===(v=d.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";h.onError(gn(this.auth,T))}else h.onAuthEvent(d)}isEventForConsumer(d,h){const v=null===h.eventId||!!d.eventId&&d.eventId===h.eventId;return h.filter.includes(d.type)&&v}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cd(d))}saveEventToCache(d){this.cachedEventUids.add(cd(d)),this.lastProcessedEventTime=Date.now()}}function cd(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(d=>d).join("-")}function Fc({type:m,error:d}){return"unknown"===m&&"auth/no-auth-event"===(null==d?void 0:d.code)}function ld(m){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,g.Z)(function*(m,d={}){return pt(m,"GET","/v1/projects",d)})).apply(this,arguments)}const ey=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vc=/^https?/;function Rs(){return(Rs=(0,g.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:d}=yield ld(m);for(const h of d)try{if(Bc(h))return}catch(v){}Rt(m,"unauthorized-domain")})).apply(this,arguments)}function Bc(m){const d=ot(),{protocol:h,hostname:v}=new URL(d);if(m.startsWith("chrome-extension://")){const U=new URL(m);return""===U.hostname&&""===v?"chrome-extension:"===h&&m.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===h&&U.hostname===v}if(!Vc.test(h))return!1;if(ey.test(m))return v===m;const T=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(v)}const dd=new jt(3e4,6e4);function jc(){const m=un().___jsl;if(null==m?void 0:m.H)for(const d of Object.keys(m.H))if(m.H[d].r=m.H[d].r||[],m.H[d].L=m.H[d].L||[],m.H[d].r=[...m.H[d].L],m.CP)for(let h=0;h<m.CP.length;h++)m.CP[h]=null}let hd=null;function ny(m){return hd=hd||function(m){return new Promise((d,h)=>{var v,T,S;function U(){jc(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{jc(),h(gn(m,"network-request-failed"))},timeout:dd.get()})}if(null===(T=null===(v=un().gapi)||void 0===v?void 0:v.iframes)||void 0===T?void 0:T.Iframe)d(gapi.iframes.getContext());else{if(!(null===(S=un().gapi)||void 0===S?void 0:S.load)){const Q=xo("iframefcb");return un()[Q]=()=>{gapi.load?U():h(gn(m,"network-request-failed"))},xc(`https://apis.google.com/js/api.js?onload=${Q}`).catch(Me=>h(Me))}U()}}).catch(d=>{throw hd=null,d})}(m),hd}const r0=new jt(5e3,15e3),iy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wp(m){const d=m.config;Te(d.authDomain,m,"auth-domain-config-required");const h=d.emulator?Ge(d,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,v={apiKey:d.apiKey,appName:m.name,v:oe.SDK_VERSION},T=sy.get(m.config.apiHost);T&&(v.eid=T);const S=m._getFrameworks();return S.length&&(v.fw=S.join(",")),`${h}?${(0,P.xO)(v).slice(1)}`}function ef(){return ef=(0,g.Z)(function*(m){const d=yield ny(m),h=un().gapi;return Te(h,m,"internal-error"),d.open({where:document.body,url:Wp(m),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iy,dontclear:!0},v=>new Promise(function(){var T=(0,g.Z)(function*(S,U){yield v.restyle({setHideOnLeave:!1});const Q=gn(m,"network-request-failed"),Me=un().setTimeout(()=>{U(Q)},r0.get());function Se(){un().clearTimeout(Me),S(v)}v.ping(Se).then(Se,()=>{U(Q)})});return function(S,U){return T.apply(this,arguments)}}()))}),ef.apply(this,arguments)}const bu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class tf{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function os(m,d,h,v,T,S){Te(m.config.authDomain,m,"auth-domain-config-required"),Te(m.config.apiKey,m,"invalid-api-key");const U={apiKey:m.config.apiKey,appName:m.name,authType:h,redirectUrl:v,v:oe.SDK_VERSION,eventId:T};if(d instanceof br){d.setDefaultLanguage(m.languageCode),U.providerId=d.providerId||"",(0,P.xb)(d.getCustomParameters())||(U.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Me,Se]of Object.entries(S||{}))U[Me]=Se}if(d instanceof ci){const Me=d.getScopes().filter(Se=>""!==Se);Me.length>0&&(U.scopes=Me.join(","))}m.tenantId&&(U.tid=m.tenantId);const Q=U;for(const Me of Object.keys(Q))void 0===Q[Me]&&delete Q[Me];return`${function({config:m}){return m.emulator?Ge(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,P.xO)(Q).slice(1)}`}const $c="webStorageSupport";class Ma extends class{constructor(d){this.factorId=d}_process(d,h,v){switch(h.type){case"enroll":return this._finalizeEnroll(d,h.credential,v);case"signin":return this._finalizeSignIn(d,h.credential);default:return $n("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Ma(d)}_finalizeEnroll(d,h,v){return function(m,d){return pt(m,"POST","/v2/accounts/mfaEnrollment:finalize",Ht(m,d))}(d,{idToken:h,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,h){return function(m,d){return pt(m,"POST","/v2/accounts/mfaSignIn:finalize",Ht(m,d))}(d,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ay=(()=>{class m{constructor(){}static assertion(h){return Ma._fromCredential(h)}}return m.FACTOR_ID="phone",m})();var m,Au="@firebase/auth";class Xp{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var h=this;return(0,g.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const h=this.auth.onIdTokenChanged(v=>{var T;d((null===(T=v)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,h),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const h=this.internalListeners.get(d);!h||(this.internalListeners.delete(d),h(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ra(){return window}function gd(){return gd=(0,g.Z)(function*(m,d,h){var v;const{BuildInfo:T}=Ra();Rn(d.sessionId,"AuthEvent did not contain a session ID");const S=yield ly(d.sessionId),U={};return Ki()?U.ibi=T.packageName:zs()?U.apn=T.packageName:Rt(m,"operation-not-supported-in-this-environment"),T.displayName&&(U.appDisplayName=T.displayName),U.sessionId=S,os(m,h,d.type,void 0,null!==(v=d.eventId)&&void 0!==v?v:void 0,U)}),gd.apply(this,arguments)}function Oa(){return Oa=(0,g.Z)(function*(m){const{BuildInfo:d}=Ra(),h={};Ki()?h.iosBundleId=d.packageName:zs()?h.androidPackageName=d.packageName:Rt(m,"operation-not-supported-in-this-environment"),yield ld(m,h)}),Oa.apply(this,arguments)}function rf(){return rf=(0,g.Z)(function*(m,d,h){const{cordova:v}=Ra();let T=()=>{};try{yield new Promise((S,U)=>{let Q=null;function Me(){var Je;S();const Ot=null===(Je=v.plugins.browsertab)||void 0===Je?void 0:Je.close;"function"==typeof Ot&&Ot(),"function"==typeof(null==h?void 0:h.close)&&h.close()}function Se(){Q||(Q=window.setTimeout(()=>{U(gn(m,"redirect-cancelled-by-user"))},2e3))}function Ye(){"visible"===(null==document?void 0:document.visibilityState)&&Se()}d.addPassiveListener(Me),document.addEventListener("resume",Se,!1),zs()&&document.addEventListener("visibilitychange",Ye,!1),T=()=>{d.removePassiveListener(Me),document.removeEventListener("resume",Se,!1),document.removeEventListener("visibilitychange",Ye,!1),Q&&window.clearTimeout(Q)}})}finally{T()}}),rf.apply(this,arguments)}function ly(m){return qc.apply(this,arguments)}function qc(){return qc=(0,g.Z)(function*(m){const d=dy(m),h=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(h)).map(T=>T.toString(16).padStart(2,"0")).join("")}),qc.apply(this,arguments)}function dy(m){if(Rn(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(m);const d=new ArrayBuffer(m.length),h=new Uint8Array(d);for(let v=0;v<m.length;v++)h[v]=m.charCodeAt(v);return h}m="Browser",(0,oe._registerComponent)(new le.wA("auth",(d,{options:h})=>{const v=d.getProvider("app").getImmediate(),{apiKey:T,authDomain:S}=v.options;return(U=>{Te(T&&!T.includes(":"),"invalid-api-key",{appName:U.name}),Te(!(null==S?void 0:S.includes(":")),"argument-error",{appName:U.name});const Q={apiKey:T,authDomain:S,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oi(m)},Me=new ai(U,Q);return function(m,d){const h=(null==d?void 0:d.persistence)||[],v=(Array.isArray(h)?h:[h]).map(kt);(null==d?void 0:d.errorMap)&&m._updateErrorMap(d.errorMap),m._initializeWithPersistence(v,null==d?void 0:d.popupRedirectResolver)}(Me,h),Me})(v)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,h,v)=>{d.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new le.wA("auth-internal",d=>{const h=Bn(d.getProvider("auth").getImmediate());return new Xp(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(Au,"0.19.4",void 0),(0,oe.registerVersion)(Au,"0.19.4","esm2017");class zn extends Du{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(h=>h(d)),super.onEvent(d)}initialized(){var d=this;return(0,g.Z)(function*(){yield d.initPromise})()}}function vd(m){return ir.apply(this,arguments)}function ir(){return ir=(0,g.Z)(function*(m){const d=yield of()._get(af(m));return d&&(yield of()._remove(af(m))),d}),ir.apply(this,arguments)}function sf(){const m=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let h=0;h<20;h++){const v=Math.floor(Math.random()*d.length);m.push(d.charAt(v))}return m.join("")}function of(){return kt(Ea)}function af(m){return Hn("authEvent",m.config.apiKey,m.name)}function xu(m){if(!(null==m?void 0:m.includes("?")))return{};const[d,...h]=m.split("?");return(0,P.zd)(h.join("?"))}function zc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:gn("no-auth-event")}}function Na(){var m;return(null===(m=null==self?void 0:self.location)||void 0===m?void 0:m.protocol)||null}function rg(m=(0,P.z$)()){return!("file:"!==Na()&&"ionic:"!==Na()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function ig(){try{const m=self.localStorage,d=ro();if(m)return m.setItem(d,"1"),m.removeItem(d),!function(m=(0,P.z$)()){return(0,P.w1)()&&11===(null==document?void 0:document.documentMode)||function(m=(0,P.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,P.hl)()}catch(m){return cf()&&(0,P.hl)()}return!1}function cf(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function lf(){return("http:"===Na()||"https:"===Na()||(0,P.ru)()||rg())&&!((0,P.b$)()||(0,P.UG)())&&ig()&&!cf()}function Id(){return rg()&&"undefined"!=typeof document}function df(){return df=(0,g.Z)(function*(){return!!Id()&&new Promise(m=>{const d=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),m(!0)})})}),df.apply(this,arguments)}const gi={LOCAL:"local",NONE:"none",SESSION:"session"},Kc=Te,hf="persistence";function og(m){return Dd.apply(this,arguments)}function Dd(){return Dd=(0,g.Z)(function*(m){yield m._initializationPromise;const d=Li(),h=Hn(hf,m.config.apiKey,m.name);(null==d?void 0:d.sessionStorage)&&d.sessionStorage.setItem(h,m._getPersistence())}),Dd.apply(this,arguments)}function Li(){return"undefined"!=typeof window?window:null}const Ey=Te;class La{constructor(){this.browserResolver=kt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zn,this._completeRedirectFn=Lc}_openPopup(d,h,v,T){var S=this;return(0,g.Z)(function*(){var U;Rn(null===(U=S.eventManagers[d._key()])||void 0===U?void 0:U.manager,"_initialize() not called before _openPopup()");const Q=os(d,h,v,ot(),T);return function(m,d,h,v=500,T=600){const S=Math.max((window.screen.availHeight-T)/2,0).toString(),U=Math.max((window.screen.availWidth-v)/2,0).toString();let Q="";const Me=Object.assign(Object.assign({},bu),{width:v.toString(),height:T.toString(),top:S,left:U}),Se=(0,P.z$)().toLowerCase();h&&(Q=Ko(Se)?"_blank":h),mo(Se)&&(d=d||"http://localhost",Me.scrollbars="yes");const Ye=Object.entries(Me).reduce((Ot,[pn,Ps])=>`${Ot}${pn}=${Ps},`,"");if(function(m=(0,P.z$)()){var d;return Ki(m)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(Se)&&"_self"!==Q)return function(m,d){const h=document.createElement("a");h.href=m,h.target=d;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(v)}(d||"",Q),new tf(null);const Je=window.open(d||"",Q,Ye);Te(Je,m,"popup-blocked");try{Je.focus()}catch(Ot){}return new tf(Je)}(d,Q,ro())})()}_openRedirect(d,h,v,T){var S=this;return(0,g.Z)(function*(){return yield S._originValidation(d),m=os(d,h,v,ot(),T),un().location.href=m,new Promise(()=>{});var m})()}_initialize(d){const h=d._key();if(this.eventManagers[h]){const{manager:T,promise:S}=this.eventManagers[h];return T?Promise.resolve(T):(Rn(S,"If manager is not set, promise should be"),S)}const v=this.initAndGetManager(d);return this.eventManagers[h]={promise:v},v.catch(()=>{delete this.eventManagers[h]}),v}initAndGetManager(d){var h=this;return(0,g.Z)(function*(){const v=yield function(m){return ef.apply(this,arguments)}(d),T=new Du(d);return v.register("authEvent",S=>(Te(null==S?void 0:S.authEvent,d,"invalid-auth-event"),{status:T.onEvent(S.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[d._key()]={manager:T},h.iframes[d._key()]=v,T})()}_isIframeWebStorageSupported(d,h){this.iframes[d._key()].send($c,{type:$c},T=>{var S;const U=null===(S=null==T?void 0:T[0])||void 0===S?void 0:S[$c];void 0!==U&&h(!!U),Rt(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function(m){return Rs.apply(this,arguments)}(d)),this.originValidationPromises[h]}get _shouldInitProactively(){return yo()||mt()||Ki()}}),this.cordovaResolver=kt(class{constructor(){this._redirectPersistence=Zn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Lc}_initialize(d){var h=this;return(0,g.Z)(function*(){const v=d._key();let T=h.eventManagers.get(v);return T||(T=new zn(d),h.eventManagers.set(v,T),h.attachCallbackListeners(d,T)),T})()}_openPopup(d){Rt(d,"operation-not-supported-in-this-environment")}_openRedirect(d,h,v,T){var S=this;return(0,g.Z)(function*(){!function(m){var d,h,v,T,S,U,Q,Me,Se,Ye;const Je=Ra();Te("function"==typeof(null===(d=null==Je?void 0:Je.universalLinks)||void 0===d?void 0:d.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Te(void 0!==(null===(h=null==Je?void 0:Je.BuildInfo)||void 0===h?void 0:h.packageName),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Te("function"==typeof(null===(S=null===(T=null===(v=null==Je?void 0:Je.cordova)||void 0===v?void 0:v.plugins)||void 0===T?void 0:T.browsertab)||void 0===S?void 0:S.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Te("function"==typeof(null===(Me=null===(Q=null===(U=null==Je?void 0:Je.cordova)||void 0===U?void 0:U.plugins)||void 0===Q?void 0:Q.browsertab)||void 0===Me?void 0:Me.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Te("function"==typeof(null===(Ye=null===(Se=null==Je?void 0:Je.cordova)||void 0===Se?void 0:Se.InAppBrowser)||void 0===Ye?void 0:Ye.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const U=yield S._initialize(d);yield U.initialized(),U.resetRedirect(),Ni.clear(),yield S._originValidation(d);const Q=function(m,d,h=null){return{type:d,eventId:h,urlResponse:null,sessionId:sf(),postBody:null,tenantId:m.tenantId,error:gn(m,"no-auth-event")}}(d,v,T);yield function(m,d){return of()._set(af(m),d)}(d,Q);const Me=yield function(m,d,h){return gd.apply(this,arguments)}(d,Q,h),Se=yield function(m){const{cordova:d}=Ra();return new Promise(h=>{d.plugins.browsertab.isAvailable(v=>{let T=null;v?d.plugins.browsertab.openUrl(m):T=d.InAppBrowser.open(m,function(m=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),h(T)})})}(Me);return function(m,d,h){return rf.apply(this,arguments)}(d,U,Se)})()}_isIframeWebStorageSupported(d,h){throw new Error("Method not implemented.")}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function(m){return Oa.apply(this,arguments)}(d)),this.originValidationPromises[h]}attachCallbackListeners(d,h){const{universalLinks:v,handleOpenURL:T,BuildInfo:S}=Ra(),U=setTimeout((0,g.Z)(function*(){yield vd(d),h.onEvent(zc())}),500),Q=function(){var Ye=(0,g.Z)(function*(Je){clearTimeout(U);const Ot=yield vd(d);let pn=null;Ot&&(null==Je?void 0:Je.url)&&(pn=function(m,d){var h,v;const T=function(m){const d=xu(m),h=d.link?decodeURIComponent(d.link):void 0,v=xu(h).link,T=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return xu(T).link||T||v||h||m}(d);if(T.includes("/__/auth/callback")){const S=xu(T),U=S.firebaseError?function(m){try{return JSON.parse(m)}catch(d){return null}}(decodeURIComponent(S.firebaseError)):null,Q=null===(v=null===(h=null==U?void 0:U.code)||void 0===h?void 0:h.split("auth/"))||void 0===v?void 0:v[1],Me=Q?gn(Q):null;return Me?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:Me,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:T,postBody:null}}return null}(Ot,Je.url)),h.onEvent(pn||zc())});return function(Ot){return Ye.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,Q);const Me=T,Se=`${S.packageName.toLowerCase()}://`;Ra().handleOpenURL=function(){var Ye=(0,g.Z)(function*(Je){if(Je.toLowerCase().startsWith(Se)&&Q({url:Je}),"function"==typeof Me)try{Me(Je)}catch(Ot){console.error(Ot)}});return function(Je){return Ye.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Zn,this._completeRedirectFn=Lc}_initialize(d){var h=this;return(0,g.Z)(function*(){return yield h.selectUnderlyingResolver(),h.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,h,v,T){var S=this;return(0,g.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openPopup(d,h,v,T)})()}_openRedirect(d,h,v,T){var S=this;return(0,g.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openRedirect(d,h,v,T)})()}_isIframeWebStorageSupported(d,h){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,h)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return Id()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ey(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,g.Z)(function*(){if(d.underlyingResolver)return;const h=yield function(){return df.apply(this,arguments)}();d.underlyingResolver=h?d.cordovaResolver:d.browserResolver})()}}function ff(m){return m.unwrap()}function Os(m){return Mu(m)}function Mu(m){const{_tokenResponse:d}=m instanceof P.ZR?m.customData:m;if(!d)return null;if(!(m instanceof P.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return D.credentialFromResult(m);const h=d.providerId;if(!h||"password"===h)return null;let v;switch(h){case"google.com":v=Qs;break;case"facebook.com":v=iu;break;case"github.com":v=Js;break;case"twitter.com":v=Tr;break;default:const{oauthIdToken:T,oauthAccessToken:S,oauthTokenSecret:U,pendingToken:Q,nonce:Me}=d;return S||U||T||Q?Q?h.startsWith("saml.")?Ji._create(h,Q):tr._fromParams({providerId:h,signInMethod:h,pendingToken:Q,idToken:T,accessToken:S}):new Cn(h).credential({idToken:T,accessToken:S,rawNonce:Me}):null}return m instanceof P.ZR?v.credentialFromError(m):v.credentialFromResult(m)}function Jr(m,d){return d.catch(h=>{throw h instanceof P.ZR&&function(m,d){var h;const v=null===(h=d.customData)||void 0===h?void 0:h._tokenResponse;if("auth/multi-factor-auth-required"===d.code)d.resolver=new Td(m,function(m,d){var h;const v=(0,P.m9)(m),T=d;return Te(d.customData.operationType,v,"argument-error"),Te(null===(h=T.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,v,"argument-error"),es._fromError(v,T)}(m,d));else if(v){const T=Mu(d),S=d;T&&(S.credential=T,S.tenantId=v.tenantId||void 0,S.email=v.email||void 0,S.phoneNumber=v.phoneNumber||void 0)}}(m,h),h}).then(h=>{const T=h.user;return{operationType:h.operationType,credential:Os(h),additionalUserInfo:et(h),user:as.getOrCreate(T)}})}function bd(m,d){return Fa.apply(this,arguments)}function Fa(){return Fa=(0,g.Z)(function*(m,d){const h=yield d;return{verificationId:h.verificationId,confirm:v=>Jr(m,h.confirm(v))}}),Fa.apply(this,arguments)}class Td{constructor(d,h){this.resolver=h,this.auth=function(m){return m.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return Jr(ff(this.auth),this.resolver.resolveSignIn(d))}}class as{constructor(d){this._delegate=d,this.multiFactor=function(m){const d=(0,P.m9)(m);return Pn.has(d)||Pn.set(d,wa._fromUser(d)),Pn.get(d)}(d)}static getOrCreate(d){return as.USER_MAP.has(d)||as.USER_MAP.set(d,new as(d)),as.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var h=this;return(0,g.Z)(function*(){return Jr(h.auth,sa(h._delegate,d))})()}linkWithPhoneNumber(d,h){var v=this;return(0,g.Z)(function*(){return bd(v.auth,function(m,d,h){return Gn.apply(this,arguments)}(v._delegate,d,h))})()}linkWithPopup(d){var h=this;return(0,g.Z)(function*(){return Jr(h.auth,function(m,d,h){return rr.apply(this,arguments)}(h._delegate,d,La))})()}linkWithRedirect(d){var h=this;return(0,g.Z)(function*(){return yield og(Bn(h.auth)),function(m,d,h){return function(m,d,h){return Qr.apply(this,arguments)}(m,d,h)}(h._delegate,d,La)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var h=this;return(0,g.Z)(function*(){return Jr(h.auth,qn(h._delegate,d))})()}reauthenticateWithPhoneNumber(d,h){return bd(this.auth,function(m,d,h){return wu.apply(this,arguments)}(this._delegate,d,h))}reauthenticateWithPopup(d){return Jr(this.auth,function(m,d,h){return Mr.apply(this,arguments)}(this._delegate,d,La))}reauthenticateWithRedirect(d){var h=this;return(0,g.Z)(function*(){return yield og(Bn(h.auth)),function(m,d,h){return function(m,d,h){return ud.apply(this,arguments)}(m,d,h)}(h._delegate,d,La)})()}sendEmailVerification(d){return function(m,d){return Cs.apply(this,arguments)}(this._delegate,d)}unlink(d){var h=this;return(0,g.Z)(function*(){return yield function(m,d){return Ie.apply(this,arguments)}(h._delegate,d),h})()}updateEmail(d){return function(m,d){return Nh((0,P.m9)(m),d,null)}(this._delegate,d)}updatePassword(d){return function(m,d){return Nh((0,P.m9)(m),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function(m,d){return Nc.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function(m,d){return an.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,h){return function(m,d,h){return ga.apply(this,arguments)}(this._delegate,d,h)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}as.USER_MAP=new WeakMap;const Ua=Te;let Cd=(()=>{class m{constructor(h,v){if(this.app=h,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=h.options;Ua(T,"invalid-api-key",{appName:h.name});let S=[cn];if("undefined"!=typeof window){S=function(m,d){const h=Li();if(!(null==h?void 0:h.sessionStorage))return[];const v=Hn(hf,m,d);switch(h.sessionStorage.getItem(v)){case gi.NONE:return[cn];case gi.LOCAL:return[Ms,Zn];case gi.SESSION:return[Zn];default:return[]}}(T,h.name);for(const Q of[Ms,Ea,Zn])S.includes(Q)||S.push(Q)}Ua(T,"invalid-api-key",{appName:h.name});const U="undefined"!=typeof window?La:void 0;this._delegate=v.initialize({options:{persistence:S,popupRedirectResolver:U}}),this._delegate._updateErrorMap(Ir),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?as.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(h){this._delegate.languageCode=h}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(h){this._delegate.tenantId=h}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(h,v){!function(m,d,h){const v=Bn(m);Te(v._canInitEmulator,v,"emulator-config-failed"),Te(/^https?:\/\//.test(d),v,"invalid-emulator-scheme");const T=!!(null==h?void 0:h.disableWarnings),S=Yr(d),{host:U,port:Q}=function(m){const d=Yr(m),h=/(\/\/)?([^?#/]+)/.exec(m.substr(d.length));if(!h)return{host:"",port:null};const v=h[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(v);if(T){const S=T[1];return{host:S,port:Lp(v.substr(S.length+1))}}{const[S,U]=v.split(":");return{host:S,port:Lp(U)}}}(d);v.config.emulator={url:`${S}//${U}${null===Q?"":`:${Q}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:U,port:Q,protocol:S.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function(){function m(){const d=document.createElement("p"),h=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,h,v)}applyActionCode(h){return function(m,d){return du.apply(this,arguments)}(this._delegate,h)}checkActionCode(h){return hu(this._delegate,h)}confirmPasswordReset(h,v){return function(m,d,h){return da.apply(this,arguments)}(this._delegate,h,v)}createUserWithEmailAndPassword(h,v){var T=this;return(0,g.Z)(function*(){return Jr(T._delegate,function(m,d,h){return pa.apply(this,arguments)}(T._delegate,h,v))})()}fetchProvidersForEmail(h){return this.fetchSignInMethodsForEmail(h)}fetchSignInMethodsForEmail(h){return function(m,d){return Ph.apply(this,arguments)}(this._delegate,h)}isSignInWithEmailLink(h){return function(m,d){const h=Ks.parseLink(d);return"EMAIL_SIGNIN"===(null==h?void 0:h.operation)}(0,h)}getRedirectResult(){var h=this;return(0,g.Z)(function*(){Ua(lf(),h._delegate,"operation-not-supported-in-this-environment");const v=yield function(m,d){return uo.apply(this,arguments)}(h._delegate,La);return v?Jr(h._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(h){!function(m,d){Bn(m)._logFramework(d)}(this._delegate,h)}onAuthStateChanged(h,v,T){const{next:S,error:U,complete:Q}=gf(h,v,T);return this._delegate.onAuthStateChanged(S,U,Q)}onIdTokenChanged(h,v,T){const{next:S,error:U,complete:Q}=gf(h,v,T);return this._delegate.onIdTokenChanged(S,U,Q)}sendSignInLinkToEmail(h,v){return function(m,d,h){return nn.apply(this,arguments)}(this._delegate,h,v)}sendPasswordResetEmail(h,v){return function(m,d,h){return Io.apply(this,arguments)}(this._delegate,h,v||void 0)}setPersistence(h){var v=this;return(0,g.Z)(function*(){let T;switch(function(m,d){Kc(Object.values(gi).includes(d),m,"invalid-persistence-type"),(0,P.b$)()?Kc(d!==gi.SESSION,m,"unsupported-persistence-type"):(0,P.UG)()?Kc(d===gi.NONE,m,"unsupported-persistence-type"):cf()?Kc(d===gi.NONE||d===gi.LOCAL&&(0,P.hl)(),m,"unsupported-persistence-type"):Kc(d===gi.NONE||ig(),m,"unsupported-persistence-type")}(v._delegate,h),h){case gi.SESSION:T=Zn;break;case gi.LOCAL:T=(yield kt(Ms)._isAvailable())?Ms:Ea;break;case gi.NONE:T=cn;break;default:return Rt("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(h){return this.signInWithCredential(h)}signInAnonymously(){return Jr(this._delegate,function(m){return Eo.apply(this,arguments)}(this._delegate))}signInWithCredential(h){return Jr(this._delegate,wc(this._delegate,h))}signInWithCustomToken(h){return Jr(this._delegate,function(m,d){return aa.apply(this,arguments)}(this._delegate,h))}signInWithEmailAndPassword(h,v){return Jr(this._delegate,function(m,d,h){return wc((0,P.m9)(m),Ys.credential(d,h))}(this._delegate,h,v))}signInWithEmailLink(h,v){return Jr(this._delegate,function(m,d,h){return Do.apply(this,arguments)}(this._delegate,h,v))}signInWithPhoneNumber(h,v){return bd(this._delegate,function(m,d,h){return Pi.apply(this,arguments)}(this._delegate,h,v))}signInWithPopup(h){var v=this;return(0,g.Z)(function*(){return Ua(lf(),v._delegate,"operation-not-supported-in-this-environment"),Jr(v._delegate,function(m,d,h){return Gt.apply(this,arguments)}(v._delegate,h,La))})()}signInWithRedirect(h){var v=this;return(0,g.Z)(function*(){return Ua(lf(),v._delegate,"operation-not-supported-in-this-environment"),yield og(v._delegate),function(m,d,h){return function(m,d,h){return ad.apply(this,arguments)}(m,d,h)}(v._delegate,h,La)})()}updateCurrentUser(h){return this._delegate.updateCurrentUser(h)}verifyPasswordResetCode(h){return function(m,d){return fa.apply(this,arguments)}(this._delegate,h)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=gi,m})();function gf(m,d,h){let v=m;"function"!=typeof m&&({next:v,error:d,complete:h}=m);const T=v;return{next:U=>T(U&&as.getOrCreate(U)),error:d,complete:h}}class ag{constructor(){this.providerId="phone",this._delegate=new D(ff(K.Z.auth()))}static credential(d,h){return D.credential(d,h)}verifyPhoneNumber(d,h){return this._delegate.verifyPhoneNumber(d,h)}unwrap(){return this._delegate}}ag.PHONE_SIGN_IN_METHOD=D.PHONE_SIGN_IN_METHOD,ag.PROVIDER_ID=D.PROVIDER_ID;const Va=Te;class mf{constructor(d,h,v=K.Z.app()){var T;Va(null===(T=v.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new gr(d,h,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(m){m.INTERNAL.registerComponent(new le.wA("auth-compat",d=>{const h=d.getProvider("app-compat").getImmediate(),v=d.getProvider("auth");return new Cd(h,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ys,FacebookAuthProvider:iu,GithubAuthProvider:Js,GoogleAuthProvider:Qs,OAuthProvider:Cn,SAMLAuthProvider:Xs,PhoneAuthProvider:ag,PhoneMultiFactorGenerator:ay,RecaptchaVerifier:mf,TwitterAuthProvider:Tr,Auth:Cd,AuthCredential:_o,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.2.4")}(K.Z)},2940:function(rt,De){!function(k){"use strict";function g(ie){return Array.prototype.slice.call(ie)}function K(ie){return new Promise(function(G,se){ie.onsuccess=function(){G(ie.result)},ie.onerror=function(){se(ie.error)}})}function P(ie,G,se){var we,fe=new Promise(function(je,Ae){K(we=ie[G].apply(ie,se)).then(je,Ae)});return fe.request=we,fe}function oe(ie,G,se){var we=P(ie,G,se);return we.then(function(fe){if(fe)return new B(fe,we.request)})}function te(ie,G,se){se.forEach(function(we){Object.defineProperty(ie.prototype,we,{get:function(){return this[G][we]},set:function(fe){this[G][we]=fe}})})}function de(ie,G,se,we){we.forEach(function(fe){fe in se.prototype&&(ie.prototype[fe]=function(){return P(this[G],fe,arguments)})})}function re(ie,G,se,we){we.forEach(function(fe){fe in se.prototype&&(ie.prototype[fe]=function(){return this[G][fe].apply(this[G],arguments)})})}function ne(ie,G,se,we){we.forEach(function(fe){fe in se.prototype&&(ie.prototype[fe]=function(){return oe(this[G],fe,arguments)})})}function ae(ie){this._index=ie}function B(ie,G){this._cursor=ie,this._request=G}function V(ie){this._store=ie}function Y(ie){this._tx=ie,this.complete=new Promise(function(G,se){ie.oncomplete=function(){G()},ie.onerror=function(){se(ie.error)},ie.onabort=function(){se(ie.error)}})}function Le(ie,G,se){this._db=ie,this.oldVersion=G,this.transaction=new Y(se)}function Ee(ie){this._db=ie}te(ae,"_index",["name","keyPath","multiEntry","unique"]),de(ae,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ne(ae,"_index",IDBIndex,["openCursor","openKeyCursor"]),te(B,"_cursor",["direction","key","primaryKey","value"]),de(B,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(ie){ie in IDBCursor.prototype&&(B.prototype[ie]=function(){var G=this,se=arguments;return Promise.resolve().then(function(){return G._cursor[ie].apply(G._cursor,se),K(G._request).then(function(we){if(we)return new B(we,G._request)})})})}),V.prototype.createIndex=function(){return new ae(this._store.createIndex.apply(this._store,arguments))},V.prototype.index=function(){return new ae(this._store.index.apply(this._store,arguments))},te(V,"_store",["name","keyPath","indexNames","autoIncrement"]),de(V,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ne(V,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),re(V,"_store",IDBObjectStore,["deleteIndex"]),Y.prototype.objectStore=function(){return new V(this._tx.objectStore.apply(this._tx,arguments))},te(Y,"_tx",["objectStoreNames","mode"]),re(Y,"_tx",IDBTransaction,["abort"]),Le.prototype.createObjectStore=function(){return new V(this._db.createObjectStore.apply(this._db,arguments))},te(Le,"_db",["name","version","objectStoreNames"]),re(Le,"_db",IDBDatabase,["deleteObjectStore","close"]),Ee.prototype.transaction=function(){return new Y(this._db.transaction.apply(this._db,arguments))},te(Ee,"_db",["name","version","objectStoreNames"]),re(Ee,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(ie){[V,ae].forEach(function(G){ie in G.prototype&&(G.prototype[ie.replace("open","iterate")]=function(){var se=g(arguments),we=se[se.length-1],fe=this._store||this._index,je=fe[ie].apply(fe,se.slice(0,-1));je.onsuccess=function(){we(je.result)}})})}),[ae,V].forEach(function(ie){ie.prototype.getAll||(ie.prototype.getAll=function(G,se){var we=this,fe=[];return new Promise(function(je){we.iterateCursor(G,function(Ae){Ae?(fe.push(Ae.value),void 0===se||fe.length!=se?Ae.continue():je(fe)):je(fe)})})})}),k.openDb=function(ie,G,se){var we=P(indexedDB,"open",[ie,G]),fe=we.request;return fe&&(fe.onupgradeneeded=function(je){se&&se(new Le(fe.result,je.oldVersion,fe.transaction))}),we.then(function(je){return new Ee(je)})},k.deleteDb=function(ie){return P(indexedDB,"deleteDatabase",[ie])},Object.defineProperty(k,"__esModule",{value:!0})}(De)},8306:(rt,De,k)=>{"use strict";k.d(De,{y:()=>B});var g=k(2961),K=k(727),P=k(8822),oe=k(4671);var re=k(2416),ne=k(576),ae=k(2806);let B=(()=>{class Ee{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const ie=new Ee;return ie.source=this,ie.operator=ke,ie}subscribe(ke,ie,G){const se=function(Ee){return Ee&&Ee instanceof g.Lv||function(Ee){return Ee&&(0,ne.m)(Ee.next)&&(0,ne.m)(Ee.error)&&(0,ne.m)(Ee.complete)}(Ee)&&(0,K.Nn)(Ee)}(ke)?ke:new g.Hp(ke,ie,G);return(0,ae.x)(()=>{const{operator:we,source:fe}=this;se.add(we?we.call(se,fe):fe?this._subscribe(se):this._trySubscribe(se))}),se}_trySubscribe(ke){try{return this._subscribe(ke)}catch(ie){ke.error(ie)}}forEach(ke,ie){return new(ie=V(ie))((G,se)=>{let we;we=this.subscribe(fe=>{try{ke(fe)}catch(je){se(je),null==we||we.unsubscribe()}},se,G)})}_subscribe(ke){var ie;return null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(ke)}[P.L](){return this}pipe(...ke){return function(Ee){return 0===Ee.length?oe.y:1===Ee.length?Ee[0]:function(ke){return Ee.reduce((ie,G)=>G(ie),ke)}}(ke)(this)}toPromise(ke){return new(ke=V(ke))((ie,G)=>{let se;this.subscribe(we=>se=we,we=>G(we),()=>ie(se))})}}return Ee.create=Fe=>new Ee(Fe),Ee})();function V(Ee){var Fe;return null!==(Fe=null!=Ee?Ee:re.v.Promise)&&void 0!==Fe?Fe:Promise}},7579:(rt,De,k)=>{"use strict";k.d(De,{x:()=>re});var g=k(8306),K=k(727);const oe=(0,k(3888).d)(ae=>function(){ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var te=k(8737),de=k(2806);let re=(()=>{class ae extends g.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(V){const Y=new ne(this,this);return Y.operator=V,Y}_throwIfClosed(){if(this.closed)throw new oe}next(V){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Y=this.observers.slice();for(const Le of Y)Le.next(V)}})}error(V){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=V;const{observers:Y}=this;for(;Y.length;)Y.shift().error(V)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:V}=this;for(;V.length;)V.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var V;return(null===(V=this.observers)||void 0===V?void 0:V.length)>0}_trySubscribe(V){return this._throwIfClosed(),super._trySubscribe(V)}_subscribe(V){return this._throwIfClosed(),this._checkFinalizedStatuses(V),this._innerSubscribe(V)}_innerSubscribe(V){const{hasError:Y,isStopped:Le,observers:Ee}=this;return Y||Le?K.Lc:(Ee.push(V),new K.w0(()=>(0,te.P)(Ee,V)))}_checkFinalizedStatuses(V){const{hasError:Y,thrownError:Le,isStopped:Ee}=this;Y?V.error(Le):Ee&&V.complete()}asObservable(){const V=new g.y;return V.source=this,V}}return ae.create=(B,V)=>new ne(B,V),ae})();class ne extends re{constructor(B,V){super(),this.destination=B,this.source=V}next(B){var V,Y;null===(Y=null===(V=this.destination)||void 0===V?void 0:V.next)||void 0===Y||Y.call(V,B)}error(B){var V,Y;null===(Y=null===(V=this.destination)||void 0===V?void 0:V.error)||void 0===Y||Y.call(V,B)}complete(){var B,V;null===(V=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===V||V.call(B)}_subscribe(B){var V,Y;return null!==(Y=null===(V=this.source)||void 0===V?void 0:V.subscribe(B))&&void 0!==Y?Y:K.Lc}}},2961:(rt,De,k)=>{"use strict";k.d(De,{Hp:()=>Le,Lv:()=>Y});var g=k(576),K=k(727),P=k(2416),oe=k(7849);function te(){}const de=ae("C",void 0,void 0);function ae(G,se,we){return{kind:G,value:se,error:we}}var B=k(3410),V=k(2806);class Y extends K.w0{constructor(se){super(),this.isStopped=!1,se?(this.destination=se,(0,K.Nn)(se)&&se.add(this)):this.destination=ie}static create(se,we,fe){return new Le(se,we,fe)}next(se){this.isStopped?ke(ae("N",se,void 0),this):this._next(se)}error(se){this.isStopped?ke(ae("E",void 0,se),this):(this.isStopped=!0,this._error(se))}complete(){this.isStopped?ke(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(se){this.destination.next(se)}_error(se){try{this.destination.error(se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Le extends Y{constructor(se,we,fe){let je;if(super(),(0,g.m)(se))je=se;else if(se){let Ae;({next:je,error:we,complete:fe}=se),this&&P.v.useDeprecatedNextContext?(Ae=Object.create(se),Ae.unsubscribe=()=>this.unsubscribe()):Ae=se,je=null==je?void 0:je.bind(Ae),we=null==we?void 0:we.bind(Ae),fe=null==fe?void 0:fe.bind(Ae)}this.destination={next:je?Ee(je):te,error:Ee(null!=we?we:Fe),complete:fe?Ee(fe):te}}}function Ee(G,se){return(...we)=>{try{G(...we)}catch(fe){P.v.useDeprecatedSynchronousErrorHandling?(0,V.O)(fe):(0,oe.h)(fe)}}}function Fe(G){throw G}function ke(G,se){const{onStoppedNotification:we}=P.v;we&&B.z.setTimeout(()=>we(G,se))}const ie={closed:!0,next:te,error:Fe,complete:te}},727:(rt,De,k)=>{"use strict";k.d(De,{Lc:()=>de,w0:()=>te,Nn:()=>re});var g=k(576);const P=(0,k(3888).d)(ae=>function(V){ae(this),this.message=V?`${V.length} errors occurred during unsubscription:\n${V.map((Y,Le)=>`${Le+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=V});var oe=k(8737);class te{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:V}=this;if(V)if(this._parentage=null,Array.isArray(V))for(const Ee of V)Ee.remove(this);else V.remove(this);const{initialTeardown:Y}=this;if((0,g.m)(Y))try{Y()}catch(Ee){B=Ee instanceof P?Ee.errors:[Ee]}const{_teardowns:Le}=this;if(Le){this._teardowns=null;for(const Ee of Le)try{ne(Ee)}catch(Fe){B=null!=B?B:[],Fe instanceof P?B=[...B,...Fe.errors]:B.push(Fe)}}if(B)throw new P(B)}}add(B){var V;if(B&&B!==this)if(this.closed)ne(B);else{if(B instanceof te){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._teardowns=null!==(V=this._teardowns)&&void 0!==V?V:[]).push(B)}}_hasParent(B){const{_parentage:V}=this;return V===B||Array.isArray(V)&&V.includes(B)}_addParent(B){const{_parentage:V}=this;this._parentage=Array.isArray(V)?(V.push(B),V):V?[V,B]:B}_removeParent(B){const{_parentage:V}=this;V===B?this._parentage=null:Array.isArray(V)&&(0,oe.P)(V,B)}remove(B){const{_teardowns:V}=this;V&&(0,oe.P)(V,B),B instanceof te&&B._removeParent(this)}}te.EMPTY=(()=>{const ae=new te;return ae.closed=!0,ae})();const de=te.EMPTY;function re(ae){return ae instanceof te||ae&&"closed"in ae&&(0,g.m)(ae.remove)&&(0,g.m)(ae.add)&&(0,g.m)(ae.unsubscribe)}function ne(ae){(0,g.m)(ae)?ae():ae.unsubscribe()}},2416:(rt,De,k)=>{"use strict";k.d(De,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(rt,De,k)=>{"use strict";k.d(De,{E:()=>K});const K=new(k(8306).y)(te=>te.complete())},8996:(rt,De,k)=>{"use strict";k.d(De,{D:()=>je});var g=k(8421),K=k(5363),P=k(9468),de=k(8306),ne=k(2202),ae=k(576),B=k(9672);function Y(Ae,$e){if(!Ae)throw new Error("Iterable cannot be null");return new de.y(Ze=>{(0,B.f)(Ze,$e,()=>{const at=Ae[Symbol.asyncIterator]();(0,B.f)(Ze,$e,()=>{at.next().then(X=>{X.done?Ze.complete():Ze.next(X.value)})},0,!0)})})}var Le=k(3670),Ee=k(8239),Fe=k(1144),ke=k(6495),ie=k(2206),G=k(4532),se=k(3260);function je(Ae,$e){return $e?function(Ae,$e){if(null!=Ae){if((0,Le.c)(Ae))return function(Ae,$e){return(0,g.Xf)(Ae).pipe((0,P.R)($e),(0,K.Q)($e))}(Ae,$e);if((0,Fe.z)(Ae))return function(Ae,$e){return new de.y(Ze=>{let at=0;return $e.schedule(function(){at===Ae.length?Ze.complete():(Ze.next(Ae[at++]),Ze.closed||this.schedule())})})}(Ae,$e);if((0,Ee.t)(Ae))return function(Ae,$e){return(0,g.Xf)(Ae).pipe((0,P.R)($e),(0,K.Q)($e))}(Ae,$e);if((0,ie.D)(Ae))return Y(Ae,$e);if((0,ke.T)(Ae))return function(Ae,$e){return new de.y(Ze=>{let at;return(0,B.f)(Ze,$e,()=>{at=Ae[ne.h](),(0,B.f)(Ze,$e,()=>{let X,ue;try{({value:X,done:ue}=at.next())}catch(ge){return void Ze.error(ge)}ue?Ze.complete():Ze.next(X)},0,!0)}),()=>(0,ae.m)(null==at?void 0:at.return)&&at.return()})}(Ae,$e);if((0,se.L)(Ae))return function(Ae,$e){return Y((0,se.Q)(Ae),$e)}(Ae,$e)}throw(0,G.z)(Ae)}(Ae,$e):(0,g.Xf)(Ae)}},8421:(rt,De,k)=>{"use strict";k.d(De,{Xf:()=>Le});var g=k(5987),K=k(1144),P=k(8239),oe=k(8306),te=k(3670),de=k(2206),re=k(4532),ne=k(6495),ae=k(3260),B=k(576),V=k(7849),Y=k(8822);function Le(fe){if(fe instanceof oe.y)return fe;if(null!=fe){if((0,te.c)(fe))return function(fe){return new oe.y(je=>{const Ae=fe[Y.L]();if((0,B.m)(Ae.subscribe))return Ae.subscribe(je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(fe);if((0,K.z)(fe))return function(fe){return new oe.y(je=>{for(let Ae=0;Ae<fe.length&&!je.closed;Ae++)je.next(fe[Ae]);je.complete()})}(fe);if((0,P.t)(fe))return function(fe){return new oe.y(je=>{fe.then(Ae=>{je.closed||(je.next(Ae),je.complete())},Ae=>je.error(Ae)).then(null,V.h)})}(fe);if((0,de.D)(fe))return G(fe);if((0,ne.T)(fe))return function(fe){return new oe.y(je=>{for(const Ae of fe)if(je.next(Ae),je.closed)return;je.complete()})}(fe);if((0,ae.L)(fe))return function(fe){return G((0,ae.Q)(fe))}(fe)}throw(0,re.z)(fe)}function G(fe){return new oe.y(je=>{(function(fe,je){var Ae,$e,Ze,at;return(0,g.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,g.KL)(fe);!($e=yield Ae.next()).done;)if(je.next($e.value),je.closed)return}catch(X){Ze={error:X}}finally{try{$e&&!$e.done&&(at=Ae.return)&&(yield at.call(Ae))}finally{if(Ze)throw Ze.error}}je.complete()})})(fe,je).catch(Ae=>je.error(Ae))})}},6451:(rt,De,k)=>{"use strict";k.d(De,{T:()=>de});var g=k(8189),K=k(8421),P=k(515),oe=k(7669),te=k(8996);function de(...re){const ne=(0,oe.yG)(re),ae=(0,oe._6)(re,1/0),B=re;return B.length?1===B.length?(0,K.Xf)(B[0]):(0,g.J)(ae)((0,te.D)(B,ne)):P.E}},5403:(rt,De,k)=>{"use strict";k.d(De,{Q:()=>K});var g=k(2961);class K extends g.Lv{constructor(oe,te,de,re,ne){super(oe),this.onFinalize=ne,this._next=te?function(ae){try{te(ae)}catch(B){oe.error(B)}}:super._next,this._error=re?function(ae){try{re(ae)}catch(B){oe.error(B)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(ae){oe.error(ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;const{closed:te}=this;super.unsubscribe(),!te&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}},4004:(rt,De,k)=>{"use strict";k.d(De,{U:()=>P});var g=k(4482),K=k(5403);function P(oe,te){return(0,g.e)((de,re)=>{let ne=0;de.subscribe(new K.Q(re,ae=>{re.next(oe.call(te,ae,ne++))}))})}},8189:(rt,De,k)=>{"use strict";k.d(De,{J:()=>P});var g=k(5577),K=k(4671);function P(oe=1/0){return(0,g.z)(K.y,oe)}},5577:(rt,De,k)=>{"use strict";k.d(De,{z:()=>ne});var g=k(4004),K=k(8421),P=k(4482),te=(k(9672),k(5403)),re=k(576);function ne(ae,B,V=1/0){return(0,re.m)(B)?ne((Y,Le)=>(0,g.U)((Ee,Fe)=>B(Y,Ee,Le,Fe))((0,K.Xf)(ae(Y,Le))),V):("number"==typeof B&&(V=B),(0,P.e)((Y,Le)=>function(ae,B,V,Y,Le,Ee,Fe,ke){const ie=[];let G=0,se=0,we=!1;const fe=()=>{we&&!ie.length&&!G&&B.complete()},je=$e=>G<Y?Ae($e):ie.push($e),Ae=$e=>{G++;let Ze=!1;(0,K.Xf)(V($e,se++)).subscribe(new te.Q(B,at=>{B.next(at)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(G--;ie.length&&G<Y;){const at=ie.shift();Ae(at)}fe()}catch(at){B.error(at)}}))};return ae.subscribe(new te.Q(B,je,()=>{we=!0,fe()})),()=>{}}(Y,Le,ae,V)))}},5363:(rt,De,k)=>{"use strict";k.d(De,{Q:()=>oe});var g=k(9672),K=k(4482),P=k(5403);function oe(te,de=0){return(0,K.e)((re,ne)=>{re.subscribe(new P.Q(ne,ae=>(0,g.f)(ne,te,()=>ne.next(ae),de),()=>(0,g.f)(ne,te,()=>ne.complete(),de),ae=>(0,g.f)(ne,te,()=>ne.error(ae),de)))})}},3099:(rt,De,k)=>{"use strict";k.d(De,{B:()=>de});var g=k(8996),K=k(5698),P=k(7579),oe=k(2961),te=k(4482);function de(ne={}){const{connector:ae=(()=>new P.x),resetOnError:B=!0,resetOnComplete:V=!0,resetOnRefCountZero:Y=!0}=ne;return Le=>{let Ee=null,Fe=null,ke=null,ie=0,G=!1,se=!1;const we=()=>{null==Fe||Fe.unsubscribe(),Fe=null},fe=()=>{we(),Ee=ke=null,G=se=!1},je=()=>{const Ae=Ee;fe(),null==Ae||Ae.unsubscribe()};return(0,te.e)((Ae,$e)=>{ie++,!se&&!G&&we();const Ze=ke=null!=ke?ke:ae();$e.add(()=>{ie--,0===ie&&!se&&!G&&(Fe=re(je,Y))}),Ze.subscribe($e),Ee||(Ee=new oe.Hp({next:at=>Ze.next(at),error:at=>{se=!0,we(),Fe=re(fe,B,at),Ze.error(at)},complete:()=>{G=!0,we(),Fe=re(fe,V),Ze.complete()}}),(0,g.D)(Ae).subscribe(Ee))})(Le)}}function re(ne,ae,...B){return!0===ae?(ne(),null):!1===ae?null:ae(...B).pipe((0,K.q)(1)).subscribe(()=>ne())}},9468:(rt,De,k)=>{"use strict";k.d(De,{R:()=>K});var g=k(4482);function K(P,oe=0){return(0,g.e)((te,de)=>{de.add(P.schedule(()=>te.subscribe(de),oe))})}},5698:(rt,De,k)=>{"use strict";k.d(De,{q:()=>oe});var g=k(515),K=k(4482),P=k(5403);function oe(te){return te<=0?()=>g.E:(0,K.e)((de,re)=>{let ne=0;de.subscribe(new P.Q(re,ae=>{++ne<=te&&(re.next(ae),te<=ne&&re.complete())}))})}},8505:(rt,De,k)=>{"use strict";k.d(De,{b:()=>te});var g=k(576),K=k(4482),P=k(5403),oe=k(4671);function te(de,re,ne){const ae=(0,g.m)(de)||re||ne?{next:de,error:re,complete:ne}:de;return ae?(0,K.e)((B,V)=>{var Y;null===(Y=ae.subscribe)||void 0===Y||Y.call(ae);let Le=!0;B.subscribe(new P.Q(V,Ee=>{var Fe;null===(Fe=ae.next)||void 0===Fe||Fe.call(ae,Ee),V.next(Ee)},()=>{var Ee;Le=!1,null===(Ee=ae.complete)||void 0===Ee||Ee.call(ae),V.complete()},Ee=>{var Fe;Le=!1,null===(Fe=ae.error)||void 0===Fe||Fe.call(ae,Ee),V.error(Ee)},()=>{var Ee,Fe;Le&&(null===(Ee=ae.unsubscribe)||void 0===Ee||Ee.call(ae)),null===(Fe=ae.finalize)||void 0===Fe||Fe.call(ae)}))}):oe.y}},4408:(rt,De,k)=>{"use strict";k.d(De,{o:()=>te});var g=k(727);class K extends g.w0{constructor(re,ne){super()}schedule(re,ne=0){return this}}const P={setInterval(...de){const{delegate:re}=P;return((null==re?void 0:re.setInterval)||setInterval)(...de)},clearInterval(de){const{delegate:re}=P;return((null==re?void 0:re.clearInterval)||clearInterval)(de)},delegate:void 0};var oe=k(8737);class te extends K{constructor(re,ne){super(re,ne),this.scheduler=re,this.work=ne,this.pending=!1}schedule(re,ne=0){if(this.closed)return this;this.state=re;const ae=this.id,B=this.scheduler;return null!=ae&&(this.id=this.recycleAsyncId(B,ae,ne)),this.pending=!0,this.delay=ne,this.id=this.id||this.requestAsyncId(B,this.id,ne),this}requestAsyncId(re,ne,ae=0){return P.setInterval(re.flush.bind(re,this),ae)}recycleAsyncId(re,ne,ae=0){if(null!=ae&&this.delay===ae&&!1===this.pending)return ne;P.clearInterval(ne)}execute(re,ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ae=this._execute(re,ne);if(ae)return ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,ne){let B,ae=!1;try{this.work(re)}catch(V){ae=!0,B=V||new Error("Scheduled action threw falsy error")}if(ae)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:re,scheduler:ne}=this,{actions:ae}=ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(ae,this),null!=re&&(this.id=this.recycleAsyncId(ne,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(rt,De,k)=>{"use strict";k.d(De,{v:()=>P});var g=k(6063);class K{constructor(te,de=K.now){this.schedulerActionCtor=te,this.now=de}schedule(te,de=0,re){return new this.schedulerActionCtor(this,te).schedule(re,de)}}K.now=g.l.now;class P extends K{constructor(te,de=K.now){super(te,de),this.actions=[],this._active=!1,this._scheduled=void 0}flush(te){const{actions:de}=this;if(this._active)return void de.push(te);let re;this._active=!0;do{if(re=te.execute(te.state,te.delay))break}while(te=de.shift());if(this._active=!1,re){for(;te=de.shift();)te.unsubscribe();throw re}}}},4986:(rt,De,k)=>{"use strict";k.d(De,{z:()=>P});var g=k(4408);const P=new(k(7565).v)(g.o)},6063:(rt,De,k)=>{"use strict";k.d(De,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},3410:(rt,De,k)=>{"use strict";k.d(De,{z:()=>g});const g={setTimeout(...K){const{delegate:P}=g;return((null==P?void 0:P.setTimeout)||setTimeout)(...K)},clearTimeout(K){const{delegate:P}=g;return((null==P?void 0:P.clearTimeout)||clearTimeout)(K)},delegate:void 0}},2202:(rt,De,k)=>{"use strict";k.d(De,{h:()=>K});const K="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},8822:(rt,De,k)=>{"use strict";k.d(De,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(rt,De,k)=>{"use strict";k.d(De,{_6:()=>de,jO:()=>oe,yG:()=>te});var g=k(576);function P(re){return re[re.length-1]}function oe(re){return(0,g.m)(P(re))?re.pop():void 0}function te(re){return function(re){return re&&(0,g.m)(re.schedule)}(P(re))?re.pop():void 0}function de(re,ne){return"number"==typeof P(re)?re.pop():ne}},8737:(rt,De,k)=>{"use strict";function g(K,P){if(K){const oe=K.indexOf(P);0<=oe&&K.splice(oe,1)}}k.d(De,{P:()=>g})},3888:(rt,De,k)=>{"use strict";function g(K){const oe=K(te=>{Error.call(te),te.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}k.d(De,{d:()=>g})},2806:(rt,De,k)=>{"use strict";k.d(De,{x:()=>P,O:()=>oe});var g=k(2416);let K=null;function P(te){if(g.v.useDeprecatedSynchronousErrorHandling){const de=!K;if(de&&(K={errorThrown:!1,error:null}),te(),de){const{errorThrown:re,error:ne}=K;if(K=null,re)throw ne}}else te()}function oe(te){g.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=te)}},9672:(rt,De,k)=>{"use strict";function g(K,P,oe,te=0,de=!1){const re=P.schedule(function(){oe(),de?K.add(this.schedule(null,te)):this.unsubscribe()},te);if(K.add(re),!de)return re}k.d(De,{f:()=>g})},4671:(rt,De,k)=>{"use strict";function g(K){return K}k.d(De,{y:()=>g})},1144:(rt,De,k)=>{"use strict";k.d(De,{z:()=>g});const g=K=>K&&"number"==typeof K.length&&"function"!=typeof K},2206:(rt,De,k)=>{"use strict";k.d(De,{D:()=>K});var g=k(576);function K(P){return Symbol.asyncIterator&&(0,g.m)(null==P?void 0:P[Symbol.asyncIterator])}},576:(rt,De,k)=>{"use strict";function g(K){return"function"==typeof K}k.d(De,{m:()=>g})},3670:(rt,De,k)=>{"use strict";k.d(De,{c:()=>P});var g=k(8822),K=k(576);function P(oe){return(0,K.m)(oe[g.L])}},6495:(rt,De,k)=>{"use strict";k.d(De,{T:()=>P});var g=k(2202),K=k(576);function P(oe){return(0,K.m)(null==oe?void 0:oe[g.h])}},8239:(rt,De,k)=>{"use strict";k.d(De,{t:()=>K});var g=k(576);function K(P){return(0,g.m)(null==P?void 0:P.then)}},3260:(rt,De,k)=>{"use strict";k.d(De,{Q:()=>P,L:()=>oe});var g=k(5987),K=k(576);function P(te){return(0,g.FC)(this,arguments,function*(){const re=te.getReader();try{for(;;){const{value:ne,done:ae}=yield(0,g.qq)(re.read());if(ae)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(ne)}}finally{re.releaseLock()}})}function oe(te){return(0,K.m)(null==te?void 0:te.getReader)}},4482:(rt,De,k)=>{"use strict";k.d(De,{A:()=>K,e:()=>P});var g=k(576);function K(oe){return(0,g.m)(null==oe?void 0:oe.lift)}function P(oe){return te=>{if(K(te))return te.lift(function(de){try{return oe(de,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(rt,De,k)=>{"use strict";k.d(De,{h:()=>P});var g=k(2416),K=k(3410);function P(oe){K.z.setTimeout(()=>{const{onUnhandledError:te}=g.v;if(!te)throw oe;te(oe)})}},4532:(rt,De,k)=>{"use strict";function g(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(De,{z:()=>g})},5987:(rt,De,k)=>{"use strict";function ne(X,ue,ge,ye){return new(ge||(ge=Promise))(function(le,_t){function Vt(ht){try{vt(ye.next(ht))}catch(Dt){_t(Dt)}}function Vn(ht){try{vt(ye.throw(ht))}catch(Dt){_t(Dt)}}function vt(ht){ht.done?le(ht.value):function(le){return le instanceof ge?le:new ge(function(_t){_t(le)})}(ht.value).then(Vt,Vn)}vt((ye=ye.apply(X,ue||[])).next())})}function ie(X){return this instanceof ie?(this.v=X,this):new ie(X)}function G(X,ue,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,ye=ge.apply(X,ue||[]),le=[];return Oe={},_t("next"),_t("throw"),_t("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe;function _t(Xt){ye[Xt]&&(Oe[Xt]=function(Ir){return new Promise(function(Vr,en){le.push([Xt,Ir,Vr,en])>1||Vt(Xt,Ir)})})}function Vt(Xt,Ir){try{!function(Xt){Xt.value instanceof ie?Promise.resolve(Xt.value.v).then(vt,ht):Dt(le[0][2],Xt)}(ye[Xt](Ir))}catch(Vr){Dt(le[0][3],Vr)}}function vt(Xt){Vt("next",Xt)}function ht(Xt){Vt("throw",Xt)}function Dt(Xt,Ir){Xt(Ir),le.shift(),le.length&&Vt(le[0][0],le[0][1])}}function we(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,ue=X[Symbol.asyncIterator];return ue?ue.call(X):(X=function(X){var ue="function"==typeof Symbol&&Symbol.iterator,ge=ue&&X[ue],ye=0;if(ge)return ge.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&ye>=X.length&&(X=void 0),{value:X&&X[ye++],done:!X}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),ge={},ye("next"),ye("throw"),ye("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function ye(le){ge[le]=X[le]&&function(_t){return new Promise(function(Vt,Vn){!function(le,_t,Vt,Vn){Promise.resolve(Vn).then(function(vt){le({value:vt,done:Vt})},_t)}(Vt,Vn,(_t=X[le](_t)).done,_t.value)})}}}k.d(De,{mG:()=>ne,qq:()=>ie,FC:()=>G,KL:()=>we})},5e3:(rt,De,k)=>{"use strict";k.d(De,{deG:()=>yu,tb:()=>kl,AFp:()=>FE,ip1:()=>Iv,CZH:()=>oc,hGG:()=>iI,z2F:()=>Ll,sBO:()=>fb,Sil:()=>Tv,_Vd:()=>fo,EJc:()=>km,SBq:()=>hp,qLn:()=>Wc,vpe:()=>$s,tBr:()=>fn,XFs:()=>ct,OlP:()=>Qt,zs3:()=>ls,ZZ4:()=>Mp,aQg:()=>qm,soG:()=>Nm,YKP:()=>X_,h0i:()=>Al,PXZ:()=>Um,R0b:()=>Di,FiY:()=>rr,Lbi:()=>Om,g9A:()=>Rm,Qsj:()=>um,FYo:()=>tE,JOm:()=>Os,tp0:()=>Zr,Rgc:()=>_p,dDg:()=>HE,q4F:()=>Y_,GfV:()=>rE,s_b:()=>vp,ifc:()=>Ge,eFA:()=>ZE,G48:()=>Dh,X6Q:()=>Lv,_c5:()=>Ya,VLi:()=>xv,c2e:()=>Pm,zSh:()=>$a,wAp:()=>dt,vHH:()=>Fe,cg1:()=>Jg,kL8:()=>O_,dqk:()=>pt,sIi:()=>Bu,CqO:()=>Xd,QGY:()=>Za,F4k:()=>ho,RDi:()=>Rh,AaK:()=>ne,TTD:()=>ws,xp6:()=>c0,uIk:()=>jf,Suo:()=>wm,Xpm:()=>mn,lG2:()=>Zs,Yz7:()=>en,cJS:()=>wn,oAB:()=>zo,Yjl:()=>dc,Y36:()=>Lo,_UZ:()=>$g,qZA:()=>Zu,TgZ:()=>jn,EpF:()=>nt,LFG:()=>q,$8M:()=>io,$Z:()=>aw,NdJ:()=>zu,CRH:()=>wE,kcU:()=>Jl,O4$:()=>Do,Q6J:()=>ar,iGM:()=>dv,MAs:()=>Hf,CHM:()=>Xi,LSH:()=>md,YNc:()=>h_,_uU:()=>T_,hij:()=>np});var g=k(7579),K=k(727),P=k(8306),oe=k(6451),te=k(3099);function de(i){for(let s in i)if(i[s]===de)return s;throw Error("Could not find renamed property on target object.")}function ne(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ne).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function ae(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const B=de({__forward_ref__:de});function V(i){return i.__forward_ref__=V,i.toString=function(){return ne(this())},i}function Y(i){return function(i){return"function"==typeof i&&i.hasOwnProperty(B)&&i.__forward_ref__===V}(i)?i():i}class Fe extends Error{constructor(s,o){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,o)),this.code=s}}function G(i){return"string"==typeof i?i:null==i?"":String(i)}function se(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():G(i)}function Ae(i,s){const o=s?` in ${s}`:"";throw new Fe("201",`No provider for ${se(i)} found${o}`)}function ht(i,s){null==i&&function(i,s,o,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${o} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function en(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function wn(i){return{providers:i.providers||[],imports:i.imports||[]}}function ti(i){return Rt(i,Ti)||Rt(i,$n)}function Rt(i,s){return i.hasOwnProperty(s)?i[s]:null}function ni(i){return i&&(i.hasOwnProperty(Te)||i.hasOwnProperty(Rn))?i[Te]:null}const Ti=de({\u0275prov:de}),Te=de({\u0275inj:de}),$n=de({ngInjectableDef:de}),Rn=de({ngInjectorDef:de});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let kt;function Br(i){const s=kt;return kt=i,s}function ot(i,s,o){const u=ti(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&ct.Optional?null:void 0!==s?s:void Ae(ne(i),"Injector")}function Tt(i){return{toString:i}.toString()}var St=(()=>((St=St||{})[St.OnPush=0]="OnPush",St[St.Default=1]="Default",St))(),Ge=(()=>{return(i=Ge||(Ge={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Ge;var i})();const st="undefined"!=typeof globalThis&&globalThis,cc="undefined"!=typeof window&&window,ms="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,pt=st||"undefined"!=typeof global&&global||cc||ms,$={},F=[],H=de({\u0275cmp:de}),me=de({\u0275dir:de}),ee=de({\u0275pipe:de}),ze=de({\u0275mod:de}),ut=de({\u0275fac:de}),qt=de({__NG_ELEMENT_ID__:de});let Jn=0;function mn(i){return Tt(()=>{const o={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===St.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||F,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Ge.Emulated,id:"c",styles:i.styles||F,_:null,setInput:null,schemas:i.schemas||null,tView:null},l=i.directives,p=i.features,y=i.pipes;return u.id+=Jn++,u.inputs=Xa(i.inputs,o),u.outputs=Xa(i.outputs),p&&p.forEach(w=>w(u)),u.directiveDefs=l?()=>("function"==typeof l?l():l).map(xt):null,u.pipeDefs=y?()=>("function"==typeof y?y():y).map(Xn):null,u})}function xt(i){return tn(i)||function(i){return i[me]||null}(i)}function Xn(i){return function(i){return i[ee]||null}(i)}const qs={};function zo(i){return Tt(()=>{const s={type:i.type,bootstrap:i.bootstrap||F,declarations:i.declarations||F,imports:i.imports||F,exports:i.exports||F,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(qs[i.id]=i.type),s})}function Xa(i,s){if(null==i)return $;const o={};for(const u in i)if(i.hasOwnProperty(u)){let l=i[u],p=l;Array.isArray(l)&&(p=l[1],l=l[0]),o[l]=u,s&&(s[l]=p)}return o}const Zs=mn;function dc(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function tn(i){return i[H]||null}function er(i,s){const o=i[ze]||null;if(!o&&!0===s)throw new Error(`Type ${ne(i)} does not have '\u0275mod' property.`);return o}function oi(i){return Array.isArray(i)&&"object"==typeof i[1]}function ai(i){return Array.isArray(i)&&!0===i[1]}function Bn(i){return 0!=(8&i.flags)}function Yi(i){return 2==(2&i.flags)}function fc(i){return 1==(1&i.flags)}function Yr(i){return null!==i.template}function Ah(i){return 0!=(512&i[2])}function Ci(i,s){return i.hasOwnProperty(ut)?i[ut]:null}class mc{constructor(s,o,u){this.previousValue=s,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function ws(){return wo}function wo(i){return i.type.prototype.ngOnChanges&&(i.setInput=yc),Es}function Es(){const i=tr(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===$)i.previous=s;else for(let u in s)o[u]=s[u];i.current=null,this.ngOnChanges(s)}}function yc(i,s,o,u){const l=tr(i)||function(i,s){return i[Gl]=s}(i,{previous:$,current:null}),p=l.current||(l.current={}),y=l.previous,w=this.declaredInputs[o],E=y[w];p[w]=new mc(E&&E.currentValue,s,y===$),i[u]=s}ws.ngInherit=!0;const Gl="__ngSimpleChanges__";function tr(i){return i[Gl]||null}const Wl="http://www.w3.org/2000/svg";let ru;function Rh(i){ru=i}function Wt(i){return!!i.listen}const vc={createRenderer:(i,s)=>void 0!==ru?ru:"undefined"!=typeof document?document:void 0};function Tn(i){for(;Array.isArray(i);)i=i[0];return i}function Cn(i,s){return Tn(s[i.index])}function Qs(i,s){return i.data[s]}function Zt(i,s){const o=s[i];return oi(o)?o:o[0]}function Ji(i){return 4==(4&i[2])}function ea(i){return 128==(128&i[2])}function Tr(i,s){return null==s?null:i[s]}function ta(i){i[18]=0}function Is(i,s){i[5]+=s;let o=i,u=i[3];for(;null!==u&&(1===s&&1===o[5]||-1===s&&0===o[5]);)u[5]+=s,o=u,u=u[3]}const Ke={lFrame:Ic(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ou(){return Ke.bindingsEnabled}function Ie(){return Ke.lFrame.lView}function Ct(){return Ke.lFrame.tView}function Xi(i){return Ke.lFrame.contextLView=i,i[8]}function ln(){let i=ia();for(;null!==i&&64===i.type;)i=i.parent;return i}function ia(){return Ke.lFrame.currentTNode}function nr(i,s){const o=Ke.lFrame;o.currentTNode=i,o.isParent=s}function uu(){return Ke.lFrame.isParent}function sa(){return Ke.isInCheckNoChangesMode}function to(i){Ke.isInCheckNoChangesMode=i}function bs(){return Ke.lFrame.bindingIndex++}function ca(i,s){const o=Ke.lFrame;o.bindingIndex=o.bindingRootIndex=i,la(s)}function la(i){Ke.lFrame.currentDirectiveIndex=i}function lu(){return Ke.lFrame.currentQueryIndex}function da(i){Ke.lFrame.currentQueryIndex=i}function Yl(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function du(i,s,o){if(o&ct.SkipSelf){let l=s,p=i;for(;!(l=l.parent,null!==l||o&ct.Host||(l=Yl(p),null===l||(p=p[15],10&l.type))););if(null===l)return!1;s=l,i=p}const u=Ke.lFrame=ha();return u.currentTNode=s,u.lView=i,!0}function hu(i){const s=ha(),o=i[1];Ke.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function ha(){const i=Ke.lFrame,s=null===i?null:i.child;return null===s?Ic(i):s}function Ic(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function fa(){const i=Ke.lFrame;return Ke.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Ql=fa;function pa(){const i=fa();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function nn(){return Ke.lFrame.selectedIndex}function Ts(i){Ke.lFrame.selectedIndex=i}function dn(){const i=Ke.lFrame;return Qs(i.tView,i.selectedIndex)}function Do(){Ke.lFrame.currentNamespace=Wl}function Jl(){Ke.lFrame.currentNamespace=null}function Cs(i,s){for(let o=s.directiveStart,u=s.directiveEnd;o<u;o++){const p=i.data[o].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:C,ngOnDestroy:x}=p;y&&(i.contentHooks||(i.contentHooks=[])).push(-o,y),w&&((i.contentHooks||(i.contentHooks=[])).push(o,w),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,w)),E&&(i.viewHooks||(i.viewHooks=[])).push(-o,E),C&&((i.viewHooks||(i.viewHooks=[])).push(o,C),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,C)),null!=x&&(i.destroyHooks||(i.destroyHooks=[])).push(o,x)}}function fu(i,s,o){bc(i,s,3,o)}function ga(i,s,o,u){(3&i[2])===o&&bc(i,s,o,u)}function ed(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function bc(i,s,o,u){const p=null!=u?u:-1,y=s.length-1;let w=0;for(let E=void 0!==u?65535&i[18]:0;E<y;E++)if("number"==typeof s[E+1]){if(w=s[E],null!=u&&w>=u)break}else s[E]<0&&(i[18]+=65536),(w<p||-1==p)&&(td(i,o,s,E),i[18]=(4294901760&i[18])+E+2),E++}function td(i,s,o,u){const l=o[u]<0,p=o[u+1],w=i[l?-o[u]:o[u]];if(l){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class ma{constructor(s,o,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function hn(i,s,o){const u=Wt(i);let l=0;for(;l<o.length;){const p=o[l];if("number"==typeof p){if(0!==p)break;l++;const y=o[l++],w=o[l++],E=o[l++];u?i.setAttribute(s,w,E,y):s.setAttributeNS(y,w,E)}else{const y=p,w=o[++l];et(y)?u&&i.setProperty(s,y,w):u?i.setAttribute(s,y,w):s.setAttribute(y,w),l++}}return l}function To(i){return 3===i||4===i||6===i}function et(i){return 64===i.charCodeAt(0)}function Si(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let u=0;u<s.length;u++){const l=s[u];"number"==typeof l?o=l:0===o||di(i,o,l,null,-1===o||2===o?s[++u]:null)}}return i}function di(i,s,o,u,l){let p=0,y=i.length;if(-1===s)y=-1;else for(;p<i.length;){const w=i[p++];if("number"==typeof w){if(w===s){y=-1;break}if(w>s){y=p-1;break}}}for(;p<i.length;){const w=i[p];if("number"==typeof w)break;if(w===o){if(null===u)return void(null!==l&&(i[p+1]=l));if(u===i[p+1])return void(i[p+2]=l)}p++,null!==u&&p++,null!==l&&p++}-1!==y&&(i.splice(y,0,s),p=y+1),i.splice(p++,0,o),null!==u&&i.splice(p++,0,u),null!==l&&i.splice(p++,0,l)}function hi(i){return-1!==i}function Co(i){return 32767&i}function _a(i,s){let o=function(i){return i>>16}(i),u=s;for(;o>0;)u=u[15],o--;return u}let gu=!0;function Ao(i){const s=gu;return gu=i,s}let kh=0;function va(i,s){const o=Pn(i,s);if(-1!==o)return o;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,wa(u.data,i),wa(s,null),wa(u.blueprint,null));const l=mu(i,s),p=i.injectorIndex;if(hi(l)){const y=Co(l),w=_a(l,s),E=w[1].data;for(let C=0;C<8;C++)s[p+C]=w[y+C]|E[y+C]}return s[p+8]=l,p}function wa(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Pn(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function mu(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,u=null,l=s;for(;null!==l;){const p=l[1],y=p.type;if(u=2===y?p.declTNode:1===y?l[6]:null,null===u)return-1;if(o++,l=l[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function ts(i,s,o){!function(i,s,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(qt)&&(u=o[qt]),null==u&&(u=o[qt]=kh++);const l=255&u;s.data[i+(l>>5)]|=1<<l}(i,s,o)}function fi(i,s,o){if(o&ct.Optional)return i;Ae(s,"NodeInjector")}function Cc(i,s,o,u){if(o&ct.Optional&&void 0===u&&(u=null),0==(o&(ct.Self|ct.Host))){const l=i[9],p=Br(void 0);try{return l?l.get(s,u,o&ct.Optional):ot(s,u,o&ct.Optional)}finally{Br(p)}}return fi(u,s,o)}function So(i,s,o,u=ct.Default,l){if(null!==i){const p=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(qt)?i[qt]:void 0;return"number"==typeof s?s>=0?255&s:Ea:s}(o);if("function"==typeof p){if(!du(s,i,u))return u&ct.Host?fi(l,o,u):Cc(s,o,u,l);try{const y=p(u);if(null!=y||u&ct.Optional)return y;Ae(o)}finally{Ql()}}else if("number"==typeof p){let y=null,w=Pn(i,s),E=-1,C=u&ct.Host?s[16][6]:null;for((-1===w||u&ct.SkipSelf)&&(E=-1===w?mu(i,s):s[w+8],-1!==E&&Cr(u,!1)?(y=s[1],w=Co(E),s=_a(E,s)):w=-1);-1!==w;){const x=s[1];if(ro(p,w,x.data)){const N=Ac(w,s,o,y,u,C);if(N!==no)return N}E=s[w+8],-1!==E&&Cr(u,s[1].data[w+8]===C)&&ro(p,w,s)?(y=x,w=Co(E),s=_a(E,s)):w=-1}}}return Cc(s,o,u,l)}const no={};function Ea(){return new un(ln(),Ie())}function Ac(i,s,o,u,l,p){const y=s[1],w=y.data[i+8],x=Zn(w,y,o,null==u?Yi(w)&&gu:u!=y&&0!=(3&w.type),l&ct.Host&&p===w);return null!==x?Ss(s,y,x,w):no}function Zn(i,s,o,u,l){const p=i.providerIndexes,y=s.data,w=1048575&p,E=i.directiveStart,x=p>>20,j=l?w+x:i.directiveEnd;for(let W=u?w:w+x;W<j;W++){const he=y[W];if(W<E&&o===he||W>=E&&he.type===o)return W}if(l){const W=y[E];if(W&&Yr(W)&&W.type===o)return E}return null}function Ss(i,s,o,u){let l=i[o];const p=s.data;if(function(i){return i instanceof ma}(l)){const y=l;y.resolving&&function(i,s){throw new Fe("200",`Circular dependency in DI detected for ${i}`)}(se(p[o]));const w=Ao(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?Br(y.injectImpl):null;du(i,u,ct.Default);try{l=i[o]=y.factory(void 0,p,i,u),s.firstCreatePass&&o>=u.directiveStart&&function(i,s,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:p}=s.type.prototype;if(u){const y=wo(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,y),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,y)}l&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,l),p&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,p),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,p))}(o,p[o],s)}finally{null!==E&&Br(E),Ao(w),y.resolving=!1,Ql()}}return l}function ro(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function Cr(i,s){return!(i&ct.Self||i&ct.Host&&s)}class un{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,u){return So(this._tNode,this._lView,s,u,o)}}function io(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const p=o[l];if(To(p))break;if(0===p)l+=2;else if("number"==typeof p)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(p===s)return o[l+1];l+=2}}}return null}(ln(),i)}const xs="__parameters__";function rn(i,s,o){return Tt(()=>{const u=function(i){return function(...o){if(i){const u=i(...o);for(const l in u)this[l]=u[l]}}}(s);function l(...p){if(this instanceof l)return u.apply(this,p),this;const y=new l(...p);return w.annotation=y,w;function w(E,C,x){const N=E.hasOwnProperty(xs)?E[xs]:Object.defineProperty(E,xs,{value:[]})[xs];for(;N.length<=x;)N.push(null);return(N[x]=N[x]||[]).push(y),E}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=i,l.annotationCls=l,l})}class Qt{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=en({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const yu=new Qt("AnalyzeForEntryComponents");function qr(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let u=i[o];Array.isArray(u)?(s===i&&(s=i.slice(0,o)),qr(u,s)):s!==i&&s.push(u)}return s}function Ri(i,s){i.forEach(o=>Array.isArray(o)?Ri(o,s):s(o))}function xc(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function xo(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}const vu={},wu="__NG_DI_FLAG__",rs="ngTempTokenPath",Gh=/\n/gm,D="__source",b=de({provide:String,useValue:de});let M;function L(i){const s=M;return M=i,s}function Z(i,s=ct.Default){if(void 0===M)throw new Error("inject() must be called from an injection context");return null===M?ot(i,void 0,s):M.get(i,s&ct.Optional?null:void 0,s)}function q(i,s=ct.Default){return(kt||Z)(Y(i),s)}function Ve(i){const s=[];for(let o=0;o<i.length;o++){const u=Y(i[o]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let l,p=ct.Default;for(let y=0;y<u.length;y++){const w=u[y],E=Gt(w);"number"==typeof E?-1===E?l=w.token:p|=E:l=w}s.push(q(l,p))}else s.push(q(u))}return s}function At(i,s){return i[wu]=s,i.prototype[wu]=s,i}function Gt(i){return i[wu]}const fn=At(rn("Inject",i=>({token:i})),-1),rr=At(rn("Optional"),8),Zr=At(rn("SkipSelf"),4);class Jh{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const Wp=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ef=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Sn=(()=>((Sn=Sn||{})[Sn.NONE=0]="NONE",Sn[Sn.HTML=1]="HTML",Sn[Sn.STYLE=2]="STYLE",Sn[Sn.SCRIPT=3]="SCRIPT",Sn[Sn.URL=4]="URL",Sn[Sn.RESOURCE_URL=5]="RESOURCE_URL",Sn))();function md(i){const s=function(){const i=Ie();return i&&i[12]}();return s?s.sanitize(Sn.URL,i)||"":function(i,s){const o=function(i){return i instanceof Jh&&i.getTypeName()||null}(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}(i,"URL")?function(i){return i instanceof Jh?i.changingThisBreaksApplicationSecurity:i}(i):function(i){return(i=String(i)).match(Wp)||i.match(ef)?i:"unsafe:"+i}(G(i))}const vd="__ngContext__";function ir(i,s){i[vd]=s}function sf(i){const s=function(i){return i[vd]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function uf(i){return i.ngOriginalError}function yy(i,...s){i.error(...s)}class Wc{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),u=(i=s)&&i.ngErrorLogger||yy;var i;u(this._console,"ERROR",s),o&&u(this._console,"ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&uf(s);for(;o&&uf(o);)o=uf(o);return o||null}}const hf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(pt))();function Li(i){return i instanceof Function?i():i}var Os=(()=>((Os=Os||{})[Os.Important=1]="Important",Os[Os.DashCase=2]="DashCase",Os))();function Mu(i,s){return undefined(i,s)}function Fa(i){const s=i[3];return ai(s)?s[3]:s}function Ua(i){return gf(i[13])}function Cd(i){return gf(i[4])}function gf(i){for(;null!==i&&!ai(i);)i=i[4];return i}function Va(i,s,o,u,l){if(null!=u){let p,y=!1;ai(u)?p=u:oi(u)&&(y=!0,u=u[0]);const w=Tn(u);0===i&&null!==o?null==l?Ad(s,o,w):Ns(s,o,w,l||null,!0):1===i&&null!==o?Ns(s,o,w,l||null,!0):2===i?function(i,s,o){const u=Ru(i,s);u&&function(i,s,o,u){Wt(i)?i.removeChild(s,o,u):s.removeChild(o)}(i,u,s,o)}(s,w,y):3===i&&s.destroyNode(w),null!=p&&function(i,s,o,u,l){const p=o[7];p!==Tn(o)&&Va(s,i,u,p,l);for(let w=10;w<o.length;w++){const E=o[w];vf(E[1],E,i,s,u,p)}}(s,i,p,o,l)}}function m(i,s,o){return Wt(i)?i.createElement(s,o):null===o?i.createElement(s):i.createElementNS(o,s)}function Q(i,s){const o=i[9],u=o.indexOf(s),l=s[3];1024&s[2]&&(s[2]&=-1025,Is(l,-1)),o.splice(u,1)}function Me(i,s){if(i.length<=10)return;const o=10+s,u=i[o];if(u){const l=u[17];null!==l&&l!==i&&Q(l,u),s>0&&(i[o-1][4]=u[4]);const p=xo(i,10+s);!function(i,s){vf(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const y=p[19];null!==y&&y.detachView(p[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Se(i,s){if(!(256&s[2])){const o=s[11];Wt(o)&&o.destroyNode&&vf(i,s,o,3,null,null),function(i){let s=i[13];if(!s)return Ye(i[1],i);for(;s;){let o=null;if(oi(s))o=s[13];else{const u=s[10];u&&(o=u)}if(!o){for(;s&&!s[4]&&s!==i;)oi(s)&&Ye(s[1],s),s=s[3];null===s&&(s=i),oi(s)&&Ye(s[1],s),o=s&&s[4]}s=o}}(s)}}function Ye(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let u=0;u<o.length;u+=2){const l=s[o[u]];if(!(l instanceof ma)){const p=o[u+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=l[p[y]],E=p[y+1];try{E.call(w)}finally{}}else try{p.call(l)}finally{}}}}(i,s),function(i,s){const o=i.cleanup,u=s[7];let l=-1;if(null!==o)for(let p=0;p<o.length-1;p+=2)if("string"==typeof o[p]){const y=o[p+1],w="function"==typeof y?y(s):Tn(s[y]),E=u[l=o[p+2]],C=o[p+3];"boolean"==typeof C?w.removeEventListener(o[p],E,C):C>=0?u[l=C]():u[l=-C].unsubscribe(),p+=2}else{const y=u[l=o[p+1]];o[p].call(y)}if(null!==u){for(let p=l+1;p<u.length;p++)u[p]();s[7]=null}}(i,s),1===s[1].type&&Wt(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&ai(s[3])){o!==s[3]&&Q(o,s);const u=s[19];null!==u&&u.detachView(i)}}}function pn(i,s,o){return function(i,s,o){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return o[0];if(2&u.flags){const l=i.data[u.directiveStart].encapsulation;if(l===Ge.None||l===Ge.Emulated)return null}return Cn(u,o)}(i,s.parent,o)}function Ns(i,s,o,u,l){Wt(i)?i.insertBefore(s,o,u,l):s.insertBefore(o,u,l)}function Ad(i,s,o){Wt(i)?i.appendChild(s,o):s.appendChild(o)}function Sd(i,s,o,u,l){null!==u?Ns(i,s,o,u,l):Ad(i,s,o)}function Ru(i,s){return Wt(i)?i.parentNode(s):s.parentNode}let yf=function(i,s,o){return 40&i.type?Cn(i,o):null};function Rd(i,s,o,u){const l=pn(i,u,s),p=s[11],w=function(i,s,o){return yf(i,s,o)}(u.parent||s[6],u,s);if(null!=l)if(Array.isArray(o))for(let E=0;E<o.length;E++)Sd(p,l,o[E],w,!1);else Sd(p,l,o,w,!1)}function dg(i,s){if(null!==s){const o=s.type;if(3&o)return Cn(s,i);if(4&o)return Dy(-1,i[s.index]);if(8&o){const u=s.child;if(null!==u)return dg(i,u);{const l=i[s.index];return ai(l)?Dy(-1,l):Tn(l)}}if(32&o)return Mu(s,i)()||Tn(i[s.index]);{const u=Iy(i,s);return null!==u?Array.isArray(u)?u[0]:dg(Fa(i[16]),u):dg(i,s.next)}}return null}function Iy(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Dy(i,s){const o=10+i+1;if(o<s.length){const u=s[o],l=u[1].firstChild;if(null!==l)return dg(u,l)}return s[7]}function by(i,s,o,u,l,p,y){for(;null!=o;){const w=u[o.index],E=o.type;if(y&&0===s&&(w&&ir(Tn(w),u),o.flags|=4),64!=(64&o.flags))if(8&E)by(i,s,o.child,u,l,p,!1),Va(s,i,l,w,p);else if(32&E){const C=Mu(o,u);let x;for(;x=C();)Va(s,i,l,x,p);Va(s,i,l,w,p)}else 16&E?Rr(i,s,u,o,l,p):Va(s,i,l,w,p);o=y?o.projectionNext:o.next}}function vf(i,s,o,u,l,p){by(o,u,i.firstChild,s,l,p,!1)}function Rr(i,s,o,u,l,p){const y=o[16],E=y[6].projection[u.projection];if(Array.isArray(E))for(let C=0;C<E.length;C++)Va(s,i,l,E[C],p);else by(i,s,E,y[3],l,p,!0)}function u0(i,s,o){Wt(i)?i.setAttribute(s,"style",o):s.style.cssText=o}function us(i,s,o){Wt(i)?""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o):s.className=o}function II(i,s,o){let u=i.length;for(;;){const l=i.indexOf(s,o);if(-1===l)return l;if(0===l||i.charCodeAt(l-1)<=32){const p=s.length;if(l+p===u||i.charCodeAt(l+p)<=32)return l}o=l+1}}const pe="ng-template";function Yc(i,s,o){let u=0;for(;u<i.length;){let l=i[u++];if(o&&"class"===l){if(l=i[u],-1!==II(l.toLowerCase(),s,0))return!0}else if(1===l){for(;u<i.length&&"string"==typeof(l=i[u++]);)if(l.toLowerCase()===s)return!0;return!1}}return!1}function wf(i){return 4===i.type&&i.value!==pe}function Pu(i,s,o){return s===(4!==i.type||o?i.value:pe)}function Pt(i,s,o){let u=4;const l=i.attrs||[],p=function(i){for(let s=0;s<i.length;s++)if(To(i[s]))return s;return i.length}(l);let y=!1;for(let w=0;w<s.length;w++){const E=s[w];if("number"!=typeof E){if(!y)if(4&u){if(u=2|1&u,""!==E&&!Pu(i,E,o)||""===E&&1===s.length){if(co(u))return!1;y=!0}}else{const C=8&u?E:s[++w];if(8&u&&null!==i.attrs){if(!Yc(i.attrs,C,o)){if(co(u))return!1;y=!0}continue}const N=Ba(8&u?"class":E,l,wf(i),o);if(-1===N){if(co(u))return!1;y=!0;continue}if(""!==C){let j;j=N>p?"":l[N+1].toLowerCase();const W=8&u?j:null;if(W&&-1!==II(W,C,0)||2&u&&C!==j){if(co(u))return!1;y=!0}}}}else{if(!y&&!co(u)&&!co(E))return!1;if(y&&co(E))continue;y=!1,u=E|1&u}}return co(u)||y}function co(i){return 0==(1&i)}function Ba(i,s,o,u){if(null===s)return-1;let l=0;if(u||!o){let p=!1;for(;l<s.length;){const y=s[l];if(y===i)return l;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=s[++l];for(;"string"==typeof w;)w=s[++l];continue}if(4===y)break;if(0===y){l+=4;continue}}l+=p?1:2}return-1}return function(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const u=i[o];if("number"==typeof u)return-1;if(u===s)return o;o++}return-1}(s,i)}function Qe(i,s,o=!1){for(let u=0;u<s.length;u++)if(Pt(i,s[u],o))return!0;return!1}function Od(i,s){return i?":not("+s.trim()+")":s}function DI(i){let s=i[0],o=1,u=2,l="",p=!1;for(;o<i.length;){let y=i[o];if("string"==typeof y)if(2&u){const w=i[++o];l+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&u?l+="."+y:4&u&&(l+=" "+y);else""!==l&&!co(y)&&(s+=Od(p,l),l=""),u=y,p=p||!co(u);o++}return""!==l&&(s+=Od(p,l)),s}const It={};function c0(i){Or(Ct(),Ie(),nn()+i,sa())}function Or(i,s,o,u){if(!u)if(3==(3&s[2])){const p=i.preOrderCheckHooks;null!==p&&fu(s,p,o)}else{const p=i.preOrderHooks;null!==p&&ga(s,p,0,o)}Ts(o)}function b0(i,s){const o=i.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const l=o[u],p=o[u+1];if(-1!==p){const y=i.data[p];da(l),y.contentQueries(2,s[p],p)}}}function Qc(i,s,o,u,l,p,y,w,E,C){const x=s.blueprint.slice();return x[0]=l,x[2]=140|u,ta(x),x[3]=x[15]=i,x[8]=o,x[10]=y||i&&i[10],x[11]=w||i&&i[11],x[12]=E||i&&i[12]||null,x[9]=C||i&&i[9]||null,x[6]=p,x[16]=2==s.type?i[16]:x,x}function Jc(i,s,o,u,l){let p=i.data[s];if(null===p)p=function(i,s,o,u,l){const p=ia(),y=uu(),E=i.data[s]=function(i,s,o,u,l,p){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,o,s,u,l);return null===i.firstChild&&(i.firstChild=E),null!==p&&(y?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}(i,s,o,u,l),Ke.lFrame.inI18n&&(p.flags|=64);else if(64&p.type){p.type=o,p.value=u,p.attrs=l;const y=function(){const i=Ke.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return nr(p,!0),p}function Nu(i,s,o,u){if(0===o)return-1;const l=s.length;for(let p=0;p<o;p++)s.push(u),i.blueprint.push(u),i.data.push(null);return l}function Xc(i,s,o){hu(s);try{const u=i.viewQuery;null!==u&&Cg(1,u,o);const l=i.template;null!==l&&Lr(i,s,l,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&b0(i,s),i.staticViewQueries&&Cg(2,i.viewQuery,o);const p=i.components;null!==p&&function(i,s){for(let o=0;o<s.length;o++)Ky(i,s[o])}(s,p)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,pa()}}function ku(i,s,o,u){const l=s[2];if(256==(256&l))return;hu(s);const p=sa();try{ta(s),function(i){Ke.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&Lr(i,s,o,2,u);const y=3==(3&l);if(!p)if(y){const C=i.preOrderCheckHooks;null!==C&&fu(s,C,null)}else{const C=i.preOrderHooks;null!==C&&ga(s,C,0,null),ed(s,0)}if(function(i){for(let s=Ua(i);null!==s;s=Cd(s)){if(!s[2])continue;const o=s[9];for(let u=0;u<o.length;u++){const l=o[u],p=l[3];0==(1024&l[2])&&Is(p,1),l[2]|=1024}}}(s),function(i){for(let s=Ua(i);null!==s;s=Cd(s))for(let o=10;o<s.length;o++){const u=s[o],l=u[1];ea(u)&&ku(l,u,l.template,u[8])}}(s),null!==i.contentQueries&&b0(i,s),!p)if(y){const C=i.contentCheckHooks;null!==C&&fu(s,C)}else{const C=i.contentHooks;null!==C&&ga(s,C,1),ed(s,1)}!function(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)Ts(~l);else{const p=l,y=o[++u],w=o[++u];ca(y,p),w(2,s[p])}}}finally{Ts(-1)}}(i,s);const w=i.components;null!==w&&function(i,s){for(let o=0;o<s.length;o++)Wy(i,s[o])}(s,w);const E=i.viewQuery;if(null!==E&&Cg(2,E,u),!p)if(y){const C=i.viewCheckHooks;null!==C&&fu(s,C)}else{const C=i.viewHooks;null!==C&&ga(s,C,2),ed(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),p||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Is(s[3],-1))}finally{pa()}}function kr(i,s,o,u){const l=s[10],p=!sa(),y=Ji(s);try{p&&!y&&l.begin&&l.begin(),y&&Xc(i,s,u),ku(i,s,o,u)}finally{p&&!y&&l.end&&l.end()}}function Lr(i,s,o,u,l){const p=nn(),y=2&u;try{Ts(-1),y&&s.length>20&&Or(i,s,20,sa()),o(u,l)}finally{Ts(p)}}function Sf(i,s,o){!ou()||(function(i,s,o,u){const l=o.directiveStart,p=o.directiveEnd;i.firstCreatePass||va(o,s),ir(u,s);const y=o.initialInputs;for(let w=l;w<p;w++){const E=i.data[w],C=Yr(E);C&&vi(s,o,E);const x=Ss(s,i,w,o);ir(x,s),null!==y&&Ig(0,w-l,x,E,0,y),C&&(Zt(o.index,s)[8]=x)}}(i,s,o,Cn(o,s)),128==(128&o.flags)&&function(i,s,o){const u=o.directiveStart,l=o.directiveEnd,y=o.index,w=Ke.lFrame.currentDirectiveIndex;try{Ts(y);for(let E=u;E<l;E++){const C=i.data[E],x=s[E];la(E),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&N0(C,x)}}finally{Ts(-1),la(w)}}(i,s,o))}function By(i,s,o=Cn){const u=s.localNames;if(null!==u){let l=s.index+1;for(let p=0;p<u.length;p+=2){const y=u[p+1],w=-1===y?o(s,i):i[y];i[l++]=w}}}function A0(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=xf(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function xf(i,s,o,u,l,p,y,w,E,C){const x=20+u,N=x+l,j=function(i,s){const o=[];for(let u=0;u<s;u++)o.push(u<i?null:It);return o}(x,N),W="function"==typeof C?C():C;return j[1]={type:i,blueprint:j,template:o,queries:null,viewQuery:w,declTNode:s,data:j.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:W,incompleteFirstPass:!1}}function M0(i,s,o,u){const l=Yy(s);null===o?l.push(u):(l.push(o),i.firstCreatePass&&Nf(i).push(u,l.length-1))}function $y(i,s,o){for(let u in i)if(i.hasOwnProperty(u)){const l=i[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(s,l):o[u]=[s,l]}return o}function Ld(i,s,o,u){let l=!1;if(ou()){const p=function(i,s,o){const u=i.directiveRegistry;let l=null;if(u)for(let p=0;p<u.length;p++){const y=u[p];Qe(o,y.selectors,!1)&&(l||(l=[]),ts(va(o,s),i,y.type),Yr(y)?(Zy(i,o),l.unshift(y)):l.push(y))}return l}(i,s,o),y=null===u?null:{"":-1};if(null!==p){l=!0,Ud(o,i.data.length,p.length);for(let x=0;x<p.length;x++){const N=p[x];N.providersResolver&&N.providersResolver(N)}let w=!1,E=!1,C=Nu(i,s,p.length,null);for(let x=0;x<p.length;x++){const N=p[x];o.mergedAttrs=Si(o.mergedAttrs,N.hostAttrs),Gy(i,o,s,C,N),k0(C,N,y),null!==N.contentQueries&&(o.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(o.flags|=128);const j=N.type.prototype;!w&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),w=!0),!E&&(j.ngOnChanges||j.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),E=!0),C++}!function(i,s){const u=s.directiveEnd,l=i.data,p=s.attrs,y=[];let w=null,E=null;for(let C=s.directiveStart;C<u;C++){const x=l[C],N=x.inputs,j=null===p||wf(s)?null:L0(N,p);y.push(j),w=$y(N,C,w),E=$y(x.outputs,C,E)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=16),w.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=w,s.outputs=E}(i,o)}y&&function(i,s,o){if(s){const u=i.localNames=[];for(let l=0;l<s.length;l+=2){const p=o[s[l+1]];if(null==p)throw new Fe("301",`Export of name '${s[l+1]}' not found!`);u.push(s[l],p)}}}(o,u,y)}return o.mergedAttrs=Si(o.mergedAttrs,o.attrs),l}function P0(i,s,o,u,l,p){const y=p.hostBindings;if(y){let w=i.hostBindingOpCodes;null===w&&(w=i.hostBindingOpCodes=[]);const E=~s.index;(function(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(w)!=E&&w.push(E),w.push(u,l,y)}}function N0(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Zy(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function k0(i,s,o){if(o){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)o[s.exportAs[u]]=i;Yr(s)&&(o[""]=i)}}function Ud(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function Gy(i,s,o,u,l){i.data[u]=l;const p=l.factory||(l.factory=Ci(l.type)),y=new ma(p,Yr(l),null);i.blueprint[u]=y,o[u]=y,P0(i,s,0,u,Nu(i,o,l.hostVars,It),l)}function vi(i,s,o){const u=Cn(s,i),l=A0(o),p=i[10],y=Lu(i,Qc(i,l,null,o.onPush?64:16,u,s,p,p.createRenderer(u,o),null,null));i[s.index]=y}function lo(i,s,o,u,l,p){const y=Cn(i,s);!function(i,s,o,u,l,p,y){if(null==p)Wt(i)?i.removeAttribute(s,l,o):s.removeAttribute(l);else{const w=null==y?G(p):y(p,u||"",l);Wt(i)?i.setAttribute(s,l,w,o):o?s.setAttributeNS(o,l,w):s.setAttribute(l,w)}}(s[11],y,p,i.value,o,u,l)}function Ig(i,s,o,u,l,p){const y=p[s];if(null!==y){const w=u.setInput;for(let E=0;E<y.length;){const C=y[E++],x=y[E++],N=y[E++];null!==w?u.setInput(o,N,C,x):o[x]=N}}}function L0(i,s){let o=null,u=0;for(;u<s.length;){const l=s[u];if(0!==l)if(5!==l){if("number"==typeof l)break;i.hasOwnProperty(l)&&(null===o&&(o=[]),o.push(l,i[l],s[u+1])),u+=2}else u+=2;else u+=4}return o}function zy(i,s,o,u){return new Array(i,!0,!1,s,null,0,u,o,null,null)}function Wy(i,s){const o=Zt(s,i);if(ea(o)){const u=o[1];80&o[2]?ku(u,o,u.template,o[8]):o[5]>0&&Rf(o)}}function Rf(i){for(let u=Ua(i);null!==u;u=Cd(u))for(let l=10;l<u.length;l++){const p=u[l];if(1024&p[2]){const y=p[1];ku(y,p,y.template,p[8])}else p[5]>0&&Rf(p)}const o=i[1].components;if(null!==o)for(let u=0;u<o.length;u++){const l=Zt(o[u],i);ea(l)&&l[5]>0&&Rf(l)}}function Ky(i,s){const o=Zt(s,i),u=o[1];(function(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(u,o),Xc(u,o,o[8])}function Lu(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function bg(i){for(;i;){i[2]|=64;const s=Fa(i);if(Ah(i)&&!s)return i;i=s}return null}function Vd(i,s,o){const u=s[10];u.begin&&u.begin();try{ku(i,s,i.template,o)}catch(l){throw Fu(s,l),l}finally{u.end&&u.end()}}function Tg(i){!function(i){for(let s=0;s<i.components.length;s++){const o=i.components[s],u=sf(o),l=u[1];kr(l,u,l.template,o)}}(i[8])}function Cg(i,s,o){da(0),s(i,o)}const Pf=(()=>Promise.resolve(null))();function Yy(i){return i[7]||(i[7]=[])}function Nf(i){return i.cleanup||(i.cleanup=[])}function Fu(i,s){const o=i[9],u=o?o.get(Wc,null):null;u&&u.handleError(s)}function Ag(i,s,o,u,l){for(let p=0;p<o.length;){const y=o[p++],w=o[p++],E=s[y],C=i.data[y];null!==C.setInput?C.setInput(E,l,u,w):E[w]=l}}function ja(i,s,o){const u=function(i,s){return Tn(s[i])}(s,i);!function(i,s,o){Wt(i)?i.setValue(s,o):s.textContent=o}(i[11],u,o)}function jd(i,s,o){let u=o?i.styles:null,l=o?i.classes:null,p=0;if(null!==s)for(let y=0;y<s.length;y++){const w=s[y];"number"==typeof w?p=w:1==p?l=ae(l,w):2==p&&(u=ae(u,w+": "+s[++y]+";"))}o?i.styles=u:i.stylesWithoutHost=u,o?i.classes=l:i.classesWithoutHost=l}const Sg=new Qt("INJECTOR",-1);class j0{get(s,o=vu){if(o===vu){const u=new Error(`NullInjectorError: No provider for ${ne(s)}!`);throw u.name="NullInjectorError",u}return o}}const $a=new Qt("Set Injector scope."),cs={},xg={};let qd;function kf(){return void 0===qd&&(qd=new j0),qd}function Jy(i,s=null,o=null,u){const l=In(i,s,o,u);return l._resolveInjectorDefTypes(),l}function In(i,s=null,o=null,u){return new Mg(i,o,s||kf(),u)}class Mg{constructor(s,o,u,l=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];o&&Ri(o,w=>this.processProvider(w,s,o)),Ri([s],w=>this.processInjectorType(w,[],p)),this.records.set(Sg,Gd(void 0,this));const y=this.records.get($a);this.scope=null!=y?y.value:null,this.source=l||("object"==typeof s?null:ne(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=vu,u=ct.Default){this.assertNotDestroyed();const l=L(this),p=Br(void 0);try{if(!(u&ct.SkipSelf)){let w=this.records.get(s);if(void 0===w){const E=("function"==typeof(i=s)||"object"==typeof i&&i instanceof Qt)&&ti(s);w=E&&this.injectableDefInScope(E)?Gd(Xy(s),cs):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(u&ct.Self?kf():this.parent).get(s,o=u&ct.Optional&&o===vu?null:o)}catch(y){if("NullInjectorError"===y.name){if((y[rs]=y[rs]||[]).unshift(ne(s)),l)throw y;return function(i,s,o,u){const l=i[rs];throw s[D]&&l.unshift(s[D]),i.message=function(i,s,o,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let l=ne(s);if(Array.isArray(s))l=s.map(ne).join(" -> ");else if("object"==typeof s){let p=[];for(let y in s)if(s.hasOwnProperty(y)){let w=s[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):ne(w)))}l=`{${p.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${i.replace(Gh,"\n  ")}`}("\n"+i.message,l,o,u),i.ngTokenPath=l,i[rs]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{Br(p),L(l)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,l)=>s.push(ne(l))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,o,u){if(!(s=Y(s)))return!1;let l=ni(s);const p=null==l&&s.ngModule||void 0,y=void 0===p?s:p,w=-1!==u.indexOf(y);if(void 0!==p&&(l=ni(p)),null==l)return!1;if(null!=l.imports&&!w){let x;u.push(y);try{Ri(l.imports,N=>{this.processInjectorType(N,o,u)&&(void 0===x&&(x=[]),x.push(N))})}finally{}if(void 0!==x)for(let N=0;N<x.length;N++){const{ngModule:j,providers:W}=x[N];Ri(W,he=>this.processProvider(he,j,W||F))}}this.injectorDefTypes.add(y);const E=Ci(y)||(()=>new y);this.records.set(y,Gd(E,cs));const C=l.providers;if(null!=C&&!w){const x=s;Ri(C,N=>this.processProvider(N,x,C))}return void 0!==p&&void 0!==s.providers}processProvider(s,o,u){let l=zd(s=Y(s))?s:Y(s&&s.provide);const p=(i=s,e_(i)?Gd(void 0,i.useValue):Gd(function(i,s,o){let u;if(zd(i)){const l=Y(i);return Ci(l)||Xy(l)}if(e_(i))u=()=>Y(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...Ve(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))u=()=>q(Y(i.useExisting));else{const l=Y(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return Ci(l)||Xy(l);u=()=>new l(...Ve(i.deps))}return u}(i),cs));var i;if(zd(s)||!0!==s.multi)this.records.get(l);else{let y=this.records.get(l);y||(y=Gd(void 0,cs,!0),y.factory=()=>Ve(y.multi),this.records.set(l,y)),l=s,y.multi.push(s)}this.records.set(l,p)}hydrate(s,o){return o.value===cs&&(o.value=xg,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(i=o.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const o=Y(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Xy(i){const s=ti(i),o=null!==s?s.factory:Ci(i);if(null!==o)return o;if(i instanceof Qt)throw new Error(`Token ${ne(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const u=function(i,s){const o=[];for(let u=0;u<i;u++)o.push(s);return o}(s,"?");throw new Error(`Can't resolve all parameters for ${ne(i)}: (${u.join(", ")}).`)}const o=function(i){const s=i&&(i[Ti]||i[$n]);if(s){const o=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Error("unreachable")}function Gd(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function e_(i){return null!==i&&"object"==typeof i&&b in i}function zd(i){return"function"==typeof i}let ls=(()=>{class i{static create(o,u){var l;if(Array.isArray(o))return Jy({name:""},u,o,"");{const p=null!==(l=o.name)&&void 0!==l?l:"";return Jy({name:p},o.parent,o.providers,p)}}}return i.THROW_IF_NOT_FOUND=vu,i.NULL=new j0,i.\u0275prov=en({token:i,providedIn:"any",factory:()=>q(Sg)}),i.__NG_ELEMENT_ID__=-1,i})();function HI(i,s){Cs(sf(i)[1],ln())}let Vu=null;function rl(){if(!Vu){const i=pt.Symbol;if(i&&i.iterator)Vu=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const u=s[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Vu=u)}}}return Vu}function Bu(i){return!!Kd(i)&&(Array.isArray(i)||!(i instanceof Map)&&rl()in i)}function Kd(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function or(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function jf(i,s,o,u){const l=Ie();return or(l,bs(),s)&&(Ct(),lo(dn(),l,i,s,o,u)),jf}function h_(i,s,o,u,l,p,y,w){const E=Ie(),C=Ct(),x=i+20,N=C.firstCreatePass?function(i,s,o,u,l,p,y,w,E){const C=s.consts,x=Jc(s,i,4,y||null,Tr(C,w));Ld(s,o,x,Tr(C,E)),Cs(s,x);const N=x.tViews=xf(2,x,u,l,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,C);return null!==s.queries&&(s.queries.template(s,x),N.queries=s.queries.embeddedTView(x)),x}(x,C,E,s,o,u,l,p,y):C.data[x];nr(N,!1);const j=E[11].createComment("");Rd(C,E,j,N),ir(j,E),Lu(E,E[x]=zy(j,E,j,N)),fc(N)&&Sf(C,E,N),null!=y&&By(E,N,w)}function Hf(i){return function(i,s){return i[s]}(Ke.lFrame.contextLView,20+i)}function Lo(i,s=ct.Default){const o=Ie();return null===o?q(i,s):So(ln(),o,Y(i),s)}function aw(){throw new Error("invalid")}function ar(i,s,o){const u=Ie();return or(u,bs(),s)&&function(i,s,o,u,l,p,y,w){const E=Cn(s,o);let x,C=s.inputs;!w&&null!=C&&(x=C[u])?(Ag(i,o,x,u,l),Yi(s)&&function(i,s){const o=Zt(s,i);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(u=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),l=null!=y?y(l,s.value||"",u):l,Wt(p)?p.setProperty(E,u,l):et(u)||(E.setProperty?E.setProperty(u,l):E[u]=l))}(Ct(),dn(),u,i,s,u[11],o,!1),ar}function g_(i,s,o,u,l){const y=l?"class":"style";Ag(i,o,s.inputs[y],y,u)}function jn(i,s,o,u){const l=Ie(),p=Ct(),y=20+i,w=l[11],E=l[y]=m(w,s,Ke.lFrame.currentNamespace),C=p.firstCreatePass?function(i,s,o,u,l,p,y){const w=s.consts,C=Jc(s,i,2,l,Tr(w,p));return Ld(s,o,C,Tr(w,y)),null!==C.attrs&&jd(C,C.attrs,!1),null!==C.mergedAttrs&&jd(C,C.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,C),C}(y,p,l,0,s,o,u):p.data[y];nr(C,!0);const x=C.mergedAttrs;null!==x&&hn(w,E,x);const N=C.classes;null!==N&&us(w,E,N);const j=C.styles;null!==j&&u0(w,E,j),64!=(64&C.flags)&&Rd(p,l,E,C),0===Ke.lFrame.elementDepthCount&&ir(E,l),Ke.lFrame.elementDepthCount++,fc(C)&&(Sf(p,l,C),function(i,s,o){if(Bn(s)){const l=s.directiveEnd;for(let p=s.directiveStart;p<l;p++){const y=i.data[p];y.contentQueries&&y.contentQueries(1,o[p],p)}}}(p,C,l)),null!==u&&By(l,C)}function Zu(){let i=ln();uu()?Ke.lFrame.isParent=!1:(i=i.parent,nr(i,!1));const s=i;Ke.lFrame.elementDepthCount--;const o=Ct();o.firstCreatePass&&(Cs(o,i),Bn(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&g_(o,s,Ie(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&g_(o,s,Ie(),s.stylesWithoutHost,!1)}function $g(i,s,o,u){jn(i,s,o,u),Zu()}function nt(){return Ie()}function Za(i){return!!i&&"function"==typeof i.then}function ho(i){return!!i&&"function"==typeof i.subscribe}const Xd=ho;function zu(i,s,o,u){const l=Ie(),p=Ct(),y=ln();return function(i,s,o,u,l,p,y,w){const E=fc(u),x=i.firstCreatePass&&Nf(i),N=s[8],j=Yy(s);let W=!0;if(3&u.type||w){const Ne=Cn(u,s),qe=w?w(Ne):Ne,_e=j.length,tt=w?Nt=>w(Tn(Nt[u.index])):u.index;if(Wt(o)){let Nt=null;if(!w&&E&&(Nt=function(i,s,o,u){const l=i.cleanup;if(null!=l)for(let p=0;p<l.length-1;p+=2){const y=l[p];if(y===o&&l[p+1]===u){const w=s[7],E=l[p+2];return w.length>E?w[E]:null}"string"==typeof y&&(p+=2)}return null}(i,s,l,u.index)),null!==Nt)(Nt.__ngLastListenerFn__||Nt).__ngNextListenerFn__=p,Nt.__ngLastListenerFn__=p,W=!1;else{p=Kf(u,s,N,p,!1);const Jt=o.listen(qe,l,p);j.push(p,Jt),x&&x.push(l,tt,_e,_e+1)}}else p=Kf(u,s,N,p,!0),qe.addEventListener(l,p,y),j.push(p),x&&x.push(l,tt,_e,y)}else p=Kf(u,s,N,p,!1);const he=u.outputs;let Re;if(W&&null!==he&&(Re=he[l])){const Ne=Re.length;if(Ne)for(let qe=0;qe<Ne;qe+=2){const Zi=s[Re[qe]][Re[qe+1]].subscribe(p),po=j.length;j.push(p,Zi),x&&x.push(l,u.index,po,-(po+1))}}}(p,l,l[11],y,i,s,!!o,u),zu}function Wf(i,s,o,u){try{return!1!==o(u)}catch(l){return Fu(i,l),!1}}function Kf(i,s,o,u,l){return function p(y){if(y===Function)return u;const w=2&i.flags?Zt(i.index,s):s;0==(32&s[2])&&bg(w);let E=Wf(s,0,u,y),C=p.__ngNextListenerFn__;for(;C;)E=Wf(s,0,C,y)&&E,C=C.__ngNextListenerFn__;return l&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function T_(i,s=""){const o=Ie(),u=Ct(),l=i+20,p=u.firstCreatePass?Jc(u,l,1,s,null):u.data[l],y=o[l]=function(i,s){return Wt(i)?i.createText(s):i.createTextNode(s)}(o[11],s);Rd(u,o,y,p),nr(p,!1)}function np(i,s,o){const u=Ie(),l=function(i,s,o,u){return or(i,bs(),o)?s+G(o)+u:It}(u,i,s,o);return l!==It&&ja(u,nn(),l),np}const yl=void 0;var ap=["en",[["a","p"],["AM","PM"],yl],[["AM","PM"],yl,yl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yl,"{1} 'at' {0}",yl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const o=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Vo={};function Jg(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=Fw(s);if(o)return o;const u=s.split("-")[0];if(o=Fw(u),o)return o;if("en"===u)return ap;throw new Error(`Missing locale data for the locale "${i}".`)}function O_(i){return Jg(i)[dt.PluralCase]}function Fw(i){return i in Vo||(Vo[i]=pt.ng&&pt.ng.common&&pt.ng.common.locales&&pt.ng.common.locales[i]),Vo[i]}var dt=(()=>((dt=dt||{})[dt.LocaleId=0]="LocaleId",dt[dt.DayPeriodsFormat=1]="DayPeriodsFormat",dt[dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",dt[dt.DaysFormat=3]="DaysFormat",dt[dt.DaysStandalone=4]="DaysStandalone",dt[dt.MonthsFormat=5]="MonthsFormat",dt[dt.MonthsStandalone=6]="MonthsStandalone",dt[dt.Eras=7]="Eras",dt[dt.FirstDayOfWeek=8]="FirstDayOfWeek",dt[dt.WeekendRange=9]="WeekendRange",dt[dt.DateFormat=10]="DateFormat",dt[dt.TimeFormat=11]="TimeFormat",dt[dt.DateTimeFormat=12]="DateTimeFormat",dt[dt.NumberSymbols=13]="NumberSymbols",dt[dt.NumberFormats=14]="NumberFormats",dt[dt.CurrencyCode=15]="CurrencyCode",dt[dt.CurrencySymbol=16]="CurrencySymbol",dt[dt.CurrencyName=17]="CurrencyName",dt[dt.Currencies=18]="Currencies",dt[dt.Directionality=19]="Directionality",dt[dt.PluralCase=20]="PluralCase",dt[dt.ExtraData=21]="ExtraData",dt))();const Yu="en-US";let oh=Yu;class tc{}class nc{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${ne(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let fo=(()=>{class i{}return i.NULL=new nc,i})();function K_(){return Tl(ln(),Ie())}function Tl(i,s){return new hp(Cn(i,s))}let hp=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=K_,i})();function MD(i){return i instanceof hp?i.nativeElement:i}class tE{}let um=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function(){const i=Ie(),o=Zt(ln().index,i);return function(i){return i[11]}(oi(o)?o:i)}(),i})(),RD=(()=>{class i{}return i.\u0275prov=en({token:i,providedIn:"root",factory:()=>null}),i})();class rE{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Y_=new rE("13.1.1"),jo={};function Cl(i,s,o,u,l=!1){for(;null!==o;){const p=s[o.index];if(null!==p&&u.push(Tn(p)),ai(p))for(let w=10;w<p.length;w++){const E=p[w],C=E[1].firstChild;null!==C&&Cl(E[1],E,C,u)}const y=o.type;if(8&y)Cl(i,s,o.child,u);else if(32&y){const w=Mu(o,s);let E;for(;E=w();)u.push(E)}else if(16&y){const w=Iy(s,o);if(Array.isArray(w))u.push(...w);else{const E=Fa(s[16]);Cl(E[1],E,w,u,!0)}}o=l?o.projectionNext:o.next}return u}class fp{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return Cl(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(ai(s)){const o=s[8],u=o?o.indexOf(this):-1;u>-1&&(Me(s,u),xo(o,u))}this._attachedToViewContainer=!1}Se(this._lView[1],this._lView)}onDestroy(s){M0(this._lView[1],this._lView,null,s)}markForCheck(){bg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Vd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,o){to(!0);try{Vd(i,s,o)}finally{to(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,vf(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class iE extends fp{constructor(s){super(s),this._view=s}detectChanges(){Tg(this._view)}checkNoChanges(){!function(i){to(!0);try{Tg(i)}finally{to(!1)}}(this._view)}get context(){return null}}class cm extends fo{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=tn(s);return new J_(o,this.ngModule)}}function lm(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}const dm=new Qt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>hf});class J_ extends tc{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=s.selectors.map(DI).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return lm(this.componentDef.inputs)}get outputs(){return lm(this.componentDef.outputs)}create(s,o,u,l){const p=(l=l||this.ngModule)?function(i,s){return{get:(o,u,l)=>{const p=i.get(o,jo,l);return p!==jo||u===jo?p:s.get(o,u,l)}}}(s,l.injector):s,y=p.get(tE,vc),w=p.get(RD,null),E=y.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",x=u?function(i,s,o){if(Wt(i))return i.selectRootElement(s,o===Ge.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}(E,u,this.componentDef.encapsulation):m(y.createRenderer(null,this.componentDef),C,function(i){const s=i.toLowerCase();return"svg"===s?Wl:"math"===s?"http://www.w3.org/1998/MathML/":null}(C)),N=this.componentDef.onPush?576:528,j=function(i,s){return{components:[],scheduler:i||hf,clean:Pf,playerHandler:s||null,flags:0}}(),W=xf(0,null,null,1,0,null,null,null,null,null),he=Qc(null,W,j,N,null,null,y,E,w,p);let Re,Ne;hu(he);try{const qe=function(i,s,o,u,l,p){const y=o[1];o[20]=i;const E=Jc(y,20,2,"#host",null),C=E.mergedAttrs=s.hostAttrs;null!==C&&(jd(E,C,!0),null!==i&&(hn(l,i,C),null!==E.classes&&us(l,i,E.classes),null!==E.styles&&u0(l,i,E.styles)));const x=u.createRenderer(i,s),N=Qc(o,A0(s),null,s.onPush?64:16,o[20],E,u,x,p||null,null);return y.firstCreatePass&&(ts(va(E,o),y,s.type),Zy(y,E),Ud(E,o.length,1)),Lu(o,N),o[20]=N}(x,this.componentDef,he,y,E);if(x)if(u)hn(E,x,["ng-version",Y_.full]);else{const{attrs:_e,classes:tt}=function(i){const s=[],o=[];let u=1,l=2;for(;u<i.length;){let p=i[u];if("string"==typeof p)2===l?""!==p&&s.push(p,i[++u]):8===l&&o.push(p);else{if(!co(l))break;l=p}u++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);_e&&hn(E,x,_e),tt&&tt.length>0&&us(E,x,tt.join(" "))}if(Ne=Qs(W,20),void 0!==o){const _e=Ne.projection=[];for(let tt=0;tt<this.ngContentSelectors.length;tt++){const Nt=o[tt];_e.push(null!=Nt?Array.from(Nt):null)}}Re=function(i,s,o,u,l){const p=o[1],y=function(i,s,o){const u=ln();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Gy(i,u,s,Nu(i,s,1,null),o));const l=Ss(s,i,u.directiveStart,u);ir(l,s);const p=Cn(u,s);return p&&ir(p,s),l}(p,o,s);if(u.components.push(y),i[8]=y,l&&l.forEach(E=>E(y,s)),s.contentQueries){const E=ln();s.contentQueries(1,y,E.directiveStart)}const w=ln();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Ts(w.index),P0(o[1],w,0,w.directiveStart,w.directiveEnd,s),N0(s,y)),y}(qe,this.componentDef,he,j,[HI]),Xc(W,he,null)}finally{pa()}return new aE(this.componentType,Re,Tl(Ne,he),he,Ne)}}class aE extends class{}{constructor(s,o,u,l,p){super(),this.location=u,this._rootLView=l,this._tNode=p,this.instance=o,this.hostView=this.changeDetectorRef=new iE(l),this.componentType=s}get injector(){return new un(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class Al{}class X_{}const rc=new Map;class Sl extends Al{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new cm(this);const u=er(s);this._bootstrapComponents=Li(u.bootstrap),this._r3Injector=In(s,o,[{provide:Al,useValue:this},{provide:fo,useValue:this.componentFactoryResolver}],ne(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=ls.THROW_IF_NOT_FOUND,u=ct.Default){return s===ls||s===Al||s===Sg?this:this._r3Injector.get(s,o,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class mp extends X_{constructor(s){super(),this.moduleType=s,null!==er(s)&&function(i){const s=new Set;!function o(u){const l=er(u,!0),p=l.id;null!==p&&(function(i,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${i} - ${ne(s)} vs ${ne(s.name)}`)}(p,rc.get(p),u),rc.set(p,u));const y=Li(l.imports);for(const w of y)s.has(w)||(s.add(w),o(w))}(i)}(s)}create(s){return new Sl(this.moduleType,s)}}function yp(i){return s=>{setTimeout(i,void 0,s)}}const $s=class extends g.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,u){var l,p,y;let w=s,E=o||(()=>null),C=u;if(s&&"object"==typeof s){const N=s;w=null===(l=N.next)||void 0===l?void 0:l.bind(N),E=null===(p=N.error)||void 0===p?void 0:p.bind(N),C=null===(y=N.complete)||void 0===y?void 0:y.bind(N)}this.__isAsync&&(E=yp(E),w&&(w=yp(w)),C&&(C=yp(C)));const x=super.subscribe({next:w,error:E,complete:C});return s instanceof K.w0&&s.add(x),x}};function ov(){return this._results[rl()]()}class gm{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=rl(),u=gm.prototype;u[o]||(u[o]=ov)}get changes(){return this._changes||(this._changes=new $s)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const u=this;u.dirty=!1;const l=qr(s);(this._changesDetected=!function(i,s,o){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let l=i[u],p=s[u];if(o&&(l=o(l),p=o(p)),p!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let _p=(()=>{class i{}return i.__NG_ELEMENT_ID__=$D,i})();const yE=_p,jD=class extends yE{constructor(s,o,u){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(s){const o=this._declarationTContainer.tViews,u=Qc(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(u[19]=p.createEmbeddedView(o)),Xc(o,u,s),new fp(u)}};function $D(){return mm(ln(),Ie())}function mm(i,s){return 4&i.type?new jD(s,i,Tl(i,s)):null}let vp=(()=>{class i{}return i.__NG_ELEMENT_ID__=ym,i})();function ym(){return _E(ln(),Ie())}const wp=vp,_m=class extends wp{constructor(s,o,u){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=u}get element(){return Tl(this._hostTNode,this._hostLView)}get injector(){return new un(this._hostTNode,this._hostLView)}get parentInjector(){const s=mu(this._hostTNode,this._hostLView);if(hi(s)){const o=_a(s,this._hostLView),u=Co(s);return new un(o[1].data[u+8],o)}return new un(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=av(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,u){const l=s.createEmbeddedView(o||{});return this.insert(l,u),l}createComponent(s,o,u,l,p){const y=s&&!("function"==typeof s);let w;if(y)w=o;else{const N=o||{};w=N.index,u=N.injector,l=N.projectableNodes,p=N.ngModuleRef}const E=y?s:new J_(tn(s)),C=u||this.parentInjector;if(!p&&null==E.ngModule&&C){const N=C.get(Al,null);N&&(p=N)}const x=E.create(C,l,void 0,p);return this.insert(x.hostView,w),x}insert(s,o){const u=s._lView,l=u[1];if(ai(u[3])){const x=this.indexOf(s);if(-1!==x)this.detach(x);else{const N=u[3],j=new _m(N,N[6],N[3]);j.detach(j.indexOf(s))}}const p=this._adjustIndex(o),y=this._lContainer;!function(i,s,o,u){const l=10+u,p=o.length;u>0&&(o[l-1][4]=s),u<p-10?(s[4]=o[l],xc(o,10+u,s)):(o.push(s),s[4]=null),s[3]=o;const y=s[17];null!==y&&o!==y&&function(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(y,s);const w=s[19];null!==w&&w.insertView(i),s[2]|=128}(l,u,y,p);const w=Dy(p,y),E=u[11],C=Ru(E,y[7]);return null!==C&&function(i,s,o,u,l,p){u[0]=l,u[6]=s,vf(i,u,o,1,l,p)}(l,y[6],E,u,C,w),s.attachToViewContainerRef(),xc(uv(y),p,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=av(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),u=Me(this._lContainer,o);u&&(xo(uv(this._lContainer),o),Se(u[1],u))}detach(s){const o=this._adjustIndex(s,-1),u=Me(this._lContainer,o);return u&&null!=xo(uv(this._lContainer),o)?new fp(u):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function av(i){return i[8]}function uv(i){return i[8]||(i[8]=[])}function _E(i,s){let o;const u=s[i.index];if(ai(u))o=u;else{let l;if(8&i.type)l=Tn(u);else{const p=s[11];l=p.createComment("");const y=Cn(i,s);Ns(p,Ru(p,y),l,function(i,s){return Wt(i)?i.nextSibling(s):s.nextSibling}(p,y),!1)}s[i.index]=o=zy(u,s,l,i),Lu(s,o)}return new _m(o,i,s)}class Ml{constructor(s){this.queryList=s,this.matches=null}clone(){return new Ml(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ep{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const u=null!==s.contentQueries?s.contentQueries[0]:o.length,l=[];for(let p=0;p<u;p++){const y=o.getByIndex(p);l.push(this.queries[y.indexInDeclarationView].clone())}return new Ep(l)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==Dm(s,o).matches&&this.queries[o].setDirty()}}class Rl{constructor(s,o,u=null){this.predicate=s,this.flags=o,this.read=u}}class Ip{constructor(s=[]){this.queries=s}elementStart(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,p=this.getByIndex(u).embeddedTView(s,l);p&&(p.indexInDeclarationView=u,null!==o?o.push(p):o=[p])}return null!==o?new Ip(o):null}template(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class _h{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new _h(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const p=u[l];this.matchTNodeWithReadOption(s,o,Dp(o,p)),this.matchTNodeWithReadOption(s,o,Zn(o,s,p,!1,!1))}else u===_p?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,Zn(o,s,u,!1,!1))}matchTNodeWithReadOption(s,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===hp||l===vp||l===_p&&4&o.type)this.addMatch(o.index,-2);else{const p=Zn(o,s,l,!1,!1);null!==p&&this.addMatch(o.index,p)}else this.addMatch(o.index,u)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function Dp(i,s){const o=i.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===s)return o[u+1];return null}function vE(i,s,o,u){return-1===o?function(i,s){return 11&i.type?Tl(i,s):4&i.type?mm(i,s):null}(s,i):-2===o?function(i,s,o){return o===hp?Tl(s,i):o===_p?mm(s,i):o===vp?_E(s,i):void 0}(i,s,u):Ss(i,i[1],o,s)}function vm(i,s,o,u){const l=s[19].queries[u];if(null===l.matches){const p=i.data,y=o.matches,w=[];for(let E=0;E<y.length;E+=2){const C=y[E];w.push(C<0?null:vE(s,p[C],y[E+1],o.metadata.read))}l.matches=w}return l.matches}function $o(i,s,o,u){const l=i.queries.getByIndex(o),p=l.matches;if(null!==p){const y=vm(i,s,l,o);for(let w=0;w<p.length;w+=2){const E=p[w];if(E>0)u.push(y[w/2]);else{const C=p[w+1],x=s[-E];for(let N=10;N<x.length;N++){const j=x[N];j[17]===j[3]&&$o(j[1],j,C,u)}if(null!==x[9]){const N=x[9];for(let j=0;j<N.length;j++){const W=N[j];$o(W[1],W,C,u)}}}}}return u}function dv(i){const s=Ie(),o=Ct(),u=lu();da(u+1);const l=Dm(o,u);if(i.dirty&&Ji(s)===(2==(2&l.metadata.flags))){if(null===l.matches)i.reset([]);else{const p=l.crossesNgTemplate?$o(o,s,u,[]):vm(o,s,l,u);i.reset(p,MD),i.notifyOnChanges()}return!0}return!1}function wm(i,s,o,u){const l=Ct();if(l.firstCreatePass){const p=ln();(function(i,s,o){null===i.queries&&(i.queries=new Ip),i.queries.track(new _h(s,o))})(l,new Rl(s,o,u),p.index),function(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(l,i),2==(2&o)&&(l.staticContentQueries=!0)}!function(i,s,o){const u=new gm(4==(4&o));M0(i,s,u,u.destroy),null===s[19]&&(s[19]=new Ep),s[19].queries.push(new Ml(u))}(l,Ie(),o)}function wE(){return i=Ie(),s=lu(),i[19].queries[s].queryList;var i,s}function Dm(i,s){return i.queries.getByIndex(s)}function Mm(...i){}const Iv=new Qt("Application Initializer");let oc=(()=>{class i{constructor(o){this.appInits=o,this.resolve=Mm,this.reject=Mm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const p=this.appInits[l]();if(Za(p))o.push(p);else if(Xd(p)){const y=new Promise((w,E)=>{p.subscribe({complete:w,error:E})});o.push(y)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(q(Iv,8))},i.\u0275prov=en({token:i,factory:i.\u0275fac}),i})();const FE=new Qt("AppId"),ib={provide:FE,useFactory:function(){return`${Ap()}${Ap()}${Ap()}`},deps:[]};function Ap(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Rm=new Qt("Platform Initializer"),Om=new Qt("Platform ID"),kl=new Qt("appBootstrapListener");let Pm=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=en({token:i,factory:i.\u0275fac}),i})();const Nm=new Qt("LocaleId"),km=new Qt("DefaultCurrencyCode");class bv{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let Tv=(()=>{class i{compileModuleSync(o){return new mp(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),p=Li(er(o).declarations).reduce((y,w)=>{const E=tn(w);return E&&y.push(new J_(E)),y},[]);return new bv(u,p)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=en({token:i,factory:i.\u0275fac}),i})();const ab=(()=>Promise.resolve(0))();function Sp(i){"undefined"==typeof Zone?ab.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Di{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $s(!1),this.onMicrotaskEmpty=new $s(!1),this.onStable=new $s(!1),this.onError=new $s(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){let i=pt.requestAnimationFrame,s=pt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(pt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Lm(i),i.isCheckStableRunning=!0,xp(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Lm(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,p,y,w)=>{try{return jE(i),o.invokeTask(l,p,y,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),$E(i)}},onInvoke:(o,u,l,p,y,w,E)=>{try{return jE(i),o.invoke(l,p,y,w,E)}finally{i.shouldCoalesceRunChangeDetection&&s(),$E(i)}},onHasTask:(o,u,l,p)=>{o.hasTask(l,p),u===l&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,Lm(i),xp(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(o,u,l,p)=>(o.handleError(l,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Di.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Di.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,u){return this._inner.run(s,o,u)}runTask(s,o,u,l){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+l,s,cb,Mm,Mm);try{return p.runTask(y,o,u)}finally{p.cancelTask(y)}}runGuarded(s,o,u){return this._inner.runGuarded(s,o,u)}runOutsideAngular(s){return this._outer.run(s)}}const cb={};function xp(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Lm(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function jE(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function $E(i){i._nesting--,xp(i)}class Av{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $s,this.onMicrotaskEmpty=new $s,this.onStable=new $s,this.onError=new $s}run(s,o,u){return s.apply(o,u)}runGuarded(s,o,u){return s.apply(o,u)}runOutsideAngular(s){return s()}runTask(s,o,u,l){return s.apply(o,u)}}let HE=(()=>{class i{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Di.assertNotInAngularZone(),Sp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Sp(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:p,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,l){return[]}}return i.\u0275fac=function(o){return new(o||i)(q(Di))},i.\u0275prov=en({token:i,factory:i.\u0275fac}),i})(),Fm=(()=>{class i{constructor(){this._applications=new Map,Mv.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return Mv.findTestabilityInTree(this,o,u)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=en({token:i,factory:i.\u0275fac}),i})();class Sv{addToWindow(s){}findTestabilityInTree(s,o,u){return null}}function xv(i){Mv=i}let Hs,Mv=new Sv;const Ov=new Qt("AllowMultipleToken");class Um{constructor(s,o){this.name=s,this.token=o}}function ZE(i,s,o=[]){const u=`Platform: ${s}`,l=new Qt(u);return(p=[])=>{let y=Pv();if(!y||y.injector.get(Ov,!1))if(i)i(o.concat(p).concat({provide:l,useValue:!0}));else{const w=o.concat(p).concat({provide:l,useValue:!0},{provide:$a,useValue:"platform"});!function(i){if(Hs&&!Hs.destroyed&&!Hs.injector.get(Ov,!1))throw new Fe("400","");Hs=i.get(Vm);const s=i.get(Rm,null);s&&s.forEach(o=>o())}(ls.create({providers:w,name:u}))}return function(i){const s=Pv();if(!s)throw new Fe("401","");return s}()}}function Pv(){return Hs&&!Hs.destroyed?Hs:null}let Vm=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const w=function(i,s){let o;return o="noop"===i?new Av:("zone.js"===i?void 0:i)||new Di({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),E=[{provide:Di,useValue:w}];return w.run(()=>{const C=ls.create({providers:E,parent:this.injector,name:o.moduleType.name}),x=o.create(C),N=x.injector.get(Wc,null);if(!N)throw new Fe("402","");return w.runOutsideAngular(()=>{const j=w.onError.subscribe({next:W=>{N.handleError(W)}});x.onDestroy(()=>{Ih(this._modules,x),j.unsubscribe()})}),function(i,s,o){try{const u=o();return Za(u)?u.catch(l=>{throw s.runOutsideAngular(()=>i.handleError(l)),l}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(N,w,()=>{const j=x.injector.get(oc);return j.runInitializers(),j.donePromise.then(()=>(function(i){ht(i,"Expected localeId to be defined"),"string"==typeof i&&(oh=i.toLowerCase().replace(/_/g,"-"))}(x.injector.get(Nm,Yu)||Yu),this._moduleDoBootstrap(x),x))})})}bootstrapModule(o,u=[]){const l=Bm({},u);return function(i,s,o){const u=new mp(o);return Promise.resolve(u)}(0,0,o).then(p=>this.bootstrapModuleFactory(p,l))}_moduleDoBootstrap(o){const u=o.injector.get(Ll);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Fe("403","");o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe("404","");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(q(ls))},i.\u0275prov=en({token:i,factory:i.\u0275fac}),i})();function Bm(i,s){return Array.isArray(s)?s.reduce(Bm,i):Object.assign(Object.assign({},i),s)}let Ll=(()=>{class i{constructor(o,u,l,p,y){this._zone=o,this._injector=u,this._exceptionHandler=l,this._componentFactoryResolver=p,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new P.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),E=new P.y(C=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Di.assertNotInAngularZone(),Sp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{Di.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{x.unsubscribe(),N.unsubscribe()}});this.isStable=(0,oe.T)(w,E.pipe((0,te.B)()))}bootstrap(o,u){if(!this._initStatus.done)throw new Fe("405","");let l;l=o instanceof tc?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(l.componentType);const p=function(i){return i.isBoundToModule}(l)?void 0:this._injector.get(Al),w=l.create(ls.NULL,[],u||l.selector,p),E=w.location.nativeElement,C=w.injector.get(HE,null),x=C&&w.injector.get(Fm);return C&&x&&x.registerApplication(E,C),w.onDestroy(()=>{this.detachView(w.hostView),Ih(this.components,w),x&&x.unregisterApplication(E)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Fe("101","");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Ih(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(kl,[]).concat(this._bootstrapListeners).forEach(l=>l(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(o){return new(o||i)(q(Di),q(ls),q(Wc),q(fo),q(oc))},i.\u0275prov=en({token:i,factory:i.\u0275fac}),i})();function Ih(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}let $m=!0,kv=!1;function Lv(){return kv=!0,$m}function Dh(){if(kv)throw new Error("Cannot enable prod mode after platform setup.");$m=!1}let fb=(()=>{class i{}return i.__NG_ELEMENT_ID__=YE,i})();function YE(i){return function(i,s,o){if(Yi(i)&&!o){const u=Zt(i.index,s);return new fp(u,u)}return 47&i.type?new fp(s[16],s):null}(ln(),Ie(),16==(16&i))}class eI{constructor(){}supports(s){return Bu(s)}create(s){return new wb(s)}}const jv=(i,s)=>s;class wb{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||jv}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,u=this._removalsHead,l=0,p=null;for(;o||u;){const y=!u||o&&o.currentIndex<Db(u,l,p)?o:u,w=Db(y,l,p),E=y.currentIndex;if(y===u)l--,u=u._nextRemoved;else if(o=o._next,null==y.previousIndex)l++;else{p||(p=[]);const C=w-l,x=E-l;if(C!=x){for(let j=0;j<C;j++){const W=j<p.length?p[j]:p[j]=0,he=W+j;x<=he&&he<C&&(p[j]=W+1)}p[y.previousIndex]=x-C}}w!==E&&s(y,w,E)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!Bu(s))throw new Error(`Error trying to diff '${ne(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let l,p,y,o=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)p=s[w],y=this._trackByFn(w,p),null!==o&&Object.is(o.trackById,y)?(u&&(o=this._verifyReinsertion(o,p,y,w)),Object.is(o.item,p)||this._addIdentityChange(o,p)):(o=this._mismatch(o,p,y,w),u=!0),o=o._next}else l=0,function(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[rl()]();let u;for(;!(u=o.next()).done;)s(u.value)}}(s,w=>{y=this._trackByFn(l,w),null!==o&&Object.is(o.trackById,y)?(u&&(o=this._verifyReinsertion(o,w,y,l)),Object.is(o.item,w)||this._addIdentityChange(o,w)):(o=this._mismatch(o,w,y,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,u,l){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,p,l)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,p,l)):s=this._addAfter(new Eb(o,u),p,l),s}_verifyReinsertion(s,o,u,l){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?s=this._reinsertAfter(p,s._prev,l):s.currentIndex!=l&&(s.currentIndex=l,this._addToMoves(s,l)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const l=s._prevRemoved,p=s._nextRemoved;return null===l?this._removalsHead=p:l._nextRemoved=p,null===p?this._removalsTail=l:p._prevRemoved=l,this._insertAfter(s,o,u),this._addToMoves(s,u),s}_moveAfter(s,o,u){return this._unlink(s),this._insertAfter(s,o,u),this._addToMoves(s,u),s}_addAfter(s,o,u){return this._insertAfter(s,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,u){const l=null===o?this._itHead:o._next;return s._next=l,s._prev=o,null===l?this._itTail=s:l._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new Ib),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,u=s._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ib),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Eb{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Fn{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const o=s._prevDup,u=s._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class Ib{constructor(){this.map=new Map}put(s){const o=s.trackById;let u=this.map.get(o);u||(u=new Fn,this.map.set(o,u)),u.add(s)}get(s,o){const l=this.map.get(s);return l?l.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Db(i,s,o){const u=i.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+s+l}class dr{constructor(){}supports(s){return s instanceof Map||Kd(s)}create(){return new tI}}class tI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||Kd(s)))throw new Error(`Error trying to diff '${ne(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const p=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,p)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const u=s._prev;return o._next=s,o._prev=u,s._prev=o,u&&(u._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const l=this._records.get(s);this._maybeAddToChanges(l,o);const p=l._prev,y=l._next;return p&&(p._next=y),y&&(y._prev=p),l._next=null,l._prev=null,l}const u=new bb(s);return this._records.set(s,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(u=>o(s[u],u))}}class bb{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function nI(){return new Mp([new eI])}let Mp=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||nI()),deps:[[i,new Zr,new rr]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(i){return i.name||typeof i}(o)}'`)}}return i.\u0275prov=en({token:i,providedIn:"root",factory:nI}),i})();function rI(){return new qm([new dr])}let qm=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||rI()),deps:[[i,new Zr,new rr]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return i.\u0275prov=en({token:i,providedIn:"root",factory:rI}),i})();const Cb=[new dr],Ab=new Mp([new eI]),Sb=new qm(Cb),Ya=ZE(null,"core",[{provide:Om,useValue:"unknown"},{provide:Vm,deps:[ls]},{provide:Fm,deps:[]},{provide:Pm,deps:[]}]),Mb=[{provide:Ll,useClass:Ll,deps:[Di,ls,Wc,fo,oc]},{provide:dm,deps:[Di],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(o){s.push(o)}}},{provide:oc,useClass:oc,deps:[[new rr,Iv]]},{provide:Tv,useClass:Tv,deps:[]},ib,{provide:Mp,useFactory:function(){return Ab},deps:[]},{provide:qm,useFactory:function(){return Sb},deps:[]},{provide:Nm,useFactory:function(i){return i||"undefined"!=typeof $localize&&$localize.locale||Yu},deps:[[new fn(Nm),new rr,new Zr]]},{provide:km,useValue:"USD"}];let iI=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(q(Ll))},i.\u0275mod=zo({type:i}),i.\u0275inj=wn({providers:Mb}),i})()},3942:(rt,De,k)=>{"use strict";k.d(De,{Z:()=>Fe});var g=k(2090),K=k(4859),P=k(9681),oe=k(1877);class te{constructor(ie,G){this._delegate=ie,this.firebase=G,(0,P._addComponent)(ie,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=ie.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this._delegate.automaticDataCollectionEnabled=ie}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ie=>{this._delegate.checkDestroyed(),ie()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(ie,G=P._DEFAULT_ENTRY_NAME){var se;this._delegate.checkDestroyed();const we=this._delegate.container.getProvider(ie);return!we.isInitialized()&&"EXPLICIT"===(null===(se=we.getComponent())||void 0===se?void 0:se.instantiationMode)&&we.initialize(),we.getImmediate({identifier:G})}_removeServiceInstance(ie,G=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ie).clearInstance(G)}_addComponent(ie){(0,P._addComponent)(this._delegate,ie)}_addOrOverwriteComponent(ie){(0,P._addOrOverwriteComponent)(this._delegate,ie)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function ae(){const ke=function(ke){const ie={},G={__esModule:!0,initializeApp:function(Ze,at={}){const X=P.initializeApp(Ze,at);if((0,g.r3)(ie,X.name))return ie[X.name];const ue=new ke(X,G);return ie[X.name]=ue,ue},app:we,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function(Ze){const at=Ze.name,X=at.replace("-compat","");if(P._registerComponent(Ze)&&"PUBLIC"===Ze.type){const ue=(ge=we())=>{if("function"!=typeof ge[X])throw re.create("invalid-app-argument",{appName:at});return ge[X]()};void 0!==Ze.serviceProps&&(0,g.ZB)(ue,Ze.serviceProps),G[X]=ue,ke.prototype[X]=function(...ge){return this._getService.bind(this,at).apply(this,Ze.multipleInstances?ge:[])}}return"PUBLIC"===Ze.type?G[X]:null},removeApp:function(Ze){delete ie[Ze]},useAsService:function(Ze,at){return"serverAuth"===at?null:at},modularAPIs:P}};function we(Ze){if(!(0,g.r3)(ie,Ze=Ze||P._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:Ze});return ie[Ze]}return G.default=G,Object.defineProperty(G,"apps",{get:function(){return Object.keys(ie).map(Ze=>ie[Ze])}}),we.App=ke,G}(te);return ke.INTERNAL=Object.assign(Object.assign({},ke.INTERNAL),{createFirebaseNamespace:ae,extendNamespace:function(G){(0,g.ZB)(ke,G)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),ke}(),V=new oe.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ke=self.firebase.SDK_VERSION;ke&&ke.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Fe=B;(0,P.registerVersion)("@firebase/app-compat","0.1.12",undefined)},9681:(rt,De,k)=>{"use strict";k.r(De),k.d(De,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>go,_DEFAULT_ENTRY_NAME:()=>Vn,_addComponent:()=>Xt,_addOrOverwriteComponent:()=>Ir,_apps:()=>ht,_clearComponents:()=>wn,_components:()=>Dt,_getProvider:()=>en,_registerComponent:()=>Vr,_removeServiceInstance:()=>Go,deleteApp:()=>$n,getApp:()=>Ti,getApps:()=>Te,initializeApp:()=>ni,onLog:()=>kt,registerVersion:()=>ct,setLogLevel:()=>ri});var g=k(5861),K=k(4859),P=k(1877),oe=k(2090);class te{constructor(lt){this.container=lt}getPlatformInfoString(){return this.container.getProviders().map(Tt=>{if(function(ot){const lt=ot.getComponent();return"VERSION"===(null==lt?void 0:lt.type)}(Tt)){const St=Tt.getImmediate();return`${St.library}/${St.version}`}return null}).filter(Tt=>Tt).join(" ")}}const re="@firebase/app",ae=new P.Yd("@firebase/app"),Vn="[DEFAULT]",vt={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ht=new Map,Dt=new Map;function Xt(ot,lt){try{ot.container.addComponent(lt)}catch(Tt){ae.debug(`Component ${lt.name} failed to register with FirebaseApp ${ot.name}`,Tt)}}function Ir(ot,lt){ot.container.addOrOverwriteComponent(lt)}function Vr(ot){const lt=ot.name;if(Dt.has(lt))return ae.debug(`There were multiple attempts to register component ${lt}.`),!1;Dt.set(lt,ot);for(const Tt of ht.values())Xt(Tt,ot);return!0}function en(ot,lt){return ot.container.getProvider(lt)}function Go(ot,lt,Tt=Vn){en(ot,lt).clearInstance(Tt)}function wn(){Dt.clear()}const Rt=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class gn{constructor(lt,Tt,St){this._isDeleted=!1,this._options=Object.assign({},lt),this._config=Object.assign({},Tt),this._name=Tt.name,this._automaticDataCollectionEnabled=Tt.automaticDataCollectionEnabled,this._container=St,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(lt){this.checkDestroyed(),this._automaticDataCollectionEnabled=lt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(lt){this._isDeleted=lt}checkDestroyed(){if(this.isDeleted)throw Rt.create("app-deleted",{appName:this._name})}}const go="9.6.1";function ni(ot,lt={}){"object"!=typeof lt&&(lt={name:lt});const Tt=Object.assign({name:Vn,automaticDataCollectionEnabled:!1},lt),St=Tt.name;if("string"!=typeof St||!St)throw Rt.create("bad-app-name",{appName:String(St)});const jr=ht.get(St);if(jr){if((0,oe.vZ)(ot,jr.options)&&(0,oe.vZ)(Tt,jr.config))return jr;throw Rt.create("duplicate-app",{appName:St})}const jt=new K.H0(St);for(const st of Dt.values())jt.addComponent(st);const Ge=new gn(ot,Tt,jt);return ht.set(St,Ge),Ge}function Ti(ot=Vn){const lt=ht.get(ot);if(!lt)throw Rt.create("no-app",{appName:ot});return lt}function Te(){return Array.from(ht.values())}function $n(ot){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,g.Z)(function*(ot){const lt=ot.name;ht.has(lt)&&(ht.delete(lt),yield Promise.all(ot.container.getProviders().map(Tt=>Tt.delete())),ot.isDeleted=!0)})).apply(this,arguments)}function ct(ot,lt,Tt){var St;let jr=null!==(St=vt[ot])&&void 0!==St?St:ot;Tt&&(jr+=`-${Tt}`);const jt=jr.match(/\s|\//),Ge=lt.match(/\s|\//);if(jt||Ge){const st=[`Unable to register library "${jr}" with version "${lt}":`];return jt&&st.push(`library name "${jr}" contains illegal characters (whitespace or "/")`),jt&&Ge&&st.push("and"),Ge&&st.push(`version name "${lt}" contains illegal characters (whitespace or "/")`),void ae.warn(st.join(" "))}Vr(new K.wA(`${jr}-version`,()=>({library:jr,version:lt}),"VERSION"))}function kt(ot,lt){if(null!==ot&&"function"!=typeof ot)throw Rt.create("invalid-log-argument");(0,P.Am)(ot,lt)}function ri(ot){(0,P.Ub)(ot)}Vr(new K.wA("platform-logger",lt=>new te(lt),"PRIVATE")),ct(re,"0.7.11",""),ct(re,"0.7.11","esm2017"),ct("fire-js","")},4859:(rt,De,k)=>{"use strict";k.d(De,{wA:()=>P,H0:()=>ne});var g=k(5861),K=k(2090);class P{constructor(B,V,Y){this.name=B,this.instanceFactory=V,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const oe="[DEFAULT]";class te{constructor(B,V){this.name=B,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const V=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(V)){const Y=new K.BH;if(this.instancesDeferred.set(V,Y),this.isInitialized(V)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:V});Le&&Y.resolve(Le)}catch(Le){}}return this.instancesDeferred.get(V).promise}getImmediate(B){var V;const Y=this.normalizeInstanceIdentifier(null==B?void 0:B.identifier),Le=null!==(V=null==B?void 0:B.optional)&&void 0!==V&&V;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(Ee){if(Le)return null;throw Ee}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if("EAGER"===B.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:oe})}catch(V){}for(const[V,Y]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(V);try{const Ee=this.getOrInitializeService({instanceIdentifier:Le});Y.resolve(Ee)}catch(Ee){}}}}clearInstance(B=oe){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,g.Z)(function*(){const V=Array.from(B.instances.values());yield Promise.all([...V.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...V.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=oe){return this.instances.has(B)}getOptions(B=oe){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:V={}}=B,Y=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:Y,options:V});for(const[Ee,Fe]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(Ee)&&Fe.resolve(Le);return Le}onInit(B,V){var Y;const Le=this.normalizeInstanceIdentifier(V),Ee=null!==(Y=this.onInitCallbacks.get(Le))&&void 0!==Y?Y:new Set;Ee.add(B),this.onInitCallbacks.set(Le,Ee);const Fe=this.instances.get(Le);return Fe&&B(Fe,Le),()=>{Ee.delete(B)}}invokeOnInitCallbacks(B,V){const Y=this.onInitCallbacks.get(V);if(Y)for(const Le of Y)try{Le(B,V)}catch(Ee){}}getOrInitializeService({instanceIdentifier:B,options:V={}}){let Y=this.instances.get(B);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(ae=B,ae===oe?void 0:ae),options:V}),this.instances.set(B,Y),this.instancesOptions.set(B,V),this.invokeOnInitCallbacks(Y,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,Y)}catch(Le){}var ae;return Y||null}normalizeInstanceIdentifier(B=oe){return this.component?this.component.multipleInstances?B:oe:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ne{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const V=this.getProvider(B.name);if(V.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);V.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const V=new te(B,this);return this.providers.set(B,V),V}getProviders(){return Array.from(this.providers.values())}}},1877:(rt,De,k)=>{"use strict";k.d(De,{in:()=>K,Yd:()=>re,Ub:()=>ne,Am:()=>ae});const g=[];var K=(()=>{return(B=K||(K={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",K;var B})();const P={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},oe=K.INFO,te={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},de=(B,V,...Y)=>{if(V<B.logLevel)return;const Le=(new Date).toISOString(),Ee=te[V];if(!Ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[Ee](`[${Le}]  ${B.name}:`,...Y)};class re{constructor(V){this.name=V,this._logLevel=oe,this._logHandler=de,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in K))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?P[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...V),this._logHandler(this,K.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...V),this._logHandler(this,K.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,K.INFO,...V),this._logHandler(this,K.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,K.WARN,...V),this._logHandler(this,K.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...V),this._logHandler(this,K.ERROR,...V)}}function ne(B){g.forEach(V=>{V.setLogLevel(B)})}function ae(B,V){for(const Y of g){let Le=null;V&&V.level&&(Le=P[V.level]),Y.userLogHandler=null===B?null:(Ee,Fe,...ke)=>{const ie=ke.map(G=>{if(null==G)return null;if("string"==typeof G)return G;if("number"==typeof G||"boolean"==typeof G)return G.toString();if(G instanceof Error)return G.message;try{return JSON.stringify(G)}catch(se){return null}}).filter(G=>G).join(" ");Fe>=(null!=Le?Le:Ee.logLevel)&&B({level:K[Fe].toLowerCase(),message:ie,args:ke,type:Ee.name})}}}},5861:(rt,De,k)=>{"use strict";function g(P,oe,te,de,re,ne,ae){try{var B=P[ne](ae),V=B.value}catch(Y){return void te(Y)}B.done?oe(V):Promise.resolve(V).then(de,re)}function K(P){return function(){var oe=this,te=arguments;return new Promise(function(de,re){var ne=P.apply(oe,te);function ae(V){g(ne,de,re,ae,B,"next",V)}function B(V){g(ne,de,re,ae,B,"throw",V)}ae(void 0)})}}k.d(De,{Z:()=>K})}},rt=>{rt(rt.s=8964)}]);